(function(){const g=document.createElement("link").relList;if(g&&g.supports&&g.supports("modulepreload"))return;for(const p of document.querySelectorAll('link[rel="modulepreload"]'))y(p);new MutationObserver(p=>{for(const C of p)if(C.type==="childList")for(const R of C.addedNodes)R.tagName==="LINK"&&R.rel==="modulepreload"&&y(R)}).observe(document,{childList:!0,subtree:!0});function f(p){const C={};return p.integrity&&(C.integrity=p.integrity),p.referrerPolicy&&(C.referrerPolicy=p.referrerPolicy),p.crossOrigin==="use-credentials"?C.credentials="include":p.crossOrigin==="anonymous"?C.credentials="omit":C.credentials="same-origin",C}function y(p){if(p.ep)return;p.ep=!0;const C=f(p);fetch(p.href,C)}})();function Gh(m){return m&&m.__esModule&&Object.prototype.hasOwnProperty.call(m,"default")?m.default:m}var yh={exports:{}},Ba={},xh={exports:{}},de={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sf;function xg(){if(Sf)return de;Sf=1;var m=Symbol.for("react.element"),g=Symbol.for("react.portal"),f=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),R=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),Z=Symbol.for("react.memo"),Y=Symbol.for("react.lazy"),D=Symbol.iterator;function K(z){return z===null||typeof z!="object"?null:(z=D&&z[D]||z["@@iterator"],typeof z=="function"?z:null)}var ct={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rt=Object.assign,pt={};function _t(z,st,It){this.props=z,this.context=st,this.refs=pt,this.updater=It||ct}_t.prototype.isReactComponent={},_t.prototype.setState=function(z,st){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,st,"setState")},_t.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function Ft(){}Ft.prototype=_t.prototype;function ut(z,st,It){this.props=z,this.context=st,this.refs=pt,this.updater=It||ct}var xt=ut.prototype=new Ft;xt.constructor=ut,rt(xt,_t.prototype),xt.isPureReactComponent=!0;var Mt=Array.isArray,Ct=Object.prototype.hasOwnProperty,Nt={current:null},Rt={key:!0,ref:!0,__self:!0,__source:!0};function P(z,st,It){var gt,yt={},Et=null,Ht=null;if(st!=null)for(gt in st.ref!==void 0&&(Ht=st.ref),st.key!==void 0&&(Et=""+st.key),st)Ct.call(st,gt)&&!Rt.hasOwnProperty(gt)&&(yt[gt]=st[gt]);var Q=arguments.length-2;if(Q===1)yt.children=It;else if(1<Q){for(var ve=Array(Q),ee=0;ee<Q;ee++)ve[ee]=arguments[ee+2];yt.children=ve}if(z&&z.defaultProps)for(gt in Q=z.defaultProps,Q)yt[gt]===void 0&&(yt[gt]=Q[gt]);return{$$typeof:m,type:z,key:Et,ref:Ht,props:yt,_owner:Nt.current}}function O(z,st){return{$$typeof:m,type:z.type,key:st,ref:z.ref,props:z.props,_owner:z._owner}}function F(z){return typeof z=="object"&&z!==null&&z.$$typeof===m}function $(z){var st={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(It){return st[It]})}var W=/\/+/g;function J(z,st){return typeof z=="object"&&z!==null&&z.key!=null?$(""+z.key):st.toString(36)}function q(z,st,It,gt,yt){var Et=typeof z;(Et==="undefined"||Et==="boolean")&&(z=null);var Ht=!1;if(z===null)Ht=!0;else switch(Et){case"string":case"number":Ht=!0;break;case"object":switch(z.$$typeof){case m:case g:Ht=!0}}if(Ht)return Ht=z,yt=yt(Ht),z=gt===""?"."+J(Ht,0):gt,Mt(yt)?(It="",z!=null&&(It=z.replace(W,"$&/")+"/"),q(yt,st,It,"",function(ee){return ee})):yt!=null&&(F(yt)&&(yt=O(yt,It+(!yt.key||Ht&&Ht.key===yt.key?"":(""+yt.key).replace(W,"$&/")+"/")+z)),st.push(yt)),1;if(Ht=0,gt=gt===""?".":gt+":",Mt(z))for(var Q=0;Q<z.length;Q++){Et=z[Q];var ve=gt+J(Et,Q);Ht+=q(Et,st,It,ve,yt)}else if(ve=K(z),typeof ve=="function")for(z=ve.call(z),Q=0;!(Et=z.next()).done;)Et=Et.value,ve=gt+J(Et,Q++),Ht+=q(Et,st,It,ve,yt);else if(Et==="object")throw st=String(z),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.");return Ht}function U(z,st,It){if(z==null)return z;var gt=[],yt=0;return q(z,gt,"","",function(Et){return st.call(It,Et,yt++)}),gt}function X(z){if(z._status===-1){var st=z._result;st=st(),st.then(function(It){(z._status===0||z._status===-1)&&(z._status=1,z._result=It)},function(It){(z._status===0||z._status===-1)&&(z._status=2,z._result=It)}),z._status===-1&&(z._status=0,z._result=st)}if(z._status===1)return z._result.default;throw z._result}var et={current:null},A={transition:null},it={ReactCurrentDispatcher:et,ReactCurrentBatchConfig:A,ReactCurrentOwner:Nt};function H(){throw Error("act(...) is not supported in production builds of React.")}return de.Children={map:U,forEach:function(z,st,It){U(z,function(){st.apply(this,arguments)},It)},count:function(z){var st=0;return U(z,function(){st++}),st},toArray:function(z){return U(z,function(st){return st})||[]},only:function(z){if(!F(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},de.Component=_t,de.Fragment=f,de.Profiler=p,de.PureComponent=ut,de.StrictMode=y,de.Suspense=b,de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=it,de.act=H,de.cloneElement=function(z,st,It){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var gt=rt({},z.props),yt=z.key,Et=z.ref,Ht=z._owner;if(st!=null){if(st.ref!==void 0&&(Et=st.ref,Ht=Nt.current),st.key!==void 0&&(yt=""+st.key),z.type&&z.type.defaultProps)var Q=z.type.defaultProps;for(ve in st)Ct.call(st,ve)&&!Rt.hasOwnProperty(ve)&&(gt[ve]=st[ve]===void 0&&Q!==void 0?Q[ve]:st[ve])}var ve=arguments.length-2;if(ve===1)gt.children=It;else if(1<ve){Q=Array(ve);for(var ee=0;ee<ve;ee++)Q[ee]=arguments[ee+2];gt.children=Q}return{$$typeof:m,type:z.type,key:yt,ref:Et,props:gt,_owner:Ht}},de.createContext=function(z){return z={$$typeof:R,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:C,_context:z},z.Consumer=z},de.createElement=P,de.createFactory=function(z){var st=P.bind(null,z);return st.type=z,st},de.createRef=function(){return{current:null}},de.forwardRef=function(z){return{$$typeof:S,render:z}},de.isValidElement=F,de.lazy=function(z){return{$$typeof:Y,_payload:{_status:-1,_result:z},_init:X}},de.memo=function(z,st){return{$$typeof:Z,type:z,compare:st===void 0?null:st}},de.startTransition=function(z){var st=A.transition;A.transition={};try{z()}finally{A.transition=st}},de.unstable_act=H,de.useCallback=function(z,st){return et.current.useCallback(z,st)},de.useContext=function(z){return et.current.useContext(z)},de.useDebugValue=function(){},de.useDeferredValue=function(z){return et.current.useDeferredValue(z)},de.useEffect=function(z,st){return et.current.useEffect(z,st)},de.useId=function(){return et.current.useId()},de.useImperativeHandle=function(z,st,It){return et.current.useImperativeHandle(z,st,It)},de.useInsertionEffect=function(z,st){return et.current.useInsertionEffect(z,st)},de.useLayoutEffect=function(z,st){return et.current.useLayoutEffect(z,st)},de.useMemo=function(z,st){return et.current.useMemo(z,st)},de.useReducer=function(z,st,It){return et.current.useReducer(z,st,It)},de.useRef=function(z){return et.current.useRef(z)},de.useState=function(z){return et.current.useState(z)},de.useSyncExternalStore=function(z,st,It){return et.current.useSyncExternalStore(z,st,It)},de.useTransition=function(){return et.current.useTransition()},de.version="18.3.1",de}var Lf;function Zh(){return Lf||(Lf=1,xh.exports=xg()),xh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var If;function kg(){if(If)return Ba;If=1;var m=Zh(),g=Symbol.for("react.element"),f=Symbol.for("react.fragment"),y=Object.prototype.hasOwnProperty,p=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,C={key:!0,ref:!0,__self:!0,__source:!0};function R(S,b,Z){var Y,D={},K=null,ct=null;Z!==void 0&&(K=""+Z),b.key!==void 0&&(K=""+b.key),b.ref!==void 0&&(ct=b.ref);for(Y in b)y.call(b,Y)&&!C.hasOwnProperty(Y)&&(D[Y]=b[Y]);if(S&&S.defaultProps)for(Y in b=S.defaultProps,b)D[Y]===void 0&&(D[Y]=b[Y]);return{$$typeof:g,type:S,key:K,ref:ct,props:D,_owner:p.current}}return Ba.Fragment=f,Ba.jsx=R,Ba.jsxs=R,Ba}var Nf;function wg(){return Nf||(Nf=1,yh.exports=kg()),yh.exports}var In=wg(),he=Zh();const Xa=Gh(he);var qu={},kh={exports:{}},li={},wh={exports:{}},Eh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tf;function Eg(){return Tf||(Tf=1,(function(m){function g(A,it){var H=A.length;A.push(it);t:for(;0<H;){var z=H-1>>>1,st=A[z];if(0<p(st,it))A[z]=it,A[H]=st,H=z;else break t}}function f(A){return A.length===0?null:A[0]}function y(A){if(A.length===0)return null;var it=A[0],H=A.pop();if(H!==it){A[0]=H;t:for(var z=0,st=A.length,It=st>>>1;z<It;){var gt=2*(z+1)-1,yt=A[gt],Et=gt+1,Ht=A[Et];if(0>p(yt,H))Et<st&&0>p(Ht,yt)?(A[z]=Ht,A[Et]=H,z=Et):(A[z]=yt,A[gt]=H,z=gt);else if(Et<st&&0>p(Ht,H))A[z]=Ht,A[Et]=H,z=Et;else break t}}return it}function p(A,it){var H=A.sortIndex-it.sortIndex;return H!==0?H:A.id-it.id}if(typeof performance=="object"&&typeof performance.now=="function"){var C=performance;m.unstable_now=function(){return C.now()}}else{var R=Date,S=R.now();m.unstable_now=function(){return R.now()-S}}var b=[],Z=[],Y=1,D=null,K=3,ct=!1,rt=!1,pt=!1,_t=typeof setTimeout=="function"?setTimeout:null,Ft=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function xt(A){for(var it=f(Z);it!==null;){if(it.callback===null)y(Z);else if(it.startTime<=A)y(Z),it.sortIndex=it.expirationTime,g(b,it);else break;it=f(Z)}}function Mt(A){if(pt=!1,xt(A),!rt)if(f(b)!==null)rt=!0,X(Ct);else{var it=f(Z);it!==null&&et(Mt,it.startTime-A)}}function Ct(A,it){rt=!1,pt&&(pt=!1,Ft(P),P=-1),ct=!0;var H=K;try{for(xt(it),D=f(b);D!==null&&(!(D.expirationTime>it)||A&&!$());){var z=D.callback;if(typeof z=="function"){D.callback=null,K=D.priorityLevel;var st=z(D.expirationTime<=it);it=m.unstable_now(),typeof st=="function"?D.callback=st:D===f(b)&&y(b),xt(it)}else y(b);D=f(b)}if(D!==null)var It=!0;else{var gt=f(Z);gt!==null&&et(Mt,gt.startTime-it),It=!1}return It}finally{D=null,K=H,ct=!1}}var Nt=!1,Rt=null,P=-1,O=5,F=-1;function $(){return!(m.unstable_now()-F<O)}function W(){if(Rt!==null){var A=m.unstable_now();F=A;var it=!0;try{it=Rt(!0,A)}finally{it?J():(Nt=!1,Rt=null)}}else Nt=!1}var J;if(typeof ut=="function")J=function(){ut(W)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,U=q.port2;q.port1.onmessage=W,J=function(){U.postMessage(null)}}else J=function(){_t(W,0)};function X(A){Rt=A,Nt||(Nt=!0,J())}function et(A,it){P=_t(function(){A(m.unstable_now())},it)}m.unstable_IdlePriority=5,m.unstable_ImmediatePriority=1,m.unstable_LowPriority=4,m.unstable_NormalPriority=3,m.unstable_Profiling=null,m.unstable_UserBlockingPriority=2,m.unstable_cancelCallback=function(A){A.callback=null},m.unstable_continueExecution=function(){rt||ct||(rt=!0,X(Ct))},m.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<A?Math.floor(1e3/A):5},m.unstable_getCurrentPriorityLevel=function(){return K},m.unstable_getFirstCallbackNode=function(){return f(b)},m.unstable_next=function(A){switch(K){case 1:case 2:case 3:var it=3;break;default:it=K}var H=K;K=it;try{return A()}finally{K=H}},m.unstable_pauseExecution=function(){},m.unstable_requestPaint=function(){},m.unstable_runWithPriority=function(A,it){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var H=K;K=A;try{return it()}finally{K=H}},m.unstable_scheduleCallback=function(A,it,H){var z=m.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?z+H:z):H=z,A){case 1:var st=-1;break;case 2:st=250;break;case 5:st=1073741823;break;case 4:st=1e4;break;default:st=5e3}return st=H+st,A={id:Y++,callback:it,priorityLevel:A,startTime:H,expirationTime:st,sortIndex:-1},H>z?(A.sortIndex=H,g(Z,A),f(b)===null&&A===f(Z)&&(pt?(Ft(P),P=-1):pt=!0,et(Mt,H-z))):(A.sortIndex=st,g(b,A),rt||ct||(rt=!0,X(Ct))),A},m.unstable_shouldYield=$,m.unstable_wrapCallback=function(A){var it=K;return function(){var H=K;K=it;try{return A.apply(this,arguments)}finally{K=H}}}})(Eh)),Eh}var Cf;function Sg(){return Cf||(Cf=1,wh.exports=Eg()),wh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pf;function Lg(){if(Pf)return li;Pf=1;var m=Zh(),g=Sg();function f(n){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+n,u=1;u<arguments.length;u++)r+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+n+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var y=new Set,p={};function C(n,r){R(n,r),R(n+"Capture",r)}function R(n,r){for(p[n]=r,n=0;n<r.length;n++)y.add(r[n])}var S=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),b=Object.prototype.hasOwnProperty,Z=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Y={},D={};function K(n){return b.call(D,n)?!0:b.call(Y,n)?!1:Z.test(n)?D[n]=!0:(Y[n]=!0,!1)}function ct(n,r,u,c){if(u!==null&&u.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:u!==null?!u.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function rt(n,r,u,c){if(r===null||typeof r>"u"||ct(n,r,u,c))return!0;if(c)return!1;if(u!==null)switch(u.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function pt(n,r,u,c,_,k,I){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=_,this.mustUseProperty=u,this.propertyName=n,this.type=r,this.sanitizeURL=k,this.removeEmptyString=I}var _t={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){_t[n]=new pt(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var r=n[0];_t[r]=new pt(r,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){_t[n]=new pt(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){_t[n]=new pt(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){_t[n]=new pt(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){_t[n]=new pt(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){_t[n]=new pt(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){_t[n]=new pt(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){_t[n]=new pt(n,5,!1,n.toLowerCase(),null,!1,!1)});var Ft=/[\-:]([a-z])/g;function ut(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var r=n.replace(Ft,ut);_t[r]=new pt(r,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var r=n.replace(Ft,ut);_t[r]=new pt(r,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var r=n.replace(Ft,ut);_t[r]=new pt(r,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){_t[n]=new pt(n,1,!1,n.toLowerCase(),null,!1,!1)}),_t.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){_t[n]=new pt(n,1,!1,n.toLowerCase(),null,!0,!0)});function xt(n,r,u,c){var _=_t.hasOwnProperty(r)?_t[r]:null;(_!==null?_.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(rt(r,u,_,c)&&(u=null),c||_===null?K(r)&&(u===null?n.removeAttribute(r):n.setAttribute(r,""+u)):_.mustUseProperty?n[_.propertyName]=u===null?_.type===3?!1:"":u:(r=_.attributeName,c=_.attributeNamespace,u===null?n.removeAttribute(r):(_=_.type,u=_===3||_===4&&u===!0?"":""+u,c?n.setAttributeNS(c,r,u):n.setAttribute(r,u))))}var Mt=m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ct=Symbol.for("react.element"),Nt=Symbol.for("react.portal"),Rt=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),$=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),et=Symbol.for("react.offscreen"),A=Symbol.iterator;function it(n){return n===null||typeof n!="object"?null:(n=A&&n[A]||n["@@iterator"],typeof n=="function"?n:null)}var H=Object.assign,z;function st(n){if(z===void 0)try{throw Error()}catch(u){var r=u.stack.trim().match(/\n( *(at )?)/);z=r&&r[1]||""}return`
`+z+n}var It=!1;function gt(n,r){if(!n||It)return"";It=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(dt){var c=dt}Reflect.construct(n,[],r)}else{try{r.call()}catch(dt){c=dt}n.call(r.prototype)}else{try{throw Error()}catch(dt){c=dt}n()}}catch(dt){if(dt&&c&&typeof dt.stack=="string"){for(var _=dt.stack.split(`
`),k=c.stack.split(`
`),I=_.length-1,G=k.length-1;1<=I&&0<=G&&_[I]!==k[G];)G--;for(;1<=I&&0<=G;I--,G--)if(_[I]!==k[G]){if(I!==1||G!==1)do if(I--,G--,0>G||_[I]!==k[G]){var j=`
`+_[I].replace(" at new "," at ");return n.displayName&&j.includes("<anonymous>")&&(j=j.replace("<anonymous>",n.displayName)),j}while(1<=I&&0<=G);break}}}finally{It=!1,Error.prepareStackTrace=u}return(n=n?n.displayName||n.name:"")?st(n):""}function yt(n){switch(n.tag){case 5:return st(n.type);case 16:return st("Lazy");case 13:return st("Suspense");case 19:return st("SuspenseList");case 0:case 2:case 15:return n=gt(n.type,!1),n;case 11:return n=gt(n.type.render,!1),n;case 1:return n=gt(n.type,!0),n;default:return""}}function Et(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Rt:return"Fragment";case Nt:return"Portal";case O:return"Profiler";case P:return"StrictMode";case J:return"Suspense";case q:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case $:return(n.displayName||"Context")+".Consumer";case F:return(n._context.displayName||"Context")+".Provider";case W:var r=n.render;return n=n.displayName,n||(n=r.displayName||r.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case U:return r=n.displayName||null,r!==null?r:Et(n.type)||"Memo";case X:r=n._payload,n=n._init;try{return Et(n(r))}catch{}}return null}function Ht(n){var r=n.type;switch(n.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=r.render,n=n.displayName||n.name||"",r.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Et(r);case 8:return r===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Q(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function ve(n){var r=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function ee(n){var r=ve(n)?"checked":"value",u=Object.getOwnPropertyDescriptor(n.constructor.prototype,r),c=""+n[r];if(!n.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var _=u.get,k=u.set;return Object.defineProperty(n,r,{configurable:!0,get:function(){return _.call(this)},set:function(I){c=""+I,k.call(this,I)}}),Object.defineProperty(n,r,{enumerable:u.enumerable}),{getValue:function(){return c},setValue:function(I){c=""+I},stopTracking:function(){n._valueTracker=null,delete n[r]}}}}function At(n){n._valueTracker||(n._valueTracker=ee(n))}function B(n){if(!n)return!1;var r=n._valueTracker;if(!r)return!0;var u=r.getValue(),c="";return n&&(c=ve(n)?n.checked?"true":"false":n.value),n=c,n!==u?(r.setValue(n),!0):!1}function ye(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Pe(n,r){var u=r.checked;return H({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??n._wrapperState.initialChecked})}function ge(n,r){var u=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;u=Q(r.value!=null?r.value:u),n._wrapperState={initialChecked:c,initialValue:u,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function ds(n,r){r=r.checked,r!=null&&xt(n,"checked",r,!1)}function Hi(n,r){ds(n,r);var u=Q(r.value),c=r.type;if(u!=null)c==="number"?(u===0&&n.value===""||n.value!=u)&&(n.value=""+u):n.value!==""+u&&(n.value=""+u);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}r.hasOwnProperty("value")?Lt(n,r.type,u):r.hasOwnProperty("defaultValue")&&Lt(n,r.type,Q(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(n.defaultChecked=!!r.defaultChecked)}function Fr(n,r,u){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+n._wrapperState.initialValue,u||r===n.value||(n.value=r),n.defaultValue=r}u=n.name,u!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,u!==""&&(n.name=u)}function Lt(n,r,u){(r!=="number"||ye(n.ownerDocument)!==n)&&(u==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+u&&(n.defaultValue=""+u))}var Vi=Array.isArray;function fi(n,r,u,c){if(n=n.options,r){r={};for(var _=0;_<u.length;_++)r["$"+u[_]]=!0;for(u=0;u<n.length;u++)_=r.hasOwnProperty("$"+n[u].value),n[u].selected!==_&&(n[u].selected=_),_&&c&&(n[u].defaultSelected=!0)}else{for(u=""+Q(u),r=null,_=0;_<n.length;_++){if(n[_].value===u){n[_].selected=!0,c&&(n[_].defaultSelected=!0);return}r!==null||n[_].disabled||(r=n[_])}r!==null&&(r.selected=!0)}}function $n(n,r){if(r.dangerouslySetInnerHTML!=null)throw Error(f(91));return H({},r,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function eo(n,r){var u=r.value;if(u==null){if(u=r.children,r=r.defaultValue,u!=null){if(r!=null)throw Error(f(92));if(Vi(u)){if(1<u.length)throw Error(f(93));u=u[0]}r=u}r==null&&(r=""),u=r}n._wrapperState={initialValue:Q(u)}}function ne(n,r){var u=Q(r.value),c=Q(r.defaultValue);u!=null&&(u=""+u,u!==n.value&&(n.value=u),r.defaultValue==null&&n.defaultValue!==u&&(n.defaultValue=u)),c!=null&&(n.defaultValue=""+c)}function hr(n){var r=n.textContent;r===n._wrapperState.initialValue&&r!==""&&r!==null&&(n.value=r)}function Wi(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function cr(n,r){return n==null||n==="http://www.w3.org/1999/xhtml"?Wi(r):n==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Vt,gs=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,u,c,_){MSApp.execUnsafeLocalFunction(function(){return n(r,u,c,_)})}:n})(function(n,r){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=r;else{for(Vt=Vt||document.createElement("div"),Vt.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=Vt.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;r.firstChild;)n.appendChild(r.firstChild)}});function oe(n,r){if(r){var u=n.firstChild;if(u&&u===n.lastChild&&u.nodeType===3){u.nodeValue=r;return}}n.textContent=r}var Wt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},da=["Webkit","ms","Moz","O"];Object.keys(Wt).forEach(function(n){da.forEach(function(r){r=r+n.charAt(0).toUpperCase()+n.substring(1),Wt[r]=Wt[n]})});function bn(n,r,u){return r==null||typeof r=="boolean"||r===""?"":u||typeof r!="number"||r===0||Wt.hasOwnProperty(n)&&Wt[n]?(""+r).trim():r+"px"}function ms(n,r){n=n.style;for(var u in r)if(r.hasOwnProperty(u)){var c=u.indexOf("--")===0,_=bn(u,r[u],c);u==="float"&&(u="cssFloat"),c?n.setProperty(u,_):n[u]=_}}var Xt=H({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function no(n,r){if(r){if(Xt[n]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(f(137,n));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(f(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(f(61))}if(r.style!=null&&typeof r.style!="object")throw Error(f(62))}}function Xi(n,r){if(n.indexOf("-")===-1)return typeof r.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Br=null;function fn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Si=null,en=null,Li=null;function Gr(n){if(n=ns(n)){if(typeof Si!="function")throw Error(f(280));var r=n.stateNode;r&&(r=Vo(r),Si(n.stateNode,n.type,r))}}function Fo(n){en?Li?Li.push(n):Li=[n]:en=n}function io(){if(en){var n=en,r=Li;if(Li=en=null,Gr(n),r)for(n=0;n<r.length;n++)Gr(r[n])}}function Ii(n,r){return n(r)}function Pt(){}var fr=!1;function ji(n,r,u){if(fr)return n(r,u);fr=!0;try{return Ii(n,r,u)}finally{fr=!1,(en!==null||Li!==null)&&(Pt(),io())}}function di(n,r){var u=n.stateNode;if(u===null)return null;var c=Vo(u);if(c===null)return null;u=c[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break t;default:n=!1}if(n)return null;if(u&&typeof u!="function")throw Error(f(231,r,typeof u));return u}var ps=!1;if(S)try{var Ki={};Object.defineProperty(Ki,"passive",{get:function(){ps=!0}}),window.addEventListener("test",Ki,Ki),window.removeEventListener("test",Ki,Ki)}catch{ps=!1}function Bo(n,r,u,c,_,k,I,G,j){var dt=Array.prototype.slice.call(arguments,3);try{r.apply(u,dt)}catch(wt){this.onError(wt)}}var be=!1,Gt=null,Ni=!1,vs=null,ro={onError:function(n){be=!0,Gt=n}};function Go(n,r,u,c,_,k,I,G,j){be=!1,Gt=null,Bo.apply(ro,arguments)}function on(n,r,u,c,_,k,I,G,j){if(Go.apply(this,arguments),be){if(be){var dt=Gt;be=!1,Gt=null}else throw Error(f(198));Ni||(Ni=!0,vs=dt)}}function Qn(n){var r=n,u=n;if(n.alternate)for(;r.return;)r=r.return;else{n=r;do r=n,(r.flags&4098)!==0&&(u=r.return),n=r.return;while(n)}return r.tag===3?u:null}function Fn(n){if(n.tag===13){var r=n.memoizedState;if(r===null&&(n=n.alternate,n!==null&&(r=n.memoizedState)),r!==null)return r.dehydrated}return null}function gi(n){if(Qn(n)!==n)throw Error(f(188))}function $i(n){var r=n.alternate;if(!r){if(r=Qn(n),r===null)throw Error(f(188));return r!==n?null:n}for(var u=n,c=r;;){var _=u.return;if(_===null)break;var k=_.alternate;if(k===null){if(c=_.return,c!==null){u=c;continue}break}if(_.child===k.child){for(k=_.child;k;){if(k===u)return gi(_),n;if(k===c)return gi(_),r;k=k.sibling}throw Error(f(188))}if(u.return!==c.return)u=_,c=k;else{for(var I=!1,G=_.child;G;){if(G===u){I=!0,u=_,c=k;break}if(G===c){I=!0,c=_,u=k;break}G=G.sibling}if(!I){for(G=k.child;G;){if(G===u){I=!0,u=k,c=_;break}if(G===c){I=!0,c=k,u=_;break}G=G.sibling}if(!I)throw Error(f(189))}}if(u.alternate!==c)throw Error(f(190))}if(u.tag!==3)throw Error(f(188));return u.stateNode.current===u?n:r}function _s(n){return n=$i(n),n!==null?Zr(n):null}function Zr(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var r=Zr(n);if(r!==null)return r;n=n.sibling}return null}var dr=g.unstable_scheduleCallback,Me=g.unstable_cancelCallback,ga=g.unstable_shouldYield,ys=g.unstable_requestPaint,Ie=g.unstable_now,Ur=g.unstable_getCurrentPriorityLevel,qr=g.unstable_ImmediatePriority,xs=g.unstable_UserBlockingPriority,Yr=g.unstable_NormalPriority,so=g.unstable_LowPriority,nn=g.unstable_IdlePriority,Jn=null,yn=null;function ti(n){if(yn&&typeof yn.onCommitFiberRoot=="function")try{yn.onCommitFiberRoot(Jn,n,void 0,(n.current.flags&128)===128)}catch{}}var te=Math.clz32?Math.clz32:gr,Ce=Math.log,ks=Math.LN2;function gr(n){return n>>>=0,n===0?32:31-(Ce(n)/ks|0)|0}var ei=64,Qi=4194304;function Qt(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function me(n,r){var u=n.pendingLanes;if(u===0)return 0;var c=0,_=n.suspendedLanes,k=n.pingedLanes,I=u&268435455;if(I!==0){var G=I&~_;G!==0?c=Qt(G):(k&=I,k!==0&&(c=Qt(k)))}else I=u&~_,I!==0?c=Qt(I):k!==0&&(c=Qt(k));if(c===0)return 0;if(r!==0&&r!==c&&(r&_)===0&&(_=c&-c,k=r&-r,_>=k||_===16&&(k&4194240)!==0))return r;if((c&4)!==0&&(c|=u&16),r=n.entangledLanes,r!==0)for(n=n.entanglements,r&=c;0<r;)u=31-te(r),_=1<<u,c|=n[u],r&=~_;return c}function ni(n,r){switch(n){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hr(n,r){for(var u=n.suspendedLanes,c=n.pingedLanes,_=n.expirationTimes,k=n.pendingLanes;0<k;){var I=31-te(k),G=1<<I,j=_[I];j===-1?((G&u)===0||(G&c)!==0)&&(_[I]=ni(G,r)):j<=r&&(n.expiredLanes|=G),k&=~G}}function Ze(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Zo(){var n=ei;return ei<<=1,(ei&4194240)===0&&(ei=64),n}function mr(n){for(var r=[],u=0;31>u;u++)r.push(n);return r}function Bn(n,r,u){n.pendingLanes|=r,r!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,r=31-te(r),n[r]=u}function Fe(n,r){var u=n.pendingLanes&~r;n.pendingLanes=r,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=r,n.mutableReadLanes&=r,n.entangledLanes&=r,r=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<u;){var _=31-te(u),k=1<<_;r[_]=0,c[_]=-1,n[_]=-1,u&=~k}}function ii(n,r){var u=n.entangledLanes|=r;for(n=n.entanglements;u;){var c=31-te(u),_=1<<c;_&r|n[c]&r&&(n[c]|=r),u&=~_}}var le=0;function Ji(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var ws,Ti,Es,pr,xe,Gn=!1,vr=[],xn=null,Be=null,Ae=null,Ci=new Map,Jt=new Map,Je=[],Ee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _r(n,r){switch(n){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":Be=null;break;case"mouseover":case"mouseout":Ae=null;break;case"pointerover":case"pointerout":Ci.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jt.delete(r.pointerId)}}function tr(n,r,u,c,_,k){return n===null||n.nativeEvent!==k?(n={blockedOn:r,domEventName:u,eventSystemFlags:c,nativeEvent:k,targetContainers:[_]},r!==null&&(r=ns(r),r!==null&&Ti(r)),n):(n.eventSystemFlags|=c,r=n.targetContainers,_!==null&&r.indexOf(_)===-1&&r.push(_),n)}function Ss(n,r,u,c,_){switch(r){case"focusin":return xn=tr(xn,n,r,u,c,_),!0;case"dragenter":return Be=tr(Be,n,r,u,c,_),!0;case"mouseover":return Ae=tr(Ae,n,r,u,c,_),!0;case"pointerover":var k=_.pointerId;return Ci.set(k,tr(Ci.get(k)||null,n,r,u,c,_)),!0;case"gotpointercapture":return k=_.pointerId,Jt.set(k,tr(Jt.get(k)||null,n,r,u,c,_)),!0}return!1}function fe(n){var r=es(n.target);if(r!==null){var u=Qn(r);if(u!==null){if(r=u.tag,r===13){if(r=Fn(u),r!==null){n.blockedOn=r,xe(n.priority,function(){Es(u)});return}}else if(r===3&&u.stateNode.current.memoizedState.isDehydrated){n.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Ue(n){if(n.blockedOn!==null)return!1;for(var r=n.targetContainers;0<r.length;){var u=Vr(n.domEventName,n.eventSystemFlags,r[0],n.nativeEvent);if(u===null){u=n.nativeEvent;var c=new u.constructor(u.type,u);Br=c,u.target.dispatchEvent(c),Br=null}else return r=ns(u),r!==null&&Ti(r),n.blockedOn=u,!1;r.shift()}return!0}function yr(n,r,u){Ue(n)&&u.delete(r)}function xr(){Gn=!1,xn!==null&&Ue(xn)&&(xn=null),Be!==null&&Ue(Be)&&(Be=null),Ae!==null&&Ue(Ae)&&(Ae=null),Ci.forEach(yr),Jt.forEach(yr)}function Le(n,r){n.blockedOn===r&&(n.blockedOn=null,Gn||(Gn=!0,g.unstable_scheduleCallback(g.unstable_NormalPriority,xr)))}function Nn(n){function r(_){return Le(_,n)}if(0<vr.length){Le(vr[0],n);for(var u=1;u<vr.length;u++){var c=vr[u];c.blockedOn===n&&(c.blockedOn=null)}}for(xn!==null&&Le(xn,n),Be!==null&&Le(Be,n),Ae!==null&&Le(Ae,n),Ci.forEach(r),Jt.forEach(r),u=0;u<Je.length;u++)c=Je[u],c.blockedOn===n&&(c.blockedOn=null);for(;0<Je.length&&(u=Je[0],u.blockedOn===null);)fe(u),u.blockedOn===null&&Je.shift()}var De=Mt.ReactCurrentBatchConfig,kr=!0;function oo(n,r,u,c){var _=le,k=De.transition;De.transition=null;try{le=1,wr(n,r,u,c)}finally{le=_,De.transition=k}}function ao(n,r,u,c){var _=le,k=De.transition;De.transition=null;try{le=4,wr(n,r,u,c)}finally{le=_,De.transition=k}}function wr(n,r,u,c){if(kr){var _=Vr(n,r,u,c);if(_===null)i(n,r,c,Ls,u),_r(n,c);else if(Ss(_,n,r,u,c))c.stopPropagation();else if(_r(n,c),r&4&&-1<Ee.indexOf(n)){for(;_!==null;){var k=ns(_);if(k!==null&&ws(k),k=Vr(n,r,u,c),k===null&&i(n,r,c,Ls,u),k===_)break;_=k}_!==null&&c.stopPropagation()}else i(n,r,c,null,u)}}var Ls=null;function Vr(n,r,u,c){if(Ls=null,n=fn(c),n=es(n),n!==null)if(r=Qn(n),r===null)n=null;else if(u=r.tag,u===13){if(n=Fn(r),n!==null)return n;n=null}else if(u===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null);return Ls=n,null}function ie(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ur()){case qr:return 1;case xs:return 4;case Yr:case so:return 16;case nn:return 536870912;default:return 16}default:return 16}}var Zn=null,kn=null,qe=null;function Pi(){if(qe)return qe;var n,r=kn,u=r.length,c,_="value"in Zn?Zn.value:Zn.textContent,k=_.length;for(n=0;n<u&&r[n]===_[n];n++);var I=u-n;for(c=1;c<=I&&r[u-c]===_[k-c];c++);return qe=_.slice(n,1<c?1-c:void 0)}function Is(n){var r=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&r===13&&(n=13)):n=r,n===10&&(n=13),32<=n||n===13?n:0}function Un(){return!0}function uo(){return!1}function Ye(n){function r(u,c,_,k,I){this._reactName=u,this._targetInst=_,this.type=c,this.nativeEvent=k,this.target=I,this.currentTarget=null;for(var G in n)n.hasOwnProperty(G)&&(u=n[G],this[G]=u?u(k):k[G]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Un:uo,this.isPropagationStopped=uo,this}return H(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Un)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Un)},persist:function(){},isPersistent:Un}),r}var Er={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tn=Ye(Er),Oi=H({},Er,{view:0,detail:0}),ma=Ye(Oi),Cn,lo,Sr,qn=H({},Oi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:er,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Sr&&(Sr&&n.type==="mousemove"?(Cn=n.screenX-Sr.screenX,lo=n.screenY-Sr.screenY):lo=Cn=0,Sr=n),Cn)},movementY:function(n){return"movementY"in n?n.movementY:lo}}),ho=Ye(qn),Uo=H({},qn,{dataTransfer:0}),mi=Ye(Uo),wn=H({},Oi,{relatedTarget:0}),Ns=Ye(wn),co=H({},Er,{animationName:0,elapsedTime:0,pseudoElement:0}),pa=Ye(co),fo=H({},Er,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ts=Ye(fo),go=H({},Er,{data:0}),Cs=Ye(go),Pn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Wr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},He={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xr(n){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(n):(n=He[n])?!!r[n]:!1}function er(){return Xr}var En=H({},Oi,{key:function(n){if(n.key){var r=Pn[n.key]||n.key;if(r!=="Unidentified")return r}return n.type==="keypress"?(n=Is(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?Wr[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:er,charCode:function(n){return n.type==="keypress"?Is(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Is(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),mo=Ye(En),po=H({},qn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ps=Ye(po),vo=H({},Oi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:er}),_o=Ye(vo),va=H({},Er,{propertyName:0,elapsedTime:0,pseudoElement:0}),_a=Ye(va),qo=H({},qn,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),ya=Ye(qo),Yn=[9,13,27,32],Ri=S&&"CompositionEvent"in window,Lr=null;S&&"documentMode"in document&&(Lr=document.documentMode);var pi=S&&"TextEvent"in window&&!Lr,yo=S&&(!Ri||Lr&&8<Lr&&11>=Lr),nr=" ",Yo=!1;function Ir(n,r){switch(n){case"keyup":return Yn.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xo(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var vi=!1;function xa(n,r){switch(n){case"compositionend":return xo(r);case"keypress":return r.which!==32?null:(Yo=!0,nr);case"textInput":return n=r.data,n===nr&&Yo?null:n;default:return null}}function Mi(n,r){if(vi)return n==="compositionend"||!Ri&&Ir(n,r)?(n=Pi(),qe=kn=Zn=null,vi=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return yo&&r.locale!=="ko"?null:r.data;default:return null}}var jr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ko(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r==="input"?!!jr[n.type]:r==="textarea"}function Kr(n,r,u,c){Fo(c),r=h(r,"onChange"),0<r.length&&(u=new Tn("onChange","change",null,u,c),n.push({event:u,listeners:r}))}var $r=null,dn=null;function wo(n){wa(n,0)}function _i(n){var r=is(n);if(B(r))return n}function Ho(n,r){if(n==="change")return r}var Hn=!1;if(S){var Nr;if(S){var Os="oninput"in document;if(!Os){var yi=document.createElement("div");yi.setAttribute("oninput","return;"),Os=typeof yi.oninput=="function"}Nr=Os}else Nr=!1;Hn=Nr&&(!document.documentMode||9<document.documentMode)}function Qr(){$r&&($r.detachEvent("onpropertychange",Jr),dn=$r=null)}function Jr(n){if(n.propertyName==="value"&&_i(dn)){var r=[];Kr(r,dn,n,fn(n)),ji(wo,r)}}function an(n,r,u){n==="focusin"?(Qr(),$r=r,dn=u,$r.attachEvent("onpropertychange",Jr)):n==="focusout"&&Qr()}function un(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return _i(dn)}function o(n,r){if(n==="click")return _i(r)}function t(n,r){if(n==="input"||n==="change")return _i(r)}function e(n,r){return n===r&&(n!==0||1/n===1/r)||n!==n&&r!==r}var s=typeof Object.is=="function"?Object.is:e;function l(n,r){if(s(n,r))return!0;if(typeof n!="object"||n===null||typeof r!="object"||r===null)return!1;var u=Object.keys(n),c=Object.keys(r);if(u.length!==c.length)return!1;for(c=0;c<u.length;c++){var _=u[c];if(!b.call(r,_)||!s(n[_],r[_]))return!1}return!0}function d(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function x(n,r){var u=d(n);n=0;for(var c;u;){if(u.nodeType===3){if(c=n+u.textContent.length,n<=r&&c>=r)return{node:u,offset:r-n};n=c}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=d(u)}}function E(n,r){return n&&r?n===r?!0:n&&n.nodeType===3?!1:r&&r.nodeType===3?E(n,r.parentNode):"contains"in n?n.contains(r):n.compareDocumentPosition?!!(n.compareDocumentPosition(r)&16):!1:!1}function N(){for(var n=window,r=ye();r instanceof n.HTMLIFrameElement;){try{var u=typeof r.contentWindow.location.href=="string"}catch{u=!1}if(u)n=r.contentWindow;else break;r=ye(n.document)}return r}function M(n){var r=n&&n.nodeName&&n.nodeName.toLowerCase();return r&&(r==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||r==="textarea"||n.contentEditable==="true")}function tt(n){var r=N(),u=n.focusedElem,c=n.selectionRange;if(r!==u&&u&&u.ownerDocument&&E(u.ownerDocument.documentElement,u)){if(c!==null&&M(u)){if(r=c.start,n=c.end,n===void 0&&(n=r),"selectionStart"in u)u.selectionStart=r,u.selectionEnd=Math.min(n,u.value.length);else if(n=(r=u.ownerDocument||document)&&r.defaultView||window,n.getSelection){n=n.getSelection();var _=u.textContent.length,k=Math.min(c.start,_);c=c.end===void 0?k:Math.min(c.end,_),!n.extend&&k>c&&(_=c,c=k,k=_),_=x(u,k);var I=x(u,c);_&&I&&(n.rangeCount!==1||n.anchorNode!==_.node||n.anchorOffset!==_.offset||n.focusNode!==I.node||n.focusOffset!==I.offset)&&(r=r.createRange(),r.setStart(_.node,_.offset),n.removeAllRanges(),k>c?(n.addRange(r),n.extend(I.node,I.offset)):(r.setEnd(I.node,I.offset),n.addRange(r)))}}for(r=[],n=u;n=n.parentNode;)n.nodeType===1&&r.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<r.length;u++)n=r[u],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var ot=S&&"documentMode"in document&&11>=document.documentMode,mt=null,Ot=null,zt=null,qt=!1;function ce(n,r,u){var c=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;qt||mt==null||mt!==ye(c)||(c=mt,"selectionStart"in c&&M(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),zt&&l(zt,c)||(zt=c,c=h(Ot,"onSelect"),0<c.length&&(r=new Tn("onSelect","select",null,r,u),n.push({event:r,listeners:c}),r.target=mt)))}function se(n,r){var u={};return u[n.toLowerCase()]=r.toLowerCase(),u["Webkit"+n]="webkit"+r,u["Moz"+n]="moz"+r,u}var pe={animationend:se("Animation","AnimationEnd"),animationiteration:se("Animation","AnimationIteration"),animationstart:se("Animation","AnimationStart"),transitionend:se("Transition","TransitionEnd")},Ne={},$e={};S&&($e=document.createElement("div").style,"AnimationEvent"in window||(delete pe.animationend.animation,delete pe.animationiteration.animation,delete pe.animationstart.animation),"TransitionEvent"in window||delete pe.transitionend.transition);function Vn(n){if(Ne[n])return Ne[n];if(!pe[n])return n;var r=pe[n],u;for(u in r)if(r.hasOwnProperty(u)&&u in $e)return Ne[n]=r[u];return n}var Tr=Vn("animationend"),Wn=Vn("animationiteration"),Rs=Vn("animationstart"),Ms=Vn("transitionend"),ir=new Map,Eo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function On(n,r){ir.set(n,r),C(r,[n])}for(var xi=0;xi<Eo.length;xi++){var Cr=Eo[xi],eu=Cr.toLowerCase(),dl=Cr[0].toUpperCase()+Cr.slice(1);On(eu,"on"+dl)}On(Tr,"onAnimationEnd"),On(Wn,"onAnimationIteration"),On(Rs,"onAnimationStart"),On("dblclick","onDoubleClick"),On("focusin","onFocus"),On("focusout","onBlur"),On(Ms,"onTransitionEnd"),R("onMouseEnter",["mouseout","mouseover"]),R("onMouseLeave",["mouseout","mouseover"]),R("onPointerEnter",["pointerout","pointerover"]),R("onPointerLeave",["pointerout","pointerover"]),C("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),C("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),C("onBeforeInput",["compositionend","keypress","textInput","paste"]),C("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),C("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),C("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var As="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nu=new Set("cancel close invalid load scroll toggle".split(" ").concat(As));function ka(n,r,u){var c=n.type||"unknown-event";n.currentTarget=u,on(c,r,void 0,n),n.currentTarget=null}function wa(n,r){r=(r&4)!==0;for(var u=0;u<n.length;u++){var c=n[u],_=c.event;c=c.listeners;t:{var k=void 0;if(r)for(var I=c.length-1;0<=I;I--){var G=c[I],j=G.instance,dt=G.currentTarget;if(G=G.listener,j!==k&&_.isPropagationStopped())break t;ka(_,G,dt),k=j}else for(I=0;I<c.length;I++){if(G=c[I],j=G.instance,dt=G.currentTarget,G=G.listener,j!==k&&_.isPropagationStopped())break t;ka(_,G,dt),k=j}}}if(Ni)throw n=vs,Ni=!1,vs=null,n}function Te(n,r){var u=r[Fs];u===void 0&&(u=r[Fs]=new Set);var c=n+"__bubble";u.has(c)||(iu(r,n,2,!1),u.add(c))}function Ea(n,r,u){var c=0;r&&(c|=4),iu(u,n,c,r)}var So="_reactListening"+Math.random().toString(36).slice(2);function Ds(n){if(!n[So]){n[So]=!0,y.forEach(function(u){u!=="selectionchange"&&(nu.has(u)||Ea(u,!1,n),Ea(u,!0,n))});var r=n.nodeType===9?n:n.ownerDocument;r===null||r[So]||(r[So]=!0,Ea("selectionchange",!1,r))}}function iu(n,r,u,c){switch(ie(r)){case 1:var _=oo;break;case 4:_=ao;break;default:_=wr}u=_.bind(null,r,u,n),_=void 0,!ps||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(_=!0),c?_!==void 0?n.addEventListener(r,u,{capture:!0,passive:_}):n.addEventListener(r,u,!0):_!==void 0?n.addEventListener(r,u,{passive:_}):n.addEventListener(r,u,!1)}function i(n,r,u,c,_){var k=c;if((r&1)===0&&(r&2)===0&&c!==null)t:for(;;){if(c===null)return;var I=c.tag;if(I===3||I===4){var G=c.stateNode.containerInfo;if(G===_||G.nodeType===8&&G.parentNode===_)break;if(I===4)for(I=c.return;I!==null;){var j=I.tag;if((j===3||j===4)&&(j=I.stateNode.containerInfo,j===_||j.nodeType===8&&j.parentNode===_))return;I=I.return}for(;G!==null;){if(I=es(G),I===null)return;if(j=I.tag,j===5||j===6){c=k=I;continue t}G=G.parentNode}}c=c.return}ji(function(){var dt=k,wt=fn(u),St=[];t:{var kt=ir.get(n);if(kt!==void 0){var bt=Tn,Zt=n;switch(n){case"keypress":if(Is(u)===0)break t;case"keydown":case"keyup":bt=mo;break;case"focusin":Zt="focus",bt=Ns;break;case"focusout":Zt="blur",bt=Ns;break;case"beforeblur":case"afterblur":bt=Ns;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":bt=ho;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":bt=mi;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":bt=_o;break;case Tr:case Wn:case Rs:bt=pa;break;case Ms:bt=_a;break;case"scroll":bt=ma;break;case"wheel":bt=ya;break;case"copy":case"cut":case"paste":bt=Ts;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":bt=Ps}var Ut=(r&4)!==0,tn=!Ut&&n==="scroll",lt=Ut?kt!==null?kt+"Capture":null:kt;Ut=[];for(var nt=dt,ht;nt!==null;){ht=nt;var Tt=ht.stateNode;if(ht.tag===5&&Tt!==null&&(ht=Tt,lt!==null&&(Tt=di(nt,lt),Tt!=null&&Ut.push(a(nt,Tt,ht)))),tn)break;nt=nt.return}0<Ut.length&&(kt=new bt(kt,Zt,null,u,wt),St.push({event:kt,listeners:Ut}))}}if((r&7)===0){t:{if(kt=n==="mouseover"||n==="pointerover",bt=n==="mouseout"||n==="pointerout",kt&&u!==Br&&(Zt=u.relatedTarget||u.fromElement)&&(es(Zt)||Zt[Se]))break t;if((bt||kt)&&(kt=wt.window===wt?wt:(kt=wt.ownerDocument)?kt.defaultView||kt.parentWindow:window,bt?(Zt=u.relatedTarget||u.toElement,bt=dt,Zt=Zt?es(Zt):null,Zt!==null&&(tn=Qn(Zt),Zt!==tn||Zt.tag!==5&&Zt.tag!==6)&&(Zt=null)):(bt=null,Zt=dt),bt!==Zt)){if(Ut=ho,Tt="onMouseLeave",lt="onMouseEnter",nt="mouse",(n==="pointerout"||n==="pointerover")&&(Ut=Ps,Tt="onPointerLeave",lt="onPointerEnter",nt="pointer"),tn=bt==null?kt:is(bt),ht=Zt==null?kt:is(Zt),kt=new Ut(Tt,nt+"leave",bt,u,wt),kt.target=tn,kt.relatedTarget=ht,Tt=null,es(wt)===dt&&(Ut=new Ut(lt,nt+"enter",Zt,u,wt),Ut.target=ht,Ut.relatedTarget=tn,Tt=Ut),tn=Tt,bt&&Zt)e:{for(Ut=bt,lt=Zt,nt=0,ht=Ut;ht;ht=v(ht))nt++;for(ht=0,Tt=lt;Tt;Tt=v(Tt))ht++;for(;0<nt-ht;)Ut=v(Ut),nt--;for(;0<ht-nt;)lt=v(lt),ht--;for(;nt--;){if(Ut===lt||lt!==null&&Ut===lt.alternate)break e;Ut=v(Ut),lt=v(lt)}Ut=null}else Ut=null;bt!==null&&w(St,kt,bt,Ut,!1),Zt!==null&&tn!==null&&w(St,tn,Zt,Ut,!0)}}t:{if(kt=dt?is(dt):window,bt=kt.nodeName&&kt.nodeName.toLowerCase(),bt==="select"||bt==="input"&&kt.type==="file")var Yt=Ho;else if(ko(kt))if(Hn)Yt=t;else{Yt=un;var Kt=an}else(bt=kt.nodeName)&&bt.toLowerCase()==="input"&&(kt.type==="checkbox"||kt.type==="radio")&&(Yt=o);if(Yt&&(Yt=Yt(n,dt))){Kr(St,Yt,u,wt);break t}Kt&&Kt(n,kt,dt),n==="focusout"&&(Kt=kt._wrapperState)&&Kt.controlled&&kt.type==="number"&&Lt(kt,"number",kt.value)}switch(Kt=dt?is(dt):window,n){case"focusin":(ko(Kt)||Kt.contentEditable==="true")&&(mt=Kt,Ot=dt,zt=null);break;case"focusout":zt=Ot=mt=null;break;case"mousedown":qt=!0;break;case"contextmenu":case"mouseup":case"dragend":qt=!1,ce(St,u,wt);break;case"selectionchange":if(ot)break;case"keydown":case"keyup":ce(St,u,wt)}var $t;if(Ri)t:{switch(n){case"compositionstart":var re="onCompositionStart";break t;case"compositionend":re="onCompositionEnd";break t;case"compositionupdate":re="onCompositionUpdate";break t}re=void 0}else vi?Ir(n,u)&&(re="onCompositionEnd"):n==="keydown"&&u.keyCode===229&&(re="onCompositionStart");re&&(yo&&u.locale!=="ko"&&(vi||re!=="onCompositionStart"?re==="onCompositionEnd"&&vi&&($t=Pi()):(Zn=wt,kn="value"in Zn?Zn.value:Zn.textContent,vi=!0)),Kt=h(dt,re),0<Kt.length&&(re=new Cs(re,n,null,u,wt),St.push({event:re,listeners:Kt}),$t?re.data=$t:($t=xo(u),$t!==null&&(re.data=$t)))),($t=pi?xa(n,u):Mi(n,u))&&(dt=h(dt,"onBeforeInput"),0<dt.length&&(wt=new Cs("onBeforeInput","beforeinput",null,u,wt),St.push({event:wt,listeners:dt}),wt.data=$t))}wa(St,r)})}function a(n,r,u){return{instance:n,listener:r,currentTarget:u}}function h(n,r){for(var u=r+"Capture",c=[];n!==null;){var _=n,k=_.stateNode;_.tag===5&&k!==null&&(_=k,k=di(n,u),k!=null&&c.unshift(a(n,k,_)),k=di(n,r),k!=null&&c.push(a(n,k,_))),n=n.return}return c}function v(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function w(n,r,u,c,_){for(var k=r._reactName,I=[];u!==null&&u!==c;){var G=u,j=G.alternate,dt=G.stateNode;if(j!==null&&j===c)break;G.tag===5&&dt!==null&&(G=dt,_?(j=di(u,k),j!=null&&I.unshift(a(u,j,G))):_||(j=di(u,k),j!=null&&I.push(a(u,j,G)))),u=u.return}I.length!==0&&n.push({event:r,listeners:I})}var T=/\r\n?/g,V=/\u0000|\uFFFD/g;function at(n){return(typeof n=="string"?n:""+n).replace(T,`
`).replace(V,"")}function ft(n,r,u){if(r=at(r),at(n)!==r&&u)throw Error(f(425))}function vt(){}var Dt=null,jt=null;function ue(n,r){return n==="textarea"||n==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ln=typeof setTimeout=="function"?setTimeout:void 0,rn=typeof clearTimeout=="function"?clearTimeout:void 0,Xn=typeof Promise=="function"?Promise:void 0,Rn=typeof queueMicrotask=="function"?queueMicrotask:typeof Xn<"u"?function(n){return Xn.resolve(null).then(n).catch(zs)}:ln;function zs(n){setTimeout(function(){throw n})}function Sa(n,r){var u=r,c=0;do{var _=u.nextSibling;if(n.removeChild(u),_&&_.nodeType===8)if(u=_.data,u==="/$"){if(c===0){n.removeChild(_),Nn(r);return}c--}else u!=="$"&&u!=="$?"&&u!=="$!"||c++;u=_}while(u);Nn(r)}function Pr(n){for(;n!=null;n=n.nextSibling){var r=n.nodeType;if(r===1||r===3)break;if(r===8){if(r=n.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return n}function ru(n){n=n.previousSibling;for(var r=0;n;){if(n.nodeType===8){var u=n.data;if(u==="$"||u==="$!"||u==="$?"){if(r===0)return n;r--}else u==="/$"&&r++}n=n.previousSibling}return null}var ts=Math.random().toString(36).slice(2),Ai="__reactFiber$"+ts,bs="__reactProps$"+ts,Se="__reactContainer$"+ts,Fs="__reactEvents$"+ts,gl="__reactListeners$"+ts,ml="__reactHandles$"+ts;function es(n){var r=n[Ai];if(r)return r;for(var u=n.parentNode;u;){if(r=u[Se]||u[Ai]){if(u=r.alternate,r.child!==null||u!==null&&u.child!==null)for(n=ru(n);n!==null;){if(u=n[Ai])return u;n=ru(n)}return r}n=u,u=n.parentNode}return null}function ns(n){return n=n[Ai]||n[Se],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function is(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(f(33))}function Vo(n){return n[bs]||null}var pl=[],Wo=-1;function Bs(n){return{current:n}}function ze(n){0>Wo||(n.current=pl[Wo],pl[Wo]=null,Wo--)}function Oe(n,r){Wo++,pl[Wo]=n.current,n.current=r}var Gs={},Mn=Bs(Gs),ri=Bs(!1),Lo=Gs;function Xo(n,r){var u=n.type.contextTypes;if(!u)return Gs;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var _={},k;for(k in u)_[k]=r[k];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=r,n.__reactInternalMemoizedMaskedChildContext=_),_}function si(n){return n=n.childContextTypes,n!=null}function su(){ze(ri),ze(Mn)}function Hh(n,r,u){if(Mn.current!==Gs)throw Error(f(168));Oe(Mn,r),Oe(ri,u)}function Vh(n,r,u){var c=n.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return u;c=c.getChildContext();for(var _ in c)if(!(_ in r))throw Error(f(108,Ht(n)||"Unknown",_));return H({},u,c)}function ou(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Gs,Lo=Mn.current,Oe(Mn,n),Oe(ri,ri.current),!0}function Wh(n,r,u){var c=n.stateNode;if(!c)throw Error(f(169));u?(n=Vh(n,r,Lo),c.__reactInternalMemoizedMergedChildContext=n,ze(ri),ze(Mn),Oe(Mn,n)):ze(ri),Oe(ri,u)}var rs=null,au=!1,vl=!1;function Xh(n){rs===null?rs=[n]:rs.push(n)}function Bd(n){au=!0,Xh(n)}function Zs(){if(!vl&&rs!==null){vl=!0;var n=0,r=le;try{var u=rs;for(le=1;n<u.length;n++){var c=u[n];do c=c(!0);while(c!==null)}rs=null,au=!1}catch(_){throw rs!==null&&(rs=rs.slice(n+1)),dr(qr,Zs),_}finally{le=r,vl=!1}}return null}var jo=[],Ko=0,uu=null,lu=0,Di=[],zi=0,Io=null,ss=1,os="";function No(n,r){jo[Ko++]=lu,jo[Ko++]=uu,uu=n,lu=r}function jh(n,r,u){Di[zi++]=ss,Di[zi++]=os,Di[zi++]=Io,Io=n;var c=ss;n=os;var _=32-te(c)-1;c&=~(1<<_),u+=1;var k=32-te(r)+_;if(30<k){var I=_-_%5;k=(c&(1<<I)-1).toString(32),c>>=I,_-=I,ss=1<<32-te(r)+_|u<<_|c,os=k+n}else ss=1<<k|u<<_|c,os=n}function _l(n){n.return!==null&&(No(n,1),jh(n,1,0))}function yl(n){for(;n===uu;)uu=jo[--Ko],jo[Ko]=null,lu=jo[--Ko],jo[Ko]=null;for(;n===Io;)Io=Di[--zi],Di[zi]=null,os=Di[--zi],Di[zi]=null,ss=Di[--zi],Di[zi]=null}var ki=null,wi=null,Ge=!1,rr=null;function Kh(n,r){var u=Gi(5,null,null,0);u.elementType="DELETED",u.stateNode=r,u.return=n,r=n.deletions,r===null?(n.deletions=[u],n.flags|=16):r.push(u)}function $h(n,r){switch(n.tag){case 5:var u=n.type;return r=r.nodeType!==1||u.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(n.stateNode=r,ki=n,wi=Pr(r.firstChild),!0):!1;case 6:return r=n.pendingProps===""||r.nodeType!==3?null:r,r!==null?(n.stateNode=r,ki=n,wi=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(u=Io!==null?{id:ss,overflow:os}:null,n.memoizedState={dehydrated:r,treeContext:u,retryLane:1073741824},u=Gi(18,null,null,0),u.stateNode=r,u.return=n,n.child=u,ki=n,wi=null,!0):!1;default:return!1}}function xl(n){return(n.mode&1)!==0&&(n.flags&128)===0}function kl(n){if(Ge){var r=wi;if(r){var u=r;if(!$h(n,r)){if(xl(n))throw Error(f(418));r=Pr(u.nextSibling);var c=ki;r&&$h(n,r)?Kh(c,u):(n.flags=n.flags&-4097|2,Ge=!1,ki=n)}}else{if(xl(n))throw Error(f(418));n.flags=n.flags&-4097|2,Ge=!1,ki=n}}}function Qh(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ki=n}function hu(n){if(n!==ki)return!1;if(!Ge)return Qh(n),Ge=!0,!1;var r;if((r=n.tag!==3)&&!(r=n.tag!==5)&&(r=n.type,r=r!=="head"&&r!=="body"&&!ue(n.type,n.memoizedProps)),r&&(r=wi)){if(xl(n))throw Jh(),Error(f(418));for(;r;)Kh(n,r),r=Pr(r.nextSibling)}if(Qh(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(f(317));t:{for(n=n.nextSibling,r=0;n;){if(n.nodeType===8){var u=n.data;if(u==="/$"){if(r===0){wi=Pr(n.nextSibling);break t}r--}else u!=="$"&&u!=="$!"&&u!=="$?"||r++}n=n.nextSibling}wi=null}}else wi=ki?Pr(n.stateNode.nextSibling):null;return!0}function Jh(){for(var n=wi;n;)n=Pr(n.nextSibling)}function $o(){wi=ki=null,Ge=!1}function wl(n){rr===null?rr=[n]:rr.push(n)}var Gd=Mt.ReactCurrentBatchConfig;function La(n,r,u){if(n=u.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(f(309));var c=u.stateNode}if(!c)throw Error(f(147,n));var _=c,k=""+n;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===k?r.ref:(r=function(I){var G=_.refs;I===null?delete G[k]:G[k]=I},r._stringRef=k,r)}if(typeof n!="string")throw Error(f(284));if(!u._owner)throw Error(f(290,n))}return n}function cu(n,r){throw n=Object.prototype.toString.call(r),Error(f(31,n==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":n))}function tc(n){var r=n._init;return r(n._payload)}function ec(n){function r(lt,nt){if(n){var ht=lt.deletions;ht===null?(lt.deletions=[nt],lt.flags|=16):ht.push(nt)}}function u(lt,nt){if(!n)return null;for(;nt!==null;)r(lt,nt),nt=nt.sibling;return null}function c(lt,nt){for(lt=new Map;nt!==null;)nt.key!==null?lt.set(nt.key,nt):lt.set(nt.index,nt),nt=nt.sibling;return lt}function _(lt,nt){return lt=js(lt,nt),lt.index=0,lt.sibling=null,lt}function k(lt,nt,ht){return lt.index=ht,n?(ht=lt.alternate,ht!==null?(ht=ht.index,ht<nt?(lt.flags|=2,nt):ht):(lt.flags|=2,nt)):(lt.flags|=1048576,nt)}function I(lt){return n&&lt.alternate===null&&(lt.flags|=2),lt}function G(lt,nt,ht,Tt){return nt===null||nt.tag!==6?(nt=dh(ht,lt.mode,Tt),nt.return=lt,nt):(nt=_(nt,ht),nt.return=lt,nt)}function j(lt,nt,ht,Tt){var Yt=ht.type;return Yt===Rt?wt(lt,nt,ht.props.children,Tt,ht.key):nt!==null&&(nt.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===X&&tc(Yt)===nt.type)?(Tt=_(nt,ht.props),Tt.ref=La(lt,nt,ht),Tt.return=lt,Tt):(Tt=Du(ht.type,ht.key,ht.props,null,lt.mode,Tt),Tt.ref=La(lt,nt,ht),Tt.return=lt,Tt)}function dt(lt,nt,ht,Tt){return nt===null||nt.tag!==4||nt.stateNode.containerInfo!==ht.containerInfo||nt.stateNode.implementation!==ht.implementation?(nt=gh(ht,lt.mode,Tt),nt.return=lt,nt):(nt=_(nt,ht.children||[]),nt.return=lt,nt)}function wt(lt,nt,ht,Tt,Yt){return nt===null||nt.tag!==7?(nt=Do(ht,lt.mode,Tt,Yt),nt.return=lt,nt):(nt=_(nt,ht),nt.return=lt,nt)}function St(lt,nt,ht){if(typeof nt=="string"&&nt!==""||typeof nt=="number")return nt=dh(""+nt,lt.mode,ht),nt.return=lt,nt;if(typeof nt=="object"&&nt!==null){switch(nt.$$typeof){case Ct:return ht=Du(nt.type,nt.key,nt.props,null,lt.mode,ht),ht.ref=La(lt,null,nt),ht.return=lt,ht;case Nt:return nt=gh(nt,lt.mode,ht),nt.return=lt,nt;case X:var Tt=nt._init;return St(lt,Tt(nt._payload),ht)}if(Vi(nt)||it(nt))return nt=Do(nt,lt.mode,ht,null),nt.return=lt,nt;cu(lt,nt)}return null}function kt(lt,nt,ht,Tt){var Yt=nt!==null?nt.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number")return Yt!==null?null:G(lt,nt,""+ht,Tt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case Ct:return ht.key===Yt?j(lt,nt,ht,Tt):null;case Nt:return ht.key===Yt?dt(lt,nt,ht,Tt):null;case X:return Yt=ht._init,kt(lt,nt,Yt(ht._payload),Tt)}if(Vi(ht)||it(ht))return Yt!==null?null:wt(lt,nt,ht,Tt,null);cu(lt,ht)}return null}function bt(lt,nt,ht,Tt,Yt){if(typeof Tt=="string"&&Tt!==""||typeof Tt=="number")return lt=lt.get(ht)||null,G(nt,lt,""+Tt,Yt);if(typeof Tt=="object"&&Tt!==null){switch(Tt.$$typeof){case Ct:return lt=lt.get(Tt.key===null?ht:Tt.key)||null,j(nt,lt,Tt,Yt);case Nt:return lt=lt.get(Tt.key===null?ht:Tt.key)||null,dt(nt,lt,Tt,Yt);case X:var Kt=Tt._init;return bt(lt,nt,ht,Kt(Tt._payload),Yt)}if(Vi(Tt)||it(Tt))return lt=lt.get(ht)||null,wt(nt,lt,Tt,Yt,null);cu(nt,Tt)}return null}function Zt(lt,nt,ht,Tt){for(var Yt=null,Kt=null,$t=nt,re=nt=0,pn=null;$t!==null&&re<ht.length;re++){$t.index>re?(pn=$t,$t=null):pn=$t.sibling;var ke=kt(lt,$t,ht[re],Tt);if(ke===null){$t===null&&($t=pn);break}n&&$t&&ke.alternate===null&&r(lt,$t),nt=k(ke,nt,re),Kt===null?Yt=ke:Kt.sibling=ke,Kt=ke,$t=pn}if(re===ht.length)return u(lt,$t),Ge&&No(lt,re),Yt;if($t===null){for(;re<ht.length;re++)$t=St(lt,ht[re],Tt),$t!==null&&(nt=k($t,nt,re),Kt===null?Yt=$t:Kt.sibling=$t,Kt=$t);return Ge&&No(lt,re),Yt}for($t=c(lt,$t);re<ht.length;re++)pn=bt($t,lt,re,ht[re],Tt),pn!==null&&(n&&pn.alternate!==null&&$t.delete(pn.key===null?re:pn.key),nt=k(pn,nt,re),Kt===null?Yt=pn:Kt.sibling=pn,Kt=pn);return n&&$t.forEach(function(Ks){return r(lt,Ks)}),Ge&&No(lt,re),Yt}function Ut(lt,nt,ht,Tt){var Yt=it(ht);if(typeof Yt!="function")throw Error(f(150));if(ht=Yt.call(ht),ht==null)throw Error(f(151));for(var Kt=Yt=null,$t=nt,re=nt=0,pn=null,ke=ht.next();$t!==null&&!ke.done;re++,ke=ht.next()){$t.index>re?(pn=$t,$t=null):pn=$t.sibling;var Ks=kt(lt,$t,ke.value,Tt);if(Ks===null){$t===null&&($t=pn);break}n&&$t&&Ks.alternate===null&&r(lt,$t),nt=k(Ks,nt,re),Kt===null?Yt=Ks:Kt.sibling=Ks,Kt=Ks,$t=pn}if(ke.done)return u(lt,$t),Ge&&No(lt,re),Yt;if($t===null){for(;!ke.done;re++,ke=ht.next())ke=St(lt,ke.value,Tt),ke!==null&&(nt=k(ke,nt,re),Kt===null?Yt=ke:Kt.sibling=ke,Kt=ke);return Ge&&No(lt,re),Yt}for($t=c(lt,$t);!ke.done;re++,ke=ht.next())ke=bt($t,lt,re,ke.value,Tt),ke!==null&&(n&&ke.alternate!==null&&$t.delete(ke.key===null?re:ke.key),nt=k(ke,nt,re),Kt===null?Yt=ke:Kt.sibling=ke,Kt=ke);return n&&$t.forEach(function(yg){return r(lt,yg)}),Ge&&No(lt,re),Yt}function tn(lt,nt,ht,Tt){if(typeof ht=="object"&&ht!==null&&ht.type===Rt&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case Ct:t:{for(var Yt=ht.key,Kt=nt;Kt!==null;){if(Kt.key===Yt){if(Yt=ht.type,Yt===Rt){if(Kt.tag===7){u(lt,Kt.sibling),nt=_(Kt,ht.props.children),nt.return=lt,lt=nt;break t}}else if(Kt.elementType===Yt||typeof Yt=="object"&&Yt!==null&&Yt.$$typeof===X&&tc(Yt)===Kt.type){u(lt,Kt.sibling),nt=_(Kt,ht.props),nt.ref=La(lt,Kt,ht),nt.return=lt,lt=nt;break t}u(lt,Kt);break}else r(lt,Kt);Kt=Kt.sibling}ht.type===Rt?(nt=Do(ht.props.children,lt.mode,Tt,ht.key),nt.return=lt,lt=nt):(Tt=Du(ht.type,ht.key,ht.props,null,lt.mode,Tt),Tt.ref=La(lt,nt,ht),Tt.return=lt,lt=Tt)}return I(lt);case Nt:t:{for(Kt=ht.key;nt!==null;){if(nt.key===Kt)if(nt.tag===4&&nt.stateNode.containerInfo===ht.containerInfo&&nt.stateNode.implementation===ht.implementation){u(lt,nt.sibling),nt=_(nt,ht.children||[]),nt.return=lt,lt=nt;break t}else{u(lt,nt);break}else r(lt,nt);nt=nt.sibling}nt=gh(ht,lt.mode,Tt),nt.return=lt,lt=nt}return I(lt);case X:return Kt=ht._init,tn(lt,nt,Kt(ht._payload),Tt)}if(Vi(ht))return Zt(lt,nt,ht,Tt);if(it(ht))return Ut(lt,nt,ht,Tt);cu(lt,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"?(ht=""+ht,nt!==null&&nt.tag===6?(u(lt,nt.sibling),nt=_(nt,ht),nt.return=lt,lt=nt):(u(lt,nt),nt=dh(ht,lt.mode,Tt),nt.return=lt,lt=nt),I(lt)):u(lt,nt)}return tn}var Qo=ec(!0),nc=ec(!1),fu=Bs(null),du=null,Jo=null,El=null;function Sl(){El=Jo=du=null}function Ll(n){var r=fu.current;ze(fu),n._currentValue=r}function Il(n,r,u){for(;n!==null;){var c=n.alternate;if((n.childLanes&r)!==r?(n.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),n===u)break;n=n.return}}function ta(n,r){du=n,El=Jo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&r)!==0&&(oi=!0),n.firstContext=null)}function bi(n){var r=n._currentValue;if(El!==n)if(n={context:n,memoizedValue:r,next:null},Jo===null){if(du===null)throw Error(f(308));Jo=n,du.dependencies={lanes:0,firstContext:n}}else Jo=Jo.next=n;return r}var To=null;function Nl(n){To===null?To=[n]:To.push(n)}function ic(n,r,u,c){var _=r.interleaved;return _===null?(u.next=u,Nl(r)):(u.next=_.next,_.next=u),r.interleaved=u,as(n,c)}function as(n,r){n.lanes|=r;var u=n.alternate;for(u!==null&&(u.lanes|=r),u=n,n=n.return;n!==null;)n.childLanes|=r,u=n.alternate,u!==null&&(u.childLanes|=r),u=n,n=n.return;return u.tag===3?u.stateNode:null}var Us=!1;function Tl(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function rc(n,r){n=n.updateQueue,r.updateQueue===n&&(r.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function us(n,r){return{eventTime:n,lane:r,tag:0,payload:null,callback:null,next:null}}function qs(n,r,u){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(_e&2)!==0){var _=c.pending;return _===null?r.next=r:(r.next=_.next,_.next=r),c.pending=r,as(n,u)}return _=c.interleaved,_===null?(r.next=r,Nl(c)):(r.next=_.next,_.next=r),c.interleaved=r,as(n,u)}function gu(n,r,u){if(r=r.updateQueue,r!==null&&(r=r.shared,(u&4194240)!==0)){var c=r.lanes;c&=n.pendingLanes,u|=c,r.lanes=u,ii(n,u)}}function sc(n,r){var u=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,u===c)){var _=null,k=null;if(u=u.firstBaseUpdate,u!==null){do{var I={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};k===null?_=k=I:k=k.next=I,u=u.next}while(u!==null);k===null?_=k=r:k=k.next=r}else _=k=r;u={baseState:c.baseState,firstBaseUpdate:_,lastBaseUpdate:k,shared:c.shared,effects:c.effects},n.updateQueue=u;return}n=u.lastBaseUpdate,n===null?u.firstBaseUpdate=r:n.next=r,u.lastBaseUpdate=r}function mu(n,r,u,c){var _=n.updateQueue;Us=!1;var k=_.firstBaseUpdate,I=_.lastBaseUpdate,G=_.shared.pending;if(G!==null){_.shared.pending=null;var j=G,dt=j.next;j.next=null,I===null?k=dt:I.next=dt,I=j;var wt=n.alternate;wt!==null&&(wt=wt.updateQueue,G=wt.lastBaseUpdate,G!==I&&(G===null?wt.firstBaseUpdate=dt:G.next=dt,wt.lastBaseUpdate=j))}if(k!==null){var St=_.baseState;I=0,wt=dt=j=null,G=k;do{var kt=G.lane,bt=G.eventTime;if((c&kt)===kt){wt!==null&&(wt=wt.next={eventTime:bt,lane:0,tag:G.tag,payload:G.payload,callback:G.callback,next:null});t:{var Zt=n,Ut=G;switch(kt=r,bt=u,Ut.tag){case 1:if(Zt=Ut.payload,typeof Zt=="function"){St=Zt.call(bt,St,kt);break t}St=Zt;break t;case 3:Zt.flags=Zt.flags&-65537|128;case 0:if(Zt=Ut.payload,kt=typeof Zt=="function"?Zt.call(bt,St,kt):Zt,kt==null)break t;St=H({},St,kt);break t;case 2:Us=!0}}G.callback!==null&&G.lane!==0&&(n.flags|=64,kt=_.effects,kt===null?_.effects=[G]:kt.push(G))}else bt={eventTime:bt,lane:kt,tag:G.tag,payload:G.payload,callback:G.callback,next:null},wt===null?(dt=wt=bt,j=St):wt=wt.next=bt,I|=kt;if(G=G.next,G===null){if(G=_.shared.pending,G===null)break;kt=G,G=kt.next,kt.next=null,_.lastBaseUpdate=kt,_.shared.pending=null}}while(!0);if(wt===null&&(j=St),_.baseState=j,_.firstBaseUpdate=dt,_.lastBaseUpdate=wt,r=_.shared.interleaved,r!==null){_=r;do I|=_.lane,_=_.next;while(_!==r)}else k===null&&(_.shared.lanes=0);Oo|=I,n.lanes=I,n.memoizedState=St}}function oc(n,r,u){if(n=r.effects,r.effects=null,n!==null)for(r=0;r<n.length;r++){var c=n[r],_=c.callback;if(_!==null){if(c.callback=null,c=u,typeof _!="function")throw Error(f(191,_));_.call(c)}}}var Ia={},Or=Bs(Ia),Na=Bs(Ia),Ta=Bs(Ia);function Co(n){if(n===Ia)throw Error(f(174));return n}function Cl(n,r){switch(Oe(Ta,r),Oe(Na,n),Oe(Or,Ia),n=r.nodeType,n){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:cr(null,"");break;default:n=n===8?r.parentNode:r,r=n.namespaceURI||null,n=n.tagName,r=cr(r,n)}ze(Or),Oe(Or,r)}function ea(){ze(Or),ze(Na),ze(Ta)}function ac(n){Co(Ta.current);var r=Co(Or.current),u=cr(r,n.type);r!==u&&(Oe(Na,n),Oe(Or,u))}function Pl(n){Na.current===n&&(ze(Or),ze(Na))}var Ve=Bs(0);function pu(n){for(var r=n;r!==null;){if(r.tag===13){var u=r.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ol=[];function Rl(){for(var n=0;n<Ol.length;n++)Ol[n]._workInProgressVersionPrimary=null;Ol.length=0}var vu=Mt.ReactCurrentDispatcher,Ml=Mt.ReactCurrentBatchConfig,Po=0,We=null,hn=null,gn=null,_u=!1,Ca=!1,Pa=0,Zd=0;function An(){throw Error(f(321))}function Al(n,r){if(r===null)return!1;for(var u=0;u<r.length&&u<n.length;u++)if(!s(n[u],r[u]))return!1;return!0}function Dl(n,r,u,c,_,k){if(Po=k,We=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,vu.current=n===null||n.memoizedState===null?Hd:Vd,n=u(c,_),Ca){k=0;do{if(Ca=!1,Pa=0,25<=k)throw Error(f(301));k+=1,gn=hn=null,r.updateQueue=null,vu.current=Wd,n=u(c,_)}while(Ca)}if(vu.current=ku,r=hn!==null&&hn.next!==null,Po=0,gn=hn=We=null,_u=!1,r)throw Error(f(300));return n}function zl(){var n=Pa!==0;return Pa=0,n}function Rr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gn===null?We.memoizedState=gn=n:gn=gn.next=n,gn}function Fi(){if(hn===null){var n=We.alternate;n=n!==null?n.memoizedState:null}else n=hn.next;var r=gn===null?We.memoizedState:gn.next;if(r!==null)gn=r,hn=n;else{if(n===null)throw Error(f(310));hn=n,n={memoizedState:hn.memoizedState,baseState:hn.baseState,baseQueue:hn.baseQueue,queue:hn.queue,next:null},gn===null?We.memoizedState=gn=n:gn=gn.next=n}return gn}function Oa(n,r){return typeof r=="function"?r(n):r}function bl(n){var r=Fi(),u=r.queue;if(u===null)throw Error(f(311));u.lastRenderedReducer=n;var c=hn,_=c.baseQueue,k=u.pending;if(k!==null){if(_!==null){var I=_.next;_.next=k.next,k.next=I}c.baseQueue=_=k,u.pending=null}if(_!==null){k=_.next,c=c.baseState;var G=I=null,j=null,dt=k;do{var wt=dt.lane;if((Po&wt)===wt)j!==null&&(j=j.next={lane:0,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null}),c=dt.hasEagerState?dt.eagerState:n(c,dt.action);else{var St={lane:wt,action:dt.action,hasEagerState:dt.hasEagerState,eagerState:dt.eagerState,next:null};j===null?(G=j=St,I=c):j=j.next=St,We.lanes|=wt,Oo|=wt}dt=dt.next}while(dt!==null&&dt!==k);j===null?I=c:j.next=G,s(c,r.memoizedState)||(oi=!0),r.memoizedState=c,r.baseState=I,r.baseQueue=j,u.lastRenderedState=c}if(n=u.interleaved,n!==null){_=n;do k=_.lane,We.lanes|=k,Oo|=k,_=_.next;while(_!==n)}else _===null&&(u.lanes=0);return[r.memoizedState,u.dispatch]}function Fl(n){var r=Fi(),u=r.queue;if(u===null)throw Error(f(311));u.lastRenderedReducer=n;var c=u.dispatch,_=u.pending,k=r.memoizedState;if(_!==null){u.pending=null;var I=_=_.next;do k=n(k,I.action),I=I.next;while(I!==_);s(k,r.memoizedState)||(oi=!0),r.memoizedState=k,r.baseQueue===null&&(r.baseState=k),u.lastRenderedState=k}return[k,c]}function uc(){}function lc(n,r){var u=We,c=Fi(),_=r(),k=!s(c.memoizedState,_);if(k&&(c.memoizedState=_,oi=!0),c=c.queue,Bl(fc.bind(null,u,c,n),[n]),c.getSnapshot!==r||k||gn!==null&&gn.memoizedState.tag&1){if(u.flags|=2048,Ra(9,cc.bind(null,u,c,_,r),void 0,null),mn===null)throw Error(f(349));(Po&30)!==0||hc(u,r,_)}return _}function hc(n,r,u){n.flags|=16384,n={getSnapshot:r,value:u},r=We.updateQueue,r===null?(r={lastEffect:null,stores:null},We.updateQueue=r,r.stores=[n]):(u=r.stores,u===null?r.stores=[n]:u.push(n))}function cc(n,r,u,c){r.value=u,r.getSnapshot=c,dc(r)&&gc(n)}function fc(n,r,u){return u(function(){dc(r)&&gc(n)})}function dc(n){var r=n.getSnapshot;n=n.value;try{var u=r();return!s(n,u)}catch{return!0}}function gc(n){var r=as(n,1);r!==null&&ur(r,n,1,-1)}function mc(n){var r=Rr();return typeof n=="function"&&(n=n()),r.memoizedState=r.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Oa,lastRenderedState:n},r.queue=n,n=n.dispatch=Yd.bind(null,We,n),[r.memoizedState,n]}function Ra(n,r,u,c){return n={tag:n,create:r,destroy:u,deps:c,next:null},r=We.updateQueue,r===null?(r={lastEffect:null,stores:null},We.updateQueue=r,r.lastEffect=n.next=n):(u=r.lastEffect,u===null?r.lastEffect=n.next=n:(c=u.next,u.next=n,n.next=c,r.lastEffect=n)),n}function pc(){return Fi().memoizedState}function yu(n,r,u,c){var _=Rr();We.flags|=n,_.memoizedState=Ra(1|r,u,void 0,c===void 0?null:c)}function xu(n,r,u,c){var _=Fi();c=c===void 0?null:c;var k=void 0;if(hn!==null){var I=hn.memoizedState;if(k=I.destroy,c!==null&&Al(c,I.deps)){_.memoizedState=Ra(r,u,k,c);return}}We.flags|=n,_.memoizedState=Ra(1|r,u,k,c)}function vc(n,r){return yu(8390656,8,n,r)}function Bl(n,r){return xu(2048,8,n,r)}function _c(n,r){return xu(4,2,n,r)}function yc(n,r){return xu(4,4,n,r)}function xc(n,r){if(typeof r=="function")return n=n(),r(n),function(){r(null)};if(r!=null)return n=n(),r.current=n,function(){r.current=null}}function kc(n,r,u){return u=u!=null?u.concat([n]):null,xu(4,4,xc.bind(null,r,n),u)}function Gl(){}function wc(n,r){var u=Fi();r=r===void 0?null:r;var c=u.memoizedState;return c!==null&&r!==null&&Al(r,c[1])?c[0]:(u.memoizedState=[n,r],n)}function Ec(n,r){var u=Fi();r=r===void 0?null:r;var c=u.memoizedState;return c!==null&&r!==null&&Al(r,c[1])?c[0]:(n=n(),u.memoizedState=[n,r],n)}function Sc(n,r,u){return(Po&21)===0?(n.baseState&&(n.baseState=!1,oi=!0),n.memoizedState=u):(s(u,r)||(u=Zo(),We.lanes|=u,Oo|=u,n.baseState=!0),r)}function Ud(n,r){var u=le;le=u!==0&&4>u?u:4,n(!0);var c=Ml.transition;Ml.transition={};try{n(!1),r()}finally{le=u,Ml.transition=c}}function Lc(){return Fi().memoizedState}function qd(n,r,u){var c=Ws(n);if(u={lane:c,action:u,hasEagerState:!1,eagerState:null,next:null},Ic(n))Nc(r,u);else if(u=ic(n,r,u,c),u!==null){var _=Kn();ur(u,n,c,_),Tc(u,r,c)}}function Yd(n,r,u){var c=Ws(n),_={lane:c,action:u,hasEagerState:!1,eagerState:null,next:null};if(Ic(n))Nc(r,_);else{var k=n.alternate;if(n.lanes===0&&(k===null||k.lanes===0)&&(k=r.lastRenderedReducer,k!==null))try{var I=r.lastRenderedState,G=k(I,u);if(_.hasEagerState=!0,_.eagerState=G,s(G,I)){var j=r.interleaved;j===null?(_.next=_,Nl(r)):(_.next=j.next,j.next=_),r.interleaved=_;return}}catch{}finally{}u=ic(n,r,_,c),u!==null&&(_=Kn(),ur(u,n,c,_),Tc(u,r,c))}}function Ic(n){var r=n.alternate;return n===We||r!==null&&r===We}function Nc(n,r){Ca=_u=!0;var u=n.pending;u===null?r.next=r:(r.next=u.next,u.next=r),n.pending=r}function Tc(n,r,u){if((u&4194240)!==0){var c=r.lanes;c&=n.pendingLanes,u|=c,r.lanes=u,ii(n,u)}}var ku={readContext:bi,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},Hd={readContext:bi,useCallback:function(n,r){return Rr().memoizedState=[n,r===void 0?null:r],n},useContext:bi,useEffect:vc,useImperativeHandle:function(n,r,u){return u=u!=null?u.concat([n]):null,yu(4194308,4,xc.bind(null,r,n),u)},useLayoutEffect:function(n,r){return yu(4194308,4,n,r)},useInsertionEffect:function(n,r){return yu(4,2,n,r)},useMemo:function(n,r){var u=Rr();return r=r===void 0?null:r,n=n(),u.memoizedState=[n,r],n},useReducer:function(n,r,u){var c=Rr();return r=u!==void 0?u(r):r,c.memoizedState=c.baseState=r,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:r},c.queue=n,n=n.dispatch=qd.bind(null,We,n),[c.memoizedState,n]},useRef:function(n){var r=Rr();return n={current:n},r.memoizedState=n},useState:mc,useDebugValue:Gl,useDeferredValue:function(n){return Rr().memoizedState=n},useTransition:function(){var n=mc(!1),r=n[0];return n=Ud.bind(null,n[1]),Rr().memoizedState=n,[r,n]},useMutableSource:function(){},useSyncExternalStore:function(n,r,u){var c=We,_=Rr();if(Ge){if(u===void 0)throw Error(f(407));u=u()}else{if(u=r(),mn===null)throw Error(f(349));(Po&30)!==0||hc(c,r,u)}_.memoizedState=u;var k={value:u,getSnapshot:r};return _.queue=k,vc(fc.bind(null,c,k,n),[n]),c.flags|=2048,Ra(9,cc.bind(null,c,k,u,r),void 0,null),u},useId:function(){var n=Rr(),r=mn.identifierPrefix;if(Ge){var u=os,c=ss;u=(c&~(1<<32-te(c)-1)).toString(32)+u,r=":"+r+"R"+u,u=Pa++,0<u&&(r+="H"+u.toString(32)),r+=":"}else u=Zd++,r=":"+r+"r"+u.toString(32)+":";return n.memoizedState=r},unstable_isNewReconciler:!1},Vd={readContext:bi,useCallback:wc,useContext:bi,useEffect:Bl,useImperativeHandle:kc,useInsertionEffect:_c,useLayoutEffect:yc,useMemo:Ec,useReducer:bl,useRef:pc,useState:function(){return bl(Oa)},useDebugValue:Gl,useDeferredValue:function(n){var r=Fi();return Sc(r,hn.memoizedState,n)},useTransition:function(){var n=bl(Oa)[0],r=Fi().memoizedState;return[n,r]},useMutableSource:uc,useSyncExternalStore:lc,useId:Lc,unstable_isNewReconciler:!1},Wd={readContext:bi,useCallback:wc,useContext:bi,useEffect:Bl,useImperativeHandle:kc,useInsertionEffect:_c,useLayoutEffect:yc,useMemo:Ec,useReducer:Fl,useRef:pc,useState:function(){return Fl(Oa)},useDebugValue:Gl,useDeferredValue:function(n){var r=Fi();return hn===null?r.memoizedState=n:Sc(r,hn.memoizedState,n)},useTransition:function(){var n=Fl(Oa)[0],r=Fi().memoizedState;return[n,r]},useMutableSource:uc,useSyncExternalStore:lc,useId:Lc,unstable_isNewReconciler:!1};function sr(n,r){if(n&&n.defaultProps){r=H({},r),n=n.defaultProps;for(var u in n)r[u]===void 0&&(r[u]=n[u]);return r}return r}function Zl(n,r,u,c){r=n.memoizedState,u=u(c,r),u=u==null?r:H({},r,u),n.memoizedState=u,n.lanes===0&&(n.updateQueue.baseState=u)}var wu={isMounted:function(n){return(n=n._reactInternals)?Qn(n)===n:!1},enqueueSetState:function(n,r,u){n=n._reactInternals;var c=Kn(),_=Ws(n),k=us(c,_);k.payload=r,u!=null&&(k.callback=u),r=qs(n,k,_),r!==null&&(ur(r,n,_,c),gu(r,n,_))},enqueueReplaceState:function(n,r,u){n=n._reactInternals;var c=Kn(),_=Ws(n),k=us(c,_);k.tag=1,k.payload=r,u!=null&&(k.callback=u),r=qs(n,k,_),r!==null&&(ur(r,n,_,c),gu(r,n,_))},enqueueForceUpdate:function(n,r){n=n._reactInternals;var u=Kn(),c=Ws(n),_=us(u,c);_.tag=2,r!=null&&(_.callback=r),r=qs(n,_,c),r!==null&&(ur(r,n,c,u),gu(r,n,c))}};function Cc(n,r,u,c,_,k,I){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,k,I):r.prototype&&r.prototype.isPureReactComponent?!l(u,c)||!l(_,k):!0}function Pc(n,r,u){var c=!1,_=Gs,k=r.contextType;return typeof k=="object"&&k!==null?k=bi(k):(_=si(r)?Lo:Mn.current,c=r.contextTypes,k=(c=c!=null)?Xo(n,_):Gs),r=new r(u,k),n.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=wu,n.stateNode=r,r._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=_,n.__reactInternalMemoizedMaskedChildContext=k),r}function Oc(n,r,u,c){n=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(u,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(u,c),r.state!==n&&wu.enqueueReplaceState(r,r.state,null)}function Ul(n,r,u,c){var _=n.stateNode;_.props=u,_.state=n.memoizedState,_.refs={},Tl(n);var k=r.contextType;typeof k=="object"&&k!==null?_.context=bi(k):(k=si(r)?Lo:Mn.current,_.context=Xo(n,k)),_.state=n.memoizedState,k=r.getDerivedStateFromProps,typeof k=="function"&&(Zl(n,r,k,u),_.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(r=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),r!==_.state&&wu.enqueueReplaceState(_,_.state,null),mu(n,u,_,c),_.state=n.memoizedState),typeof _.componentDidMount=="function"&&(n.flags|=4194308)}function na(n,r){try{var u="",c=r;do u+=yt(c),c=c.return;while(c);var _=u}catch(k){_=`
Error generating stack: `+k.message+`
`+k.stack}return{value:n,source:r,stack:_,digest:null}}function ql(n,r,u){return{value:n,source:null,stack:u??null,digest:r??null}}function Yl(n,r){try{console.error(r.value)}catch(u){setTimeout(function(){throw u})}}var Xd=typeof WeakMap=="function"?WeakMap:Map;function Rc(n,r,u){u=us(-1,u),u.tag=3,u.payload={element:null};var c=r.value;return u.callback=function(){Cu||(Cu=!0,sh=c),Yl(n,r)},u}function Mc(n,r,u){u=us(-1,u),u.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var _=r.value;u.payload=function(){return c(_)},u.callback=function(){Yl(n,r)}}var k=n.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(u.callback=function(){Yl(n,r),typeof c!="function"&&(Hs===null?Hs=new Set([this]):Hs.add(this));var I=r.stack;this.componentDidCatch(r.value,{componentStack:I!==null?I:""})}),u}function Ac(n,r,u){var c=n.pingCache;if(c===null){c=n.pingCache=new Xd;var _=new Set;c.set(r,_)}else _=c.get(r),_===void 0&&(_=new Set,c.set(r,_));_.has(u)||(_.add(u),n=ug.bind(null,n,r,u),r.then(n,n))}function Dc(n){do{var r;if((r=n.tag===13)&&(r=n.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return n;n=n.return}while(n!==null);return null}function zc(n,r,u,c,_){return(n.mode&1)===0?(n===r?n.flags|=65536:(n.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(r=us(-1,1),r.tag=2,qs(u,r,1))),u.lanes|=1),n):(n.flags|=65536,n.lanes=_,n)}var jd=Mt.ReactCurrentOwner,oi=!1;function jn(n,r,u,c){r.child=n===null?nc(r,null,u,c):Qo(r,n.child,u,c)}function bc(n,r,u,c,_){u=u.render;var k=r.ref;return ta(r,_),c=Dl(n,r,u,c,k,_),u=zl(),n!==null&&!oi?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~_,ls(n,r,_)):(Ge&&u&&_l(r),r.flags|=1,jn(n,r,c,_),r.child)}function Fc(n,r,u,c,_){if(n===null){var k=u.type;return typeof k=="function"&&!fh(k)&&k.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(r.tag=15,r.type=k,Bc(n,r,k,c,_)):(n=Du(u.type,null,c,r,r.mode,_),n.ref=r.ref,n.return=r,r.child=n)}if(k=n.child,(n.lanes&_)===0){var I=k.memoizedProps;if(u=u.compare,u=u!==null?u:l,u(I,c)&&n.ref===r.ref)return ls(n,r,_)}return r.flags|=1,n=js(k,c),n.ref=r.ref,n.return=r,r.child=n}function Bc(n,r,u,c,_){if(n!==null){var k=n.memoizedProps;if(l(k,c)&&n.ref===r.ref)if(oi=!1,r.pendingProps=c=k,(n.lanes&_)!==0)(n.flags&131072)!==0&&(oi=!0);else return r.lanes=n.lanes,ls(n,r,_)}return Hl(n,r,u,c,_)}function Gc(n,r,u){var c=r.pendingProps,_=c.children,k=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((r.mode&1)===0)r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Oe(ra,Ei),Ei|=u;else{if((u&1073741824)===0)return n=k!==null?k.baseLanes|u:u,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:n,cachePool:null,transitions:null},r.updateQueue=null,Oe(ra,Ei),Ei|=n,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=k!==null?k.baseLanes:u,Oe(ra,Ei),Ei|=c}else k!==null?(c=k.baseLanes|u,r.memoizedState=null):c=u,Oe(ra,Ei),Ei|=c;return jn(n,r,_,u),r.child}function Zc(n,r){var u=r.ref;(n===null&&u!==null||n!==null&&n.ref!==u)&&(r.flags|=512,r.flags|=2097152)}function Hl(n,r,u,c,_){var k=si(u)?Lo:Mn.current;return k=Xo(r,k),ta(r,_),u=Dl(n,r,u,c,k,_),c=zl(),n!==null&&!oi?(r.updateQueue=n.updateQueue,r.flags&=-2053,n.lanes&=~_,ls(n,r,_)):(Ge&&c&&_l(r),r.flags|=1,jn(n,r,u,_),r.child)}function Uc(n,r,u,c,_){if(si(u)){var k=!0;ou(r)}else k=!1;if(ta(r,_),r.stateNode===null)Su(n,r),Pc(r,u,c),Ul(r,u,c,_),c=!0;else if(n===null){var I=r.stateNode,G=r.memoizedProps;I.props=G;var j=I.context,dt=u.contextType;typeof dt=="object"&&dt!==null?dt=bi(dt):(dt=si(u)?Lo:Mn.current,dt=Xo(r,dt));var wt=u.getDerivedStateFromProps,St=typeof wt=="function"||typeof I.getSnapshotBeforeUpdate=="function";St||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(G!==c||j!==dt)&&Oc(r,I,c,dt),Us=!1;var kt=r.memoizedState;I.state=kt,mu(r,c,I,_),j=r.memoizedState,G!==c||kt!==j||ri.current||Us?(typeof wt=="function"&&(Zl(r,u,wt,c),j=r.memoizedState),(G=Us||Cc(r,u,G,c,kt,j,dt))?(St||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(r.flags|=4194308)):(typeof I.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=j),I.props=c,I.state=j,I.context=dt,c=G):(typeof I.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{I=r.stateNode,rc(n,r),G=r.memoizedProps,dt=r.type===r.elementType?G:sr(r.type,G),I.props=dt,St=r.pendingProps,kt=I.context,j=u.contextType,typeof j=="object"&&j!==null?j=bi(j):(j=si(u)?Lo:Mn.current,j=Xo(r,j));var bt=u.getDerivedStateFromProps;(wt=typeof bt=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(G!==St||kt!==j)&&Oc(r,I,c,j),Us=!1,kt=r.memoizedState,I.state=kt,mu(r,c,I,_);var Zt=r.memoizedState;G!==St||kt!==Zt||ri.current||Us?(typeof bt=="function"&&(Zl(r,u,bt,c),Zt=r.memoizedState),(dt=Us||Cc(r,u,dt,c,kt,Zt,j)||!1)?(wt||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(c,Zt,j),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(c,Zt,j)),typeof I.componentDidUpdate=="function"&&(r.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof I.componentDidUpdate!="function"||G===n.memoizedProps&&kt===n.memoizedState||(r.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||G===n.memoizedProps&&kt===n.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=Zt),I.props=c,I.state=Zt,I.context=j,c=dt):(typeof I.componentDidUpdate!="function"||G===n.memoizedProps&&kt===n.memoizedState||(r.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||G===n.memoizedProps&&kt===n.memoizedState||(r.flags|=1024),c=!1)}return Vl(n,r,u,c,k,_)}function Vl(n,r,u,c,_,k){Zc(n,r);var I=(r.flags&128)!==0;if(!c&&!I)return _&&Wh(r,u,!1),ls(n,r,k);c=r.stateNode,jd.current=r;var G=I&&typeof u.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,n!==null&&I?(r.child=Qo(r,n.child,null,k),r.child=Qo(r,null,G,k)):jn(n,r,G,k),r.memoizedState=c.state,_&&Wh(r,u,!0),r.child}function qc(n){var r=n.stateNode;r.pendingContext?Hh(n,r.pendingContext,r.pendingContext!==r.context):r.context&&Hh(n,r.context,!1),Cl(n,r.containerInfo)}function Yc(n,r,u,c,_){return $o(),wl(_),r.flags|=256,jn(n,r,u,c),r.child}var Wl={dehydrated:null,treeContext:null,retryLane:0};function Xl(n){return{baseLanes:n,cachePool:null,transitions:null}}function Hc(n,r,u){var c=r.pendingProps,_=Ve.current,k=!1,I=(r.flags&128)!==0,G;if((G=I)||(G=n!==null&&n.memoizedState===null?!1:(_&2)!==0),G?(k=!0,r.flags&=-129):(n===null||n.memoizedState!==null)&&(_|=1),Oe(Ve,_&1),n===null)return kl(r),n=r.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((r.mode&1)===0?r.lanes=1:n.data==="$!"?r.lanes=8:r.lanes=1073741824,null):(I=c.children,n=c.fallback,k?(c=r.mode,k=r.child,I={mode:"hidden",children:I},(c&1)===0&&k!==null?(k.childLanes=0,k.pendingProps=I):k=zu(I,c,0,null),n=Do(n,c,u,null),k.return=r,n.return=r,k.sibling=n,r.child=k,r.child.memoizedState=Xl(u),r.memoizedState=Wl,n):jl(r,I));if(_=n.memoizedState,_!==null&&(G=_.dehydrated,G!==null))return Kd(n,r,I,c,G,_,u);if(k){k=c.fallback,I=r.mode,_=n.child,G=_.sibling;var j={mode:"hidden",children:c.children};return(I&1)===0&&r.child!==_?(c=r.child,c.childLanes=0,c.pendingProps=j,r.deletions=null):(c=js(_,j),c.subtreeFlags=_.subtreeFlags&14680064),G!==null?k=js(G,k):(k=Do(k,I,u,null),k.flags|=2),k.return=r,c.return=r,c.sibling=k,r.child=c,c=k,k=r.child,I=n.child.memoizedState,I=I===null?Xl(u):{baseLanes:I.baseLanes|u,cachePool:null,transitions:I.transitions},k.memoizedState=I,k.childLanes=n.childLanes&~u,r.memoizedState=Wl,c}return k=n.child,n=k.sibling,c=js(k,{mode:"visible",children:c.children}),(r.mode&1)===0&&(c.lanes=u),c.return=r,c.sibling=null,n!==null&&(u=r.deletions,u===null?(r.deletions=[n],r.flags|=16):u.push(n)),r.child=c,r.memoizedState=null,c}function jl(n,r){return r=zu({mode:"visible",children:r},n.mode,0,null),r.return=n,n.child=r}function Eu(n,r,u,c){return c!==null&&wl(c),Qo(r,n.child,null,u),n=jl(r,r.pendingProps.children),n.flags|=2,r.memoizedState=null,n}function Kd(n,r,u,c,_,k,I){if(u)return r.flags&256?(r.flags&=-257,c=ql(Error(f(422))),Eu(n,r,I,c)):r.memoizedState!==null?(r.child=n.child,r.flags|=128,null):(k=c.fallback,_=r.mode,c=zu({mode:"visible",children:c.children},_,0,null),k=Do(k,_,I,null),k.flags|=2,c.return=r,k.return=r,c.sibling=k,r.child=c,(r.mode&1)!==0&&Qo(r,n.child,null,I),r.child.memoizedState=Xl(I),r.memoizedState=Wl,k);if((r.mode&1)===0)return Eu(n,r,I,null);if(_.data==="$!"){if(c=_.nextSibling&&_.nextSibling.dataset,c)var G=c.dgst;return c=G,k=Error(f(419)),c=ql(k,c,void 0),Eu(n,r,I,c)}if(G=(I&n.childLanes)!==0,oi||G){if(c=mn,c!==null){switch(I&-I){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(c.suspendedLanes|I))!==0?0:_,_!==0&&_!==k.retryLane&&(k.retryLane=_,as(n,_),ur(c,n,_,-1))}return ch(),c=ql(Error(f(421))),Eu(n,r,I,c)}return _.data==="$?"?(r.flags|=128,r.child=n.child,r=lg.bind(null,n),_._reactRetry=r,null):(n=k.treeContext,wi=Pr(_.nextSibling),ki=r,Ge=!0,rr=null,n!==null&&(Di[zi++]=ss,Di[zi++]=os,Di[zi++]=Io,ss=n.id,os=n.overflow,Io=r),r=jl(r,c.children),r.flags|=4096,r)}function Vc(n,r,u){n.lanes|=r;var c=n.alternate;c!==null&&(c.lanes|=r),Il(n.return,r,u)}function Kl(n,r,u,c,_){var k=n.memoizedState;k===null?n.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:u,tailMode:_}:(k.isBackwards=r,k.rendering=null,k.renderingStartTime=0,k.last=c,k.tail=u,k.tailMode=_)}function Wc(n,r,u){var c=r.pendingProps,_=c.revealOrder,k=c.tail;if(jn(n,r,c.children,u),c=Ve.current,(c&2)!==0)c=c&1|2,r.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=r.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&Vc(n,u,r);else if(n.tag===19)Vc(n,u,r);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===r)break t;for(;n.sibling===null;){if(n.return===null||n.return===r)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Oe(Ve,c),(r.mode&1)===0)r.memoizedState=null;else switch(_){case"forwards":for(u=r.child,_=null;u!==null;)n=u.alternate,n!==null&&pu(n)===null&&(_=u),u=u.sibling;u=_,u===null?(_=r.child,r.child=null):(_=u.sibling,u.sibling=null),Kl(r,!1,_,u,k);break;case"backwards":for(u=null,_=r.child,r.child=null;_!==null;){if(n=_.alternate,n!==null&&pu(n)===null){r.child=_;break}n=_.sibling,_.sibling=u,u=_,_=n}Kl(r,!0,u,null,k);break;case"together":Kl(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Su(n,r){(r.mode&1)===0&&n!==null&&(n.alternate=null,r.alternate=null,r.flags|=2)}function ls(n,r,u){if(n!==null&&(r.dependencies=n.dependencies),Oo|=r.lanes,(u&r.childLanes)===0)return null;if(n!==null&&r.child!==n.child)throw Error(f(153));if(r.child!==null){for(n=r.child,u=js(n,n.pendingProps),r.child=u,u.return=r;n.sibling!==null;)n=n.sibling,u=u.sibling=js(n,n.pendingProps),u.return=r;u.sibling=null}return r.child}function $d(n,r,u){switch(r.tag){case 3:qc(r),$o();break;case 5:ac(r);break;case 1:si(r.type)&&ou(r);break;case 4:Cl(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,_=r.memoizedProps.value;Oe(fu,c._currentValue),c._currentValue=_;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(Oe(Ve,Ve.current&1),r.flags|=128,null):(u&r.child.childLanes)!==0?Hc(n,r,u):(Oe(Ve,Ve.current&1),n=ls(n,r,u),n!==null?n.sibling:null);Oe(Ve,Ve.current&1);break;case 19:if(c=(u&r.childLanes)!==0,(n.flags&128)!==0){if(c)return Wc(n,r,u);r.flags|=128}if(_=r.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Oe(Ve,Ve.current),c)break;return null;case 22:case 23:return r.lanes=0,Gc(n,r,u)}return ls(n,r,u)}var Xc,$l,jc,Kc;Xc=function(n,r){for(var u=r.child;u!==null;){if(u.tag===5||u.tag===6)n.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===r)break;for(;u.sibling===null;){if(u.return===null||u.return===r)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},$l=function(){},jc=function(n,r,u,c){var _=n.memoizedProps;if(_!==c){n=r.stateNode,Co(Or.current);var k=null;switch(u){case"input":_=Pe(n,_),c=Pe(n,c),k=[];break;case"select":_=H({},_,{value:void 0}),c=H({},c,{value:void 0}),k=[];break;case"textarea":_=$n(n,_),c=$n(n,c),k=[];break;default:typeof _.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=vt)}no(u,c);var I;u=null;for(dt in _)if(!c.hasOwnProperty(dt)&&_.hasOwnProperty(dt)&&_[dt]!=null)if(dt==="style"){var G=_[dt];for(I in G)G.hasOwnProperty(I)&&(u||(u={}),u[I]="")}else dt!=="dangerouslySetInnerHTML"&&dt!=="children"&&dt!=="suppressContentEditableWarning"&&dt!=="suppressHydrationWarning"&&dt!=="autoFocus"&&(p.hasOwnProperty(dt)?k||(k=[]):(k=k||[]).push(dt,null));for(dt in c){var j=c[dt];if(G=_?.[dt],c.hasOwnProperty(dt)&&j!==G&&(j!=null||G!=null))if(dt==="style")if(G){for(I in G)!G.hasOwnProperty(I)||j&&j.hasOwnProperty(I)||(u||(u={}),u[I]="");for(I in j)j.hasOwnProperty(I)&&G[I]!==j[I]&&(u||(u={}),u[I]=j[I])}else u||(k||(k=[]),k.push(dt,u)),u=j;else dt==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,G=G?G.__html:void 0,j!=null&&G!==j&&(k=k||[]).push(dt,j)):dt==="children"?typeof j!="string"&&typeof j!="number"||(k=k||[]).push(dt,""+j):dt!=="suppressContentEditableWarning"&&dt!=="suppressHydrationWarning"&&(p.hasOwnProperty(dt)?(j!=null&&dt==="onScroll"&&Te("scroll",n),k||G===j||(k=[])):(k=k||[]).push(dt,j))}u&&(k=k||[]).push("style",u);var dt=k;(r.updateQueue=dt)&&(r.flags|=4)}},Kc=function(n,r,u,c){u!==c&&(r.flags|=4)};function Ma(n,r){if(!Ge)switch(n.tailMode){case"hidden":r=n.tail;for(var u=null;r!==null;)r.alternate!==null&&(u=r),r=r.sibling;u===null?n.tail=null:u.sibling=null;break;case"collapsed":u=n.tail;for(var c=null;u!==null;)u.alternate!==null&&(c=u),u=u.sibling;c===null?r||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Dn(n){var r=n.alternate!==null&&n.alternate.child===n.child,u=0,c=0;if(r)for(var _=n.child;_!==null;)u|=_.lanes|_.childLanes,c|=_.subtreeFlags&14680064,c|=_.flags&14680064,_.return=n,_=_.sibling;else for(_=n.child;_!==null;)u|=_.lanes|_.childLanes,c|=_.subtreeFlags,c|=_.flags,_.return=n,_=_.sibling;return n.subtreeFlags|=c,n.childLanes=u,r}function Qd(n,r,u){var c=r.pendingProps;switch(yl(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dn(r),null;case 1:return si(r.type)&&su(),Dn(r),null;case 3:return c=r.stateNode,ea(),ze(ri),ze(Mn),Rl(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(hu(r)?r.flags|=4:n===null||n.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,rr!==null&&(uh(rr),rr=null))),$l(n,r),Dn(r),null;case 5:Pl(r);var _=Co(Ta.current);if(u=r.type,n!==null&&r.stateNode!=null)jc(n,r,u,c,_),n.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(f(166));return Dn(r),null}if(n=Co(Or.current),hu(r)){c=r.stateNode,u=r.type;var k=r.memoizedProps;switch(c[Ai]=r,c[bs]=k,n=(r.mode&1)!==0,u){case"dialog":Te("cancel",c),Te("close",c);break;case"iframe":case"object":case"embed":Te("load",c);break;case"video":case"audio":for(_=0;_<As.length;_++)Te(As[_],c);break;case"source":Te("error",c);break;case"img":case"image":case"link":Te("error",c),Te("load",c);break;case"details":Te("toggle",c);break;case"input":ge(c,k),Te("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!k.multiple},Te("invalid",c);break;case"textarea":eo(c,k),Te("invalid",c)}no(u,k),_=null;for(var I in k)if(k.hasOwnProperty(I)){var G=k[I];I==="children"?typeof G=="string"?c.textContent!==G&&(k.suppressHydrationWarning!==!0&&ft(c.textContent,G,n),_=["children",G]):typeof G=="number"&&c.textContent!==""+G&&(k.suppressHydrationWarning!==!0&&ft(c.textContent,G,n),_=["children",""+G]):p.hasOwnProperty(I)&&G!=null&&I==="onScroll"&&Te("scroll",c)}switch(u){case"input":At(c),Fr(c,k,!0);break;case"textarea":At(c),hr(c);break;case"select":case"option":break;default:typeof k.onClick=="function"&&(c.onclick=vt)}c=_,r.updateQueue=c,c!==null&&(r.flags|=4)}else{I=_.nodeType===9?_:_.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Wi(u)),n==="http://www.w3.org/1999/xhtml"?u==="script"?(n=I.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=I.createElement(u,{is:c.is}):(n=I.createElement(u),u==="select"&&(I=n,c.multiple?I.multiple=!0:c.size&&(I.size=c.size))):n=I.createElementNS(n,u),n[Ai]=r,n[bs]=c,Xc(n,r,!1,!1),r.stateNode=n;t:{switch(I=Xi(u,c),u){case"dialog":Te("cancel",n),Te("close",n),_=c;break;case"iframe":case"object":case"embed":Te("load",n),_=c;break;case"video":case"audio":for(_=0;_<As.length;_++)Te(As[_],n);_=c;break;case"source":Te("error",n),_=c;break;case"img":case"image":case"link":Te("error",n),Te("load",n),_=c;break;case"details":Te("toggle",n),_=c;break;case"input":ge(n,c),_=Pe(n,c),Te("invalid",n);break;case"option":_=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},_=H({},c,{value:void 0}),Te("invalid",n);break;case"textarea":eo(n,c),_=$n(n,c),Te("invalid",n);break;default:_=c}no(u,_),G=_;for(k in G)if(G.hasOwnProperty(k)){var j=G[k];k==="style"?ms(n,j):k==="dangerouslySetInnerHTML"?(j=j?j.__html:void 0,j!=null&&gs(n,j)):k==="children"?typeof j=="string"?(u!=="textarea"||j!=="")&&oe(n,j):typeof j=="number"&&oe(n,""+j):k!=="suppressContentEditableWarning"&&k!=="suppressHydrationWarning"&&k!=="autoFocus"&&(p.hasOwnProperty(k)?j!=null&&k==="onScroll"&&Te("scroll",n):j!=null&&xt(n,k,j,I))}switch(u){case"input":At(n),Fr(n,c,!1);break;case"textarea":At(n),hr(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Q(c.value));break;case"select":n.multiple=!!c.multiple,k=c.value,k!=null?fi(n,!!c.multiple,k,!1):c.defaultValue!=null&&fi(n,!!c.multiple,c.defaultValue,!0);break;default:typeof _.onClick=="function"&&(n.onclick=vt)}switch(u){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break t;case"img":c=!0;break t;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Dn(r),null;case 6:if(n&&r.stateNode!=null)Kc(n,r,n.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(f(166));if(u=Co(Ta.current),Co(Or.current),hu(r)){if(c=r.stateNode,u=r.memoizedProps,c[Ai]=r,(k=c.nodeValue!==u)&&(n=ki,n!==null))switch(n.tag){case 3:ft(c.nodeValue,u,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&ft(c.nodeValue,u,(n.mode&1)!==0)}k&&(r.flags|=4)}else c=(u.nodeType===9?u:u.ownerDocument).createTextNode(c),c[Ai]=r,r.stateNode=c}return Dn(r),null;case 13:if(ze(Ve),c=r.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Ge&&wi!==null&&(r.mode&1)!==0&&(r.flags&128)===0)Jh(),$o(),r.flags|=98560,k=!1;else if(k=hu(r),c!==null&&c.dehydrated!==null){if(n===null){if(!k)throw Error(f(318));if(k=r.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(f(317));k[Ai]=r}else $o(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Dn(r),k=!1}else rr!==null&&(uh(rr),rr=null),k=!0;if(!k)return r.flags&65536?r:null}return(r.flags&128)!==0?(r.lanes=u,r):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(r.child.flags|=8192,(r.mode&1)!==0&&(n===null||(Ve.current&1)!==0?cn===0&&(cn=3):ch())),r.updateQueue!==null&&(r.flags|=4),Dn(r),null);case 4:return ea(),$l(n,r),n===null&&Ds(r.stateNode.containerInfo),Dn(r),null;case 10:return Ll(r.type._context),Dn(r),null;case 17:return si(r.type)&&su(),Dn(r),null;case 19:if(ze(Ve),k=r.memoizedState,k===null)return Dn(r),null;if(c=(r.flags&128)!==0,I=k.rendering,I===null)if(c)Ma(k,!1);else{if(cn!==0||n!==null&&(n.flags&128)!==0)for(n=r.child;n!==null;){if(I=pu(n),I!==null){for(r.flags|=128,Ma(k,!1),c=I.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=u,u=r.child;u!==null;)k=u,n=c,k.flags&=14680066,I=k.alternate,I===null?(k.childLanes=0,k.lanes=n,k.child=null,k.subtreeFlags=0,k.memoizedProps=null,k.memoizedState=null,k.updateQueue=null,k.dependencies=null,k.stateNode=null):(k.childLanes=I.childLanes,k.lanes=I.lanes,k.child=I.child,k.subtreeFlags=0,k.deletions=null,k.memoizedProps=I.memoizedProps,k.memoizedState=I.memoizedState,k.updateQueue=I.updateQueue,k.type=I.type,n=I.dependencies,k.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),u=u.sibling;return Oe(Ve,Ve.current&1|2),r.child}n=n.sibling}k.tail!==null&&Ie()>sa&&(r.flags|=128,c=!0,Ma(k,!1),r.lanes=4194304)}else{if(!c)if(n=pu(I),n!==null){if(r.flags|=128,c=!0,u=n.updateQueue,u!==null&&(r.updateQueue=u,r.flags|=4),Ma(k,!0),k.tail===null&&k.tailMode==="hidden"&&!I.alternate&&!Ge)return Dn(r),null}else 2*Ie()-k.renderingStartTime>sa&&u!==1073741824&&(r.flags|=128,c=!0,Ma(k,!1),r.lanes=4194304);k.isBackwards?(I.sibling=r.child,r.child=I):(u=k.last,u!==null?u.sibling=I:r.child=I,k.last=I)}return k.tail!==null?(r=k.tail,k.rendering=r,k.tail=r.sibling,k.renderingStartTime=Ie(),r.sibling=null,u=Ve.current,Oe(Ve,c?u&1|2:u&1),r):(Dn(r),null);case 22:case 23:return hh(),c=r.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(r.flags|=8192),c&&(r.mode&1)!==0?(Ei&1073741824)!==0&&(Dn(r),r.subtreeFlags&6&&(r.flags|=8192)):Dn(r),null;case 24:return null;case 25:return null}throw Error(f(156,r.tag))}function Jd(n,r){switch(yl(r),r.tag){case 1:return si(r.type)&&su(),n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 3:return ea(),ze(ri),ze(Mn),Rl(),n=r.flags,(n&65536)!==0&&(n&128)===0?(r.flags=n&-65537|128,r):null;case 5:return Pl(r),null;case 13:if(ze(Ve),n=r.memoizedState,n!==null&&n.dehydrated!==null){if(r.alternate===null)throw Error(f(340));$o()}return n=r.flags,n&65536?(r.flags=n&-65537|128,r):null;case 19:return ze(Ve),null;case 4:return ea(),null;case 10:return Ll(r.type._context),null;case 22:case 23:return hh(),null;case 24:return null;default:return null}}var Lu=!1,zn=!1,tg=typeof WeakSet=="function"?WeakSet:Set,Bt=null;function ia(n,r){var u=n.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(c){Qe(n,r,c)}else u.current=null}function Ql(n,r,u){try{u()}catch(c){Qe(n,r,c)}}var $c=!1;function eg(n,r){if(Dt=kr,n=N(),M(n)){if("selectionStart"in n)var u={start:n.selectionStart,end:n.selectionEnd};else t:{u=(u=n.ownerDocument)&&u.defaultView||window;var c=u.getSelection&&u.getSelection();if(c&&c.rangeCount!==0){u=c.anchorNode;var _=c.anchorOffset,k=c.focusNode;c=c.focusOffset;try{u.nodeType,k.nodeType}catch{u=null;break t}var I=0,G=-1,j=-1,dt=0,wt=0,St=n,kt=null;e:for(;;){for(var bt;St!==u||_!==0&&St.nodeType!==3||(G=I+_),St!==k||c!==0&&St.nodeType!==3||(j=I+c),St.nodeType===3&&(I+=St.nodeValue.length),(bt=St.firstChild)!==null;)kt=St,St=bt;for(;;){if(St===n)break e;if(kt===u&&++dt===_&&(G=I),kt===k&&++wt===c&&(j=I),(bt=St.nextSibling)!==null)break;St=kt,kt=St.parentNode}St=bt}u=G===-1||j===-1?null:{start:G,end:j}}else u=null}u=u||{start:0,end:0}}else u=null;for(jt={focusedElem:n,selectionRange:u},kr=!1,Bt=r;Bt!==null;)if(r=Bt,n=r.child,(r.subtreeFlags&1028)!==0&&n!==null)n.return=r,Bt=n;else for(;Bt!==null;){r=Bt;try{var Zt=r.alternate;if((r.flags&1024)!==0)switch(r.tag){case 0:case 11:case 15:break;case 1:if(Zt!==null){var Ut=Zt.memoizedProps,tn=Zt.memoizedState,lt=r.stateNode,nt=lt.getSnapshotBeforeUpdate(r.elementType===r.type?Ut:sr(r.type,Ut),tn);lt.__reactInternalSnapshotBeforeUpdate=nt}break;case 3:var ht=r.stateNode.containerInfo;ht.nodeType===1?ht.textContent="":ht.nodeType===9&&ht.documentElement&&ht.removeChild(ht.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(f(163))}}catch(Tt){Qe(r,r.return,Tt)}if(n=r.sibling,n!==null){n.return=r.return,Bt=n;break}Bt=r.return}return Zt=$c,$c=!1,Zt}function Aa(n,r,u){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var _=c=c.next;do{if((_.tag&n)===n){var k=_.destroy;_.destroy=void 0,k!==void 0&&Ql(r,u,k)}_=_.next}while(_!==c)}}function Iu(n,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var u=r=r.next;do{if((u.tag&n)===n){var c=u.create;u.destroy=c()}u=u.next}while(u!==r)}}function Jl(n){var r=n.ref;if(r!==null){var u=n.stateNode;switch(n.tag){case 5:n=u;break;default:n=u}typeof r=="function"?r(n):r.current=n}}function Qc(n){var r=n.alternate;r!==null&&(n.alternate=null,Qc(r)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(r=n.stateNode,r!==null&&(delete r[Ai],delete r[bs],delete r[Fs],delete r[gl],delete r[ml])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Jc(n){return n.tag===5||n.tag===3||n.tag===4}function tf(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Jc(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function th(n,r,u){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?u.nodeType===8?u.parentNode.insertBefore(n,r):u.insertBefore(n,r):(u.nodeType===8?(r=u.parentNode,r.insertBefore(n,u)):(r=u,r.appendChild(n)),u=u._reactRootContainer,u!=null||r.onclick!==null||(r.onclick=vt));else if(c!==4&&(n=n.child,n!==null))for(th(n,r,u),n=n.sibling;n!==null;)th(n,r,u),n=n.sibling}function eh(n,r,u){var c=n.tag;if(c===5||c===6)n=n.stateNode,r?u.insertBefore(n,r):u.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(eh(n,r,u),n=n.sibling;n!==null;)eh(n,r,u),n=n.sibling}var Sn=null,or=!1;function Ys(n,r,u){for(u=u.child;u!==null;)ef(n,r,u),u=u.sibling}function ef(n,r,u){if(yn&&typeof yn.onCommitFiberUnmount=="function")try{yn.onCommitFiberUnmount(Jn,u)}catch{}switch(u.tag){case 5:zn||ia(u,r);case 6:var c=Sn,_=or;Sn=null,Ys(n,r,u),Sn=c,or=_,Sn!==null&&(or?(n=Sn,u=u.stateNode,n.nodeType===8?n.parentNode.removeChild(u):n.removeChild(u)):Sn.removeChild(u.stateNode));break;case 18:Sn!==null&&(or?(n=Sn,u=u.stateNode,n.nodeType===8?Sa(n.parentNode,u):n.nodeType===1&&Sa(n,u),Nn(n)):Sa(Sn,u.stateNode));break;case 4:c=Sn,_=or,Sn=u.stateNode.containerInfo,or=!0,Ys(n,r,u),Sn=c,or=_;break;case 0:case 11:case 14:case 15:if(!zn&&(c=u.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){_=c=c.next;do{var k=_,I=k.destroy;k=k.tag,I!==void 0&&((k&2)!==0||(k&4)!==0)&&Ql(u,r,I),_=_.next}while(_!==c)}Ys(n,r,u);break;case 1:if(!zn&&(ia(u,r),c=u.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=u.memoizedProps,c.state=u.memoizedState,c.componentWillUnmount()}catch(G){Qe(u,r,G)}Ys(n,r,u);break;case 21:Ys(n,r,u);break;case 22:u.mode&1?(zn=(c=zn)||u.memoizedState!==null,Ys(n,r,u),zn=c):Ys(n,r,u);break;default:Ys(n,r,u)}}function nf(n){var r=n.updateQueue;if(r!==null){n.updateQueue=null;var u=n.stateNode;u===null&&(u=n.stateNode=new tg),r.forEach(function(c){var _=hg.bind(null,n,c);u.has(c)||(u.add(c),c.then(_,_))})}}function ar(n,r){var u=r.deletions;if(u!==null)for(var c=0;c<u.length;c++){var _=u[c];try{var k=n,I=r,G=I;t:for(;G!==null;){switch(G.tag){case 5:Sn=G.stateNode,or=!1;break t;case 3:Sn=G.stateNode.containerInfo,or=!0;break t;case 4:Sn=G.stateNode.containerInfo,or=!0;break t}G=G.return}if(Sn===null)throw Error(f(160));ef(k,I,_),Sn=null,or=!1;var j=_.alternate;j!==null&&(j.return=null),_.return=null}catch(dt){Qe(_,r,dt)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)rf(r,n),r=r.sibling}function rf(n,r){var u=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(ar(r,n),Mr(n),c&4){try{Aa(3,n,n.return),Iu(3,n)}catch(Ut){Qe(n,n.return,Ut)}try{Aa(5,n,n.return)}catch(Ut){Qe(n,n.return,Ut)}}break;case 1:ar(r,n),Mr(n),c&512&&u!==null&&ia(u,u.return);break;case 5:if(ar(r,n),Mr(n),c&512&&u!==null&&ia(u,u.return),n.flags&32){var _=n.stateNode;try{oe(_,"")}catch(Ut){Qe(n,n.return,Ut)}}if(c&4&&(_=n.stateNode,_!=null)){var k=n.memoizedProps,I=u!==null?u.memoizedProps:k,G=n.type,j=n.updateQueue;if(n.updateQueue=null,j!==null)try{G==="input"&&k.type==="radio"&&k.name!=null&&ds(_,k),Xi(G,I);var dt=Xi(G,k);for(I=0;I<j.length;I+=2){var wt=j[I],St=j[I+1];wt==="style"?ms(_,St):wt==="dangerouslySetInnerHTML"?gs(_,St):wt==="children"?oe(_,St):xt(_,wt,St,dt)}switch(G){case"input":Hi(_,k);break;case"textarea":ne(_,k);break;case"select":var kt=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!k.multiple;var bt=k.value;bt!=null?fi(_,!!k.multiple,bt,!1):kt!==!!k.multiple&&(k.defaultValue!=null?fi(_,!!k.multiple,k.defaultValue,!0):fi(_,!!k.multiple,k.multiple?[]:"",!1))}_[bs]=k}catch(Ut){Qe(n,n.return,Ut)}}break;case 6:if(ar(r,n),Mr(n),c&4){if(n.stateNode===null)throw Error(f(162));_=n.stateNode,k=n.memoizedProps;try{_.nodeValue=k}catch(Ut){Qe(n,n.return,Ut)}}break;case 3:if(ar(r,n),Mr(n),c&4&&u!==null&&u.memoizedState.isDehydrated)try{Nn(r.containerInfo)}catch(Ut){Qe(n,n.return,Ut)}break;case 4:ar(r,n),Mr(n);break;case 13:ar(r,n),Mr(n),_=n.child,_.flags&8192&&(k=_.memoizedState!==null,_.stateNode.isHidden=k,!k||_.alternate!==null&&_.alternate.memoizedState!==null||(rh=Ie())),c&4&&nf(n);break;case 22:if(wt=u!==null&&u.memoizedState!==null,n.mode&1?(zn=(dt=zn)||wt,ar(r,n),zn=dt):ar(r,n),Mr(n),c&8192){if(dt=n.memoizedState!==null,(n.stateNode.isHidden=dt)&&!wt&&(n.mode&1)!==0)for(Bt=n,wt=n.child;wt!==null;){for(St=Bt=wt;Bt!==null;){switch(kt=Bt,bt=kt.child,kt.tag){case 0:case 11:case 14:case 15:Aa(4,kt,kt.return);break;case 1:ia(kt,kt.return);var Zt=kt.stateNode;if(typeof Zt.componentWillUnmount=="function"){c=kt,u=kt.return;try{r=c,Zt.props=r.memoizedProps,Zt.state=r.memoizedState,Zt.componentWillUnmount()}catch(Ut){Qe(c,u,Ut)}}break;case 5:ia(kt,kt.return);break;case 22:if(kt.memoizedState!==null){af(St);continue}}bt!==null?(bt.return=kt,Bt=bt):af(St)}wt=wt.sibling}t:for(wt=null,St=n;;){if(St.tag===5){if(wt===null){wt=St;try{_=St.stateNode,dt?(k=_.style,typeof k.setProperty=="function"?k.setProperty("display","none","important"):k.display="none"):(G=St.stateNode,j=St.memoizedProps.style,I=j!=null&&j.hasOwnProperty("display")?j.display:null,G.style.display=bn("display",I))}catch(Ut){Qe(n,n.return,Ut)}}}else if(St.tag===6){if(wt===null)try{St.stateNode.nodeValue=dt?"":St.memoizedProps}catch(Ut){Qe(n,n.return,Ut)}}else if((St.tag!==22&&St.tag!==23||St.memoizedState===null||St===n)&&St.child!==null){St.child.return=St,St=St.child;continue}if(St===n)break t;for(;St.sibling===null;){if(St.return===null||St.return===n)break t;wt===St&&(wt=null),St=St.return}wt===St&&(wt=null),St.sibling.return=St.return,St=St.sibling}}break;case 19:ar(r,n),Mr(n),c&4&&nf(n);break;case 21:break;default:ar(r,n),Mr(n)}}function Mr(n){var r=n.flags;if(r&2){try{t:{for(var u=n.return;u!==null;){if(Jc(u)){var c=u;break t}u=u.return}throw Error(f(160))}switch(c.tag){case 5:var _=c.stateNode;c.flags&32&&(oe(_,""),c.flags&=-33);var k=tf(n);eh(n,k,_);break;case 3:case 4:var I=c.stateNode.containerInfo,G=tf(n);th(n,G,I);break;default:throw Error(f(161))}}catch(j){Qe(n,n.return,j)}n.flags&=-3}r&4096&&(n.flags&=-4097)}function ng(n,r,u){Bt=n,sf(n)}function sf(n,r,u){for(var c=(n.mode&1)!==0;Bt!==null;){var _=Bt,k=_.child;if(_.tag===22&&c){var I=_.memoizedState!==null||Lu;if(!I){var G=_.alternate,j=G!==null&&G.memoizedState!==null||zn;G=Lu;var dt=zn;if(Lu=I,(zn=j)&&!dt)for(Bt=_;Bt!==null;)I=Bt,j=I.child,I.tag===22&&I.memoizedState!==null?uf(_):j!==null?(j.return=I,Bt=j):uf(_);for(;k!==null;)Bt=k,sf(k),k=k.sibling;Bt=_,Lu=G,zn=dt}of(n)}else(_.subtreeFlags&8772)!==0&&k!==null?(k.return=_,Bt=k):of(n)}}function of(n){for(;Bt!==null;){var r=Bt;if((r.flags&8772)!==0){var u=r.alternate;try{if((r.flags&8772)!==0)switch(r.tag){case 0:case 11:case 15:zn||Iu(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!zn)if(u===null)c.componentDidMount();else{var _=r.elementType===r.type?u.memoizedProps:sr(r.type,u.memoizedProps);c.componentDidUpdate(_,u.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var k=r.updateQueue;k!==null&&oc(r,k,c);break;case 3:var I=r.updateQueue;if(I!==null){if(u=null,r.child!==null)switch(r.child.tag){case 5:u=r.child.stateNode;break;case 1:u=r.child.stateNode}oc(r,I,u)}break;case 5:var G=r.stateNode;if(u===null&&r.flags&4){u=G;var j=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":j.autoFocus&&u.focus();break;case"img":j.src&&(u.src=j.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var dt=r.alternate;if(dt!==null){var wt=dt.memoizedState;if(wt!==null){var St=wt.dehydrated;St!==null&&Nn(St)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(f(163))}zn||r.flags&512&&Jl(r)}catch(kt){Qe(r,r.return,kt)}}if(r===n){Bt=null;break}if(u=r.sibling,u!==null){u.return=r.return,Bt=u;break}Bt=r.return}}function af(n){for(;Bt!==null;){var r=Bt;if(r===n){Bt=null;break}var u=r.sibling;if(u!==null){u.return=r.return,Bt=u;break}Bt=r.return}}function uf(n){for(;Bt!==null;){var r=Bt;try{switch(r.tag){case 0:case 11:case 15:var u=r.return;try{Iu(4,r)}catch(j){Qe(r,u,j)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var _=r.return;try{c.componentDidMount()}catch(j){Qe(r,_,j)}}var k=r.return;try{Jl(r)}catch(j){Qe(r,k,j)}break;case 5:var I=r.return;try{Jl(r)}catch(j){Qe(r,I,j)}}}catch(j){Qe(r,r.return,j)}if(r===n){Bt=null;break}var G=r.sibling;if(G!==null){G.return=r.return,Bt=G;break}Bt=r.return}}var ig=Math.ceil,Nu=Mt.ReactCurrentDispatcher,nh=Mt.ReactCurrentOwner,Bi=Mt.ReactCurrentBatchConfig,_e=0,mn=null,sn=null,Ln=0,Ei=0,ra=Bs(0),cn=0,Da=null,Oo=0,Tu=0,ih=0,za=null,ai=null,rh=0,sa=1/0,hs=null,Cu=!1,sh=null,Hs=null,Pu=!1,Vs=null,Ou=0,ba=0,oh=null,Ru=-1,Mu=0;function Kn(){return(_e&6)!==0?Ie():Ru!==-1?Ru:Ru=Ie()}function Ws(n){return(n.mode&1)===0?1:(_e&2)!==0&&Ln!==0?Ln&-Ln:Gd.transition!==null?(Mu===0&&(Mu=Zo()),Mu):(n=le,n!==0||(n=window.event,n=n===void 0?16:ie(n.type)),n)}function ur(n,r,u,c){if(50<ba)throw ba=0,oh=null,Error(f(185));Bn(n,u,c),((_e&2)===0||n!==mn)&&(n===mn&&((_e&2)===0&&(Tu|=u),cn===4&&Xs(n,Ln)),ui(n,c),u===1&&_e===0&&(r.mode&1)===0&&(sa=Ie()+500,au&&Zs()))}function ui(n,r){var u=n.callbackNode;Hr(n,r);var c=me(n,n===mn?Ln:0);if(c===0)u!==null&&Me(u),n.callbackNode=null,n.callbackPriority=0;else if(r=c&-c,n.callbackPriority!==r){if(u!=null&&Me(u),r===1)n.tag===0?Bd(hf.bind(null,n)):Xh(hf.bind(null,n)),Rn(function(){(_e&6)===0&&Zs()}),u=null;else{switch(Ji(c)){case 1:u=qr;break;case 4:u=xs;break;case 16:u=Yr;break;case 536870912:u=nn;break;default:u=Yr}u=_f(u,lf.bind(null,n))}n.callbackPriority=r,n.callbackNode=u}}function lf(n,r){if(Ru=-1,Mu=0,(_e&6)!==0)throw Error(f(327));var u=n.callbackNode;if(oa()&&n.callbackNode!==u)return null;var c=me(n,n===mn?Ln:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||r)r=Au(n,c);else{r=c;var _=_e;_e|=2;var k=ff();(mn!==n||Ln!==r)&&(hs=null,sa=Ie()+500,Mo(n,r));do try{og();break}catch(G){cf(n,G)}while(!0);Sl(),Nu.current=k,_e=_,sn!==null?r=0:(mn=null,Ln=0,r=cn)}if(r!==0){if(r===2&&(_=Ze(n),_!==0&&(c=_,r=ah(n,_))),r===1)throw u=Da,Mo(n,0),Xs(n,c),ui(n,Ie()),u;if(r===6)Xs(n,c);else{if(_=n.current.alternate,(c&30)===0&&!rg(_)&&(r=Au(n,c),r===2&&(k=Ze(n),k!==0&&(c=k,r=ah(n,k))),r===1))throw u=Da,Mo(n,0),Xs(n,c),ui(n,Ie()),u;switch(n.finishedWork=_,n.finishedLanes=c,r){case 0:case 1:throw Error(f(345));case 2:Ao(n,ai,hs);break;case 3:if(Xs(n,c),(c&130023424)===c&&(r=rh+500-Ie(),10<r)){if(me(n,0)!==0)break;if(_=n.suspendedLanes,(_&c)!==c){Kn(),n.pingedLanes|=n.suspendedLanes&_;break}n.timeoutHandle=ln(Ao.bind(null,n,ai,hs),r);break}Ao(n,ai,hs);break;case 4:if(Xs(n,c),(c&4194240)===c)break;for(r=n.eventTimes,_=-1;0<c;){var I=31-te(c);k=1<<I,I=r[I],I>_&&(_=I),c&=~k}if(c=_,c=Ie()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*ig(c/1960))-c,10<c){n.timeoutHandle=ln(Ao.bind(null,n,ai,hs),c);break}Ao(n,ai,hs);break;case 5:Ao(n,ai,hs);break;default:throw Error(f(329))}}}return ui(n,Ie()),n.callbackNode===u?lf.bind(null,n):null}function ah(n,r){var u=za;return n.current.memoizedState.isDehydrated&&(Mo(n,r).flags|=256),n=Au(n,r),n!==2&&(r=ai,ai=u,r!==null&&uh(r)),n}function uh(n){ai===null?ai=n:ai.push.apply(ai,n)}function rg(n){for(var r=n;;){if(r.flags&16384){var u=r.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var c=0;c<u.length;c++){var _=u[c],k=_.getSnapshot;_=_.value;try{if(!s(k(),_))return!1}catch{return!1}}}if(u=r.child,r.subtreeFlags&16384&&u!==null)u.return=r,r=u;else{if(r===n)break;for(;r.sibling===null;){if(r.return===null||r.return===n)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Xs(n,r){for(r&=~ih,r&=~Tu,n.suspendedLanes|=r,n.pingedLanes&=~r,n=n.expirationTimes;0<r;){var u=31-te(r),c=1<<u;n[u]=-1,r&=~c}}function hf(n){if((_e&6)!==0)throw Error(f(327));oa();var r=me(n,0);if((r&1)===0)return ui(n,Ie()),null;var u=Au(n,r);if(n.tag!==0&&u===2){var c=Ze(n);c!==0&&(r=c,u=ah(n,c))}if(u===1)throw u=Da,Mo(n,0),Xs(n,r),ui(n,Ie()),u;if(u===6)throw Error(f(345));return n.finishedWork=n.current.alternate,n.finishedLanes=r,Ao(n,ai,hs),ui(n,Ie()),null}function lh(n,r){var u=_e;_e|=1;try{return n(r)}finally{_e=u,_e===0&&(sa=Ie()+500,au&&Zs())}}function Ro(n){Vs!==null&&Vs.tag===0&&(_e&6)===0&&oa();var r=_e;_e|=1;var u=Bi.transition,c=le;try{if(Bi.transition=null,le=1,n)return n()}finally{le=c,Bi.transition=u,_e=r,(_e&6)===0&&Zs()}}function hh(){Ei=ra.current,ze(ra)}function Mo(n,r){n.finishedWork=null,n.finishedLanes=0;var u=n.timeoutHandle;if(u!==-1&&(n.timeoutHandle=-1,rn(u)),sn!==null)for(u=sn.return;u!==null;){var c=u;switch(yl(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&su();break;case 3:ea(),ze(ri),ze(Mn),Rl();break;case 5:Pl(c);break;case 4:ea();break;case 13:ze(Ve);break;case 19:ze(Ve);break;case 10:Ll(c.type._context);break;case 22:case 23:hh()}u=u.return}if(mn=n,sn=n=js(n.current,null),Ln=Ei=r,cn=0,Da=null,ih=Tu=Oo=0,ai=za=null,To!==null){for(r=0;r<To.length;r++)if(u=To[r],c=u.interleaved,c!==null){u.interleaved=null;var _=c.next,k=u.pending;if(k!==null){var I=k.next;k.next=_,c.next=I}u.pending=c}To=null}return n}function cf(n,r){do{var u=sn;try{if(Sl(),vu.current=ku,_u){for(var c=We.memoizedState;c!==null;){var _=c.queue;_!==null&&(_.pending=null),c=c.next}_u=!1}if(Po=0,gn=hn=We=null,Ca=!1,Pa=0,nh.current=null,u===null||u.return===null){cn=1,Da=r,sn=null;break}t:{var k=n,I=u.return,G=u,j=r;if(r=Ln,G.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){var dt=j,wt=G,St=wt.tag;if((wt.mode&1)===0&&(St===0||St===11||St===15)){var kt=wt.alternate;kt?(wt.updateQueue=kt.updateQueue,wt.memoizedState=kt.memoizedState,wt.lanes=kt.lanes):(wt.updateQueue=null,wt.memoizedState=null)}var bt=Dc(I);if(bt!==null){bt.flags&=-257,zc(bt,I,G,k,r),bt.mode&1&&Ac(k,dt,r),r=bt,j=dt;var Zt=r.updateQueue;if(Zt===null){var Ut=new Set;Ut.add(j),r.updateQueue=Ut}else Zt.add(j);break t}else{if((r&1)===0){Ac(k,dt,r),ch();break t}j=Error(f(426))}}else if(Ge&&G.mode&1){var tn=Dc(I);if(tn!==null){(tn.flags&65536)===0&&(tn.flags|=256),zc(tn,I,G,k,r),wl(na(j,G));break t}}k=j=na(j,G),cn!==4&&(cn=2),za===null?za=[k]:za.push(k),k=I;do{switch(k.tag){case 3:k.flags|=65536,r&=-r,k.lanes|=r;var lt=Rc(k,j,r);sc(k,lt);break t;case 1:G=j;var nt=k.type,ht=k.stateNode;if((k.flags&128)===0&&(typeof nt.getDerivedStateFromError=="function"||ht!==null&&typeof ht.componentDidCatch=="function"&&(Hs===null||!Hs.has(ht)))){k.flags|=65536,r&=-r,k.lanes|=r;var Tt=Mc(k,G,r);sc(k,Tt);break t}}k=k.return}while(k!==null)}gf(u)}catch(Yt){r=Yt,sn===u&&u!==null&&(sn=u=u.return);continue}break}while(!0)}function ff(){var n=Nu.current;return Nu.current=ku,n===null?ku:n}function ch(){(cn===0||cn===3||cn===2)&&(cn=4),mn===null||(Oo&268435455)===0&&(Tu&268435455)===0||Xs(mn,Ln)}function Au(n,r){var u=_e;_e|=2;var c=ff();(mn!==n||Ln!==r)&&(hs=null,Mo(n,r));do try{sg();break}catch(_){cf(n,_)}while(!0);if(Sl(),_e=u,Nu.current=c,sn!==null)throw Error(f(261));return mn=null,Ln=0,cn}function sg(){for(;sn!==null;)df(sn)}function og(){for(;sn!==null&&!ga();)df(sn)}function df(n){var r=vf(n.alternate,n,Ei);n.memoizedProps=n.pendingProps,r===null?gf(n):sn=r,nh.current=null}function gf(n){var r=n;do{var u=r.alternate;if(n=r.return,(r.flags&32768)===0){if(u=Qd(u,r,Ei),u!==null){sn=u;return}}else{if(u=Jd(u,r),u!==null){u.flags&=32767,sn=u;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{cn=6,sn=null;return}}if(r=r.sibling,r!==null){sn=r;return}sn=r=n}while(r!==null);cn===0&&(cn=5)}function Ao(n,r,u){var c=le,_=Bi.transition;try{Bi.transition=null,le=1,ag(n,r,u,c)}finally{Bi.transition=_,le=c}return null}function ag(n,r,u,c){do oa();while(Vs!==null);if((_e&6)!==0)throw Error(f(327));u=n.finishedWork;var _=n.finishedLanes;if(u===null)return null;if(n.finishedWork=null,n.finishedLanes=0,u===n.current)throw Error(f(177));n.callbackNode=null,n.callbackPriority=0;var k=u.lanes|u.childLanes;if(Fe(n,k),n===mn&&(sn=mn=null,Ln=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||Pu||(Pu=!0,_f(Yr,function(){return oa(),null})),k=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||k){k=Bi.transition,Bi.transition=null;var I=le;le=1;var G=_e;_e|=4,nh.current=null,eg(n,u),rf(u,n),tt(jt),kr=!!Dt,jt=Dt=null,n.current=u,ng(u),ys(),_e=G,le=I,Bi.transition=k}else n.current=u;if(Pu&&(Pu=!1,Vs=n,Ou=_),k=n.pendingLanes,k===0&&(Hs=null),ti(u.stateNode),ui(n,Ie()),r!==null)for(c=n.onRecoverableError,u=0;u<r.length;u++)_=r[u],c(_.value,{componentStack:_.stack,digest:_.digest});if(Cu)throw Cu=!1,n=sh,sh=null,n;return(Ou&1)!==0&&n.tag!==0&&oa(),k=n.pendingLanes,(k&1)!==0?n===oh?ba++:(ba=0,oh=n):ba=0,Zs(),null}function oa(){if(Vs!==null){var n=Ji(Ou),r=Bi.transition,u=le;try{if(Bi.transition=null,le=16>n?16:n,Vs===null)var c=!1;else{if(n=Vs,Vs=null,Ou=0,(_e&6)!==0)throw Error(f(331));var _=_e;for(_e|=4,Bt=n.current;Bt!==null;){var k=Bt,I=k.child;if((Bt.flags&16)!==0){var G=k.deletions;if(G!==null){for(var j=0;j<G.length;j++){var dt=G[j];for(Bt=dt;Bt!==null;){var wt=Bt;switch(wt.tag){case 0:case 11:case 15:Aa(8,wt,k)}var St=wt.child;if(St!==null)St.return=wt,Bt=St;else for(;Bt!==null;){wt=Bt;var kt=wt.sibling,bt=wt.return;if(Qc(wt),wt===dt){Bt=null;break}if(kt!==null){kt.return=bt,Bt=kt;break}Bt=bt}}}var Zt=k.alternate;if(Zt!==null){var Ut=Zt.child;if(Ut!==null){Zt.child=null;do{var tn=Ut.sibling;Ut.sibling=null,Ut=tn}while(Ut!==null)}}Bt=k}}if((k.subtreeFlags&2064)!==0&&I!==null)I.return=k,Bt=I;else t:for(;Bt!==null;){if(k=Bt,(k.flags&2048)!==0)switch(k.tag){case 0:case 11:case 15:Aa(9,k,k.return)}var lt=k.sibling;if(lt!==null){lt.return=k.return,Bt=lt;break t}Bt=k.return}}var nt=n.current;for(Bt=nt;Bt!==null;){I=Bt;var ht=I.child;if((I.subtreeFlags&2064)!==0&&ht!==null)ht.return=I,Bt=ht;else t:for(I=nt;Bt!==null;){if(G=Bt,(G.flags&2048)!==0)try{switch(G.tag){case 0:case 11:case 15:Iu(9,G)}}catch(Yt){Qe(G,G.return,Yt)}if(G===I){Bt=null;break t}var Tt=G.sibling;if(Tt!==null){Tt.return=G.return,Bt=Tt;break t}Bt=G.return}}if(_e=_,Zs(),yn&&typeof yn.onPostCommitFiberRoot=="function")try{yn.onPostCommitFiberRoot(Jn,n)}catch{}c=!0}return c}finally{le=u,Bi.transition=r}}return!1}function mf(n,r,u){r=na(u,r),r=Rc(n,r,1),n=qs(n,r,1),r=Kn(),n!==null&&(Bn(n,1,r),ui(n,r))}function Qe(n,r,u){if(n.tag===3)mf(n,n,u);else for(;r!==null;){if(r.tag===3){mf(r,n,u);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Hs===null||!Hs.has(c))){n=na(u,n),n=Mc(r,n,1),r=qs(r,n,1),n=Kn(),r!==null&&(Bn(r,1,n),ui(r,n));break}}r=r.return}}function ug(n,r,u){var c=n.pingCache;c!==null&&c.delete(r),r=Kn(),n.pingedLanes|=n.suspendedLanes&u,mn===n&&(Ln&u)===u&&(cn===4||cn===3&&(Ln&130023424)===Ln&&500>Ie()-rh?Mo(n,0):ih|=u),ui(n,r)}function pf(n,r){r===0&&((n.mode&1)===0?r=1:(r=Qi,Qi<<=1,(Qi&130023424)===0&&(Qi=4194304)));var u=Kn();n=as(n,r),n!==null&&(Bn(n,r,u),ui(n,u))}function lg(n){var r=n.memoizedState,u=0;r!==null&&(u=r.retryLane),pf(n,u)}function hg(n,r){var u=0;switch(n.tag){case 13:var c=n.stateNode,_=n.memoizedState;_!==null&&(u=_.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(f(314))}c!==null&&c.delete(r),pf(n,u)}var vf;vf=function(n,r,u){if(n!==null)if(n.memoizedProps!==r.pendingProps||ri.current)oi=!0;else{if((n.lanes&u)===0&&(r.flags&128)===0)return oi=!1,$d(n,r,u);oi=(n.flags&131072)!==0}else oi=!1,Ge&&(r.flags&1048576)!==0&&jh(r,lu,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;Su(n,r),n=r.pendingProps;var _=Xo(r,Mn.current);ta(r,u),_=Dl(null,r,c,n,_,u);var k=zl();return r.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,si(c)?(k=!0,ou(r)):k=!1,r.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Tl(r),_.updater=wu,r.stateNode=_,_._reactInternals=r,Ul(r,c,n,u),r=Vl(null,r,c,!0,k,u)):(r.tag=0,Ge&&k&&_l(r),jn(null,r,_,u),r=r.child),r;case 16:c=r.elementType;t:{switch(Su(n,r),n=r.pendingProps,_=c._init,c=_(c._payload),r.type=c,_=r.tag=fg(c),n=sr(c,n),_){case 0:r=Hl(null,r,c,n,u);break t;case 1:r=Uc(null,r,c,n,u);break t;case 11:r=bc(null,r,c,n,u);break t;case 14:r=Fc(null,r,c,sr(c.type,n),u);break t}throw Error(f(306,c,""))}return r;case 0:return c=r.type,_=r.pendingProps,_=r.elementType===c?_:sr(c,_),Hl(n,r,c,_,u);case 1:return c=r.type,_=r.pendingProps,_=r.elementType===c?_:sr(c,_),Uc(n,r,c,_,u);case 3:t:{if(qc(r),n===null)throw Error(f(387));c=r.pendingProps,k=r.memoizedState,_=k.element,rc(n,r),mu(r,c,null,u);var I=r.memoizedState;if(c=I.element,k.isDehydrated)if(k={element:c,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},r.updateQueue.baseState=k,r.memoizedState=k,r.flags&256){_=na(Error(f(423)),r),r=Yc(n,r,c,u,_);break t}else if(c!==_){_=na(Error(f(424)),r),r=Yc(n,r,c,u,_);break t}else for(wi=Pr(r.stateNode.containerInfo.firstChild),ki=r,Ge=!0,rr=null,u=nc(r,null,c,u),r.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if($o(),c===_){r=ls(n,r,u);break t}jn(n,r,c,u)}r=r.child}return r;case 5:return ac(r),n===null&&kl(r),c=r.type,_=r.pendingProps,k=n!==null?n.memoizedProps:null,I=_.children,ue(c,_)?I=null:k!==null&&ue(c,k)&&(r.flags|=32),Zc(n,r),jn(n,r,I,u),r.child;case 6:return n===null&&kl(r),null;case 13:return Hc(n,r,u);case 4:return Cl(r,r.stateNode.containerInfo),c=r.pendingProps,n===null?r.child=Qo(r,null,c,u):jn(n,r,c,u),r.child;case 11:return c=r.type,_=r.pendingProps,_=r.elementType===c?_:sr(c,_),bc(n,r,c,_,u);case 7:return jn(n,r,r.pendingProps,u),r.child;case 8:return jn(n,r,r.pendingProps.children,u),r.child;case 12:return jn(n,r,r.pendingProps.children,u),r.child;case 10:t:{if(c=r.type._context,_=r.pendingProps,k=r.memoizedProps,I=_.value,Oe(fu,c._currentValue),c._currentValue=I,k!==null)if(s(k.value,I)){if(k.children===_.children&&!ri.current){r=ls(n,r,u);break t}}else for(k=r.child,k!==null&&(k.return=r);k!==null;){var G=k.dependencies;if(G!==null){I=k.child;for(var j=G.firstContext;j!==null;){if(j.context===c){if(k.tag===1){j=us(-1,u&-u),j.tag=2;var dt=k.updateQueue;if(dt!==null){dt=dt.shared;var wt=dt.pending;wt===null?j.next=j:(j.next=wt.next,wt.next=j),dt.pending=j}}k.lanes|=u,j=k.alternate,j!==null&&(j.lanes|=u),Il(k.return,u,r),G.lanes|=u;break}j=j.next}}else if(k.tag===10)I=k.type===r.type?null:k.child;else if(k.tag===18){if(I=k.return,I===null)throw Error(f(341));I.lanes|=u,G=I.alternate,G!==null&&(G.lanes|=u),Il(I,u,r),I=k.sibling}else I=k.child;if(I!==null)I.return=k;else for(I=k;I!==null;){if(I===r){I=null;break}if(k=I.sibling,k!==null){k.return=I.return,I=k;break}I=I.return}k=I}jn(n,r,_.children,u),r=r.child}return r;case 9:return _=r.type,c=r.pendingProps.children,ta(r,u),_=bi(_),c=c(_),r.flags|=1,jn(n,r,c,u),r.child;case 14:return c=r.type,_=sr(c,r.pendingProps),_=sr(c.type,_),Fc(n,r,c,_,u);case 15:return Bc(n,r,r.type,r.pendingProps,u);case 17:return c=r.type,_=r.pendingProps,_=r.elementType===c?_:sr(c,_),Su(n,r),r.tag=1,si(c)?(n=!0,ou(r)):n=!1,ta(r,u),Pc(r,c,_),Ul(r,c,_,u),Vl(null,r,c,!0,n,u);case 19:return Wc(n,r,u);case 22:return Gc(n,r,u)}throw Error(f(156,r.tag))};function _f(n,r){return dr(n,r)}function cg(n,r,u,c){this.tag=n,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gi(n,r,u,c){return new cg(n,r,u,c)}function fh(n){return n=n.prototype,!(!n||!n.isReactComponent)}function fg(n){if(typeof n=="function")return fh(n)?1:0;if(n!=null){if(n=n.$$typeof,n===W)return 11;if(n===U)return 14}return 2}function js(n,r){var u=n.alternate;return u===null?(u=Gi(n.tag,r,n.key,n.mode),u.elementType=n.elementType,u.type=n.type,u.stateNode=n.stateNode,u.alternate=n,n.alternate=u):(u.pendingProps=r,u.type=n.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=n.flags&14680064,u.childLanes=n.childLanes,u.lanes=n.lanes,u.child=n.child,u.memoizedProps=n.memoizedProps,u.memoizedState=n.memoizedState,u.updateQueue=n.updateQueue,r=n.dependencies,u.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},u.sibling=n.sibling,u.index=n.index,u.ref=n.ref,u}function Du(n,r,u,c,_,k){var I=2;if(c=n,typeof n=="function")fh(n)&&(I=1);else if(typeof n=="string")I=5;else t:switch(n){case Rt:return Do(u.children,_,k,r);case P:I=8,_|=8;break;case O:return n=Gi(12,u,r,_|2),n.elementType=O,n.lanes=k,n;case J:return n=Gi(13,u,r,_),n.elementType=J,n.lanes=k,n;case q:return n=Gi(19,u,r,_),n.elementType=q,n.lanes=k,n;case et:return zu(u,_,k,r);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case F:I=10;break t;case $:I=9;break t;case W:I=11;break t;case U:I=14;break t;case X:I=16,c=null;break t}throw Error(f(130,n==null?n:typeof n,""))}return r=Gi(I,u,r,_),r.elementType=n,r.type=c,r.lanes=k,r}function Do(n,r,u,c){return n=Gi(7,n,c,r),n.lanes=u,n}function zu(n,r,u,c){return n=Gi(22,n,c,r),n.elementType=et,n.lanes=u,n.stateNode={isHidden:!1},n}function dh(n,r,u){return n=Gi(6,n,null,r),n.lanes=u,n}function gh(n,r,u){return r=Gi(4,n.children!==null?n.children:[],n.key,r),r.lanes=u,r.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},r}function dg(n,r,u,c,_){this.tag=r,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mr(0),this.expirationTimes=mr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mr(0),this.identifierPrefix=c,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function mh(n,r,u,c,_,k,I,G,j){return n=new dg(n,r,u,G,j),r===1?(r=1,k===!0&&(r|=8)):r=0,k=Gi(3,null,null,r),n.current=k,k.stateNode=n,k.memoizedState={element:c,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tl(k),n}function gg(n,r,u){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Nt,key:c==null?null:""+c,children:n,containerInfo:r,implementation:u}}function yf(n){if(!n)return Gs;n=n._reactInternals;t:{if(Qn(n)!==n||n.tag!==1)throw Error(f(170));var r=n;do{switch(r.tag){case 3:r=r.stateNode.context;break t;case 1:if(si(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break t}}r=r.return}while(r!==null);throw Error(f(171))}if(n.tag===1){var u=n.type;if(si(u))return Vh(n,u,r)}return r}function xf(n,r,u,c,_,k,I,G,j){return n=mh(u,c,!0,n,_,k,I,G,j),n.context=yf(null),u=n.current,c=Kn(),_=Ws(u),k=us(c,_),k.callback=r??null,qs(u,k,_),n.current.lanes=_,Bn(n,_,c),ui(n,c),n}function bu(n,r,u,c){var _=r.current,k=Kn(),I=Ws(_);return u=yf(u),r.context===null?r.context=u:r.pendingContext=u,r=us(k,I),r.payload={element:n},c=c===void 0?null:c,c!==null&&(r.callback=c),n=qs(_,r,I),n!==null&&(ur(n,_,I,k),gu(n,_,I)),I}function Fu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function kf(n,r){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var u=n.retryLane;n.retryLane=u!==0&&u<r?u:r}}function ph(n,r){kf(n,r),(n=n.alternate)&&kf(n,r)}function mg(){return null}var wf=typeof reportError=="function"?reportError:function(n){console.error(n)};function vh(n){this._internalRoot=n}Bu.prototype.render=vh.prototype.render=function(n){var r=this._internalRoot;if(r===null)throw Error(f(409));bu(n,r,null,null)},Bu.prototype.unmount=vh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var r=n.containerInfo;Ro(function(){bu(null,n,null,null)}),r[Se]=null}};function Bu(n){this._internalRoot=n}Bu.prototype.unstable_scheduleHydration=function(n){if(n){var r=pr();n={blockedOn:null,target:n,priority:r};for(var u=0;u<Je.length&&r!==0&&r<Je[u].priority;u++);Je.splice(u,0,n),u===0&&fe(n)}};function _h(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Gu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Ef(){}function pg(n,r,u,c,_){if(_){if(typeof c=="function"){var k=c;c=function(){var dt=Fu(I);k.call(dt)}}var I=xf(r,c,n,0,null,!1,!1,"",Ef);return n._reactRootContainer=I,n[Se]=I.current,Ds(n.nodeType===8?n.parentNode:n),Ro(),I}for(;_=n.lastChild;)n.removeChild(_);if(typeof c=="function"){var G=c;c=function(){var dt=Fu(j);G.call(dt)}}var j=mh(n,0,!1,null,null,!1,!1,"",Ef);return n._reactRootContainer=j,n[Se]=j.current,Ds(n.nodeType===8?n.parentNode:n),Ro(function(){bu(r,j,u,c)}),j}function Zu(n,r,u,c,_){var k=u._reactRootContainer;if(k){var I=k;if(typeof _=="function"){var G=_;_=function(){var j=Fu(I);G.call(j)}}bu(r,I,n,_)}else I=pg(u,r,n,_,c);return Fu(I)}ws=function(n){switch(n.tag){case 3:var r=n.stateNode;if(r.current.memoizedState.isDehydrated){var u=Qt(r.pendingLanes);u!==0&&(ii(r,u|1),ui(r,Ie()),(_e&6)===0&&(sa=Ie()+500,Zs()))}break;case 13:Ro(function(){var c=as(n,1);if(c!==null){var _=Kn();ur(c,n,1,_)}}),ph(n,1)}},Ti=function(n){if(n.tag===13){var r=as(n,134217728);if(r!==null){var u=Kn();ur(r,n,134217728,u)}ph(n,134217728)}},Es=function(n){if(n.tag===13){var r=Ws(n),u=as(n,r);if(u!==null){var c=Kn();ur(u,n,r,c)}ph(n,r)}},pr=function(){return le},xe=function(n,r){var u=le;try{return le=n,r()}finally{le=u}},Si=function(n,r,u){switch(r){case"input":if(Hi(n,u),r=u.name,u.type==="radio"&&r!=null){for(u=n;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<u.length;r++){var c=u[r];if(c!==n&&c.form===n.form){var _=Vo(c);if(!_)throw Error(f(90));B(c),Hi(c,_)}}}break;case"textarea":ne(n,u);break;case"select":r=u.value,r!=null&&fi(n,!!u.multiple,r,!1)}},Ii=lh,Pt=Ro;var vg={usingClientEntryPoint:!1,Events:[ns,is,Vo,Fo,io,lh]},Fa={findFiberByHostInstance:es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},_g={bundleType:Fa.bundleType,version:Fa.version,rendererPackageName:Fa.rendererPackageName,rendererConfig:Fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mt.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=_s(n),n===null?null:n.stateNode},findFiberByHostInstance:Fa.findFiberByHostInstance||mg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uu.isDisabled&&Uu.supportsFiber)try{Jn=Uu.inject(_g),yn=Uu}catch{}}return li.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vg,li.createPortal=function(n,r){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_h(r))throw Error(f(200));return gg(n,r,null,u)},li.createRoot=function(n,r){if(!_h(n))throw Error(f(299));var u=!1,c="",_=wf;return r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(_=r.onRecoverableError)),r=mh(n,1,!1,null,null,u,!1,c,_),n[Se]=r.current,Ds(n.nodeType===8?n.parentNode:n),new vh(r)},li.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var r=n._reactInternals;if(r===void 0)throw typeof n.render=="function"?Error(f(188)):(n=Object.keys(n).join(","),Error(f(268,n)));return n=_s(r),n=n===null?null:n.stateNode,n},li.flushSync=function(n){return Ro(n)},li.hydrate=function(n,r,u){if(!Gu(r))throw Error(f(200));return Zu(null,n,r,!0,u)},li.hydrateRoot=function(n,r,u){if(!_h(n))throw Error(f(405));var c=u!=null&&u.hydratedSources||null,_=!1,k="",I=wf;if(u!=null&&(u.unstable_strictMode===!0&&(_=!0),u.identifierPrefix!==void 0&&(k=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),r=xf(r,null,n,1,u??null,_,!1,k,I),n[Se]=r.current,Ds(n),c)for(n=0;n<c.length;n++)u=c[n],_=u._getVersion,_=_(u._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[u,_]:r.mutableSourceEagerHydrationData.push(u,_);return new Bu(r)},li.render=function(n,r,u){if(!Gu(r))throw Error(f(200));return Zu(null,n,r,!1,u)},li.unmountComponentAtNode=function(n){if(!Gu(n))throw Error(f(40));return n._reactRootContainer?(Ro(function(){Zu(null,null,n,!1,function(){n._reactRootContainer=null,n[Se]=null})}),!0):!1},li.unstable_batchedUpdates=lh,li.unstable_renderSubtreeIntoContainer=function(n,r,u,c){if(!Gu(u))throw Error(f(200));if(n==null||n._reactInternals===void 0)throw Error(f(38));return Zu(n,r,u,!1,c)},li.version="18.3.1-next-f1338f8080-20240426",li}var Of;function ud(){if(Of)return kh.exports;Of=1;function m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m)}catch(g){console.error(g)}}return m(),kh.exports=Lg(),kh.exports}var Rf;function Ig(){if(Rf)return qu;Rf=1;var m=ud();return qu.createRoot=m.createRoot,qu.hydrateRoot=m.hydrateRoot,qu}var Ng=Ig();const Tg=Gh(Ng);function ld(m,g){const f=he.useRef(g);he.useEffect(function(){g!==f.current&&m.attributionControl!=null&&(f.current!=null&&m.attributionControl.removeAttribution(f.current),g!=null&&m.attributionControl.addAttribution(g)),f.current=g},[m,g])}var Cg=ud();const Pg=1;function Og(m){return Object.freeze({__version:Pg,map:m})}function $a(m,g){return Object.freeze({...m,...g})}const hd=he.createContext(null),Uh=hd.Provider;function Qa(){const m=he.useContext(hd);if(m==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return m}function qh(m){function g(f,y){const{instance:p,context:C}=m(f).current;return he.useImperativeHandle(y,()=>p),f.children==null?null:Xa.createElement(Uh,{value:C},f.children)}return he.forwardRef(g)}function Rg(m){function g(f,y){const[p,C]=he.useState(!1),{instance:R}=m(f,C).current;he.useImperativeHandle(y,()=>R),he.useEffect(function(){p&&R.update()},[R,p,f.children]);const S=R._contentNode;return S?Cg.createPortal(f.children,S):null}return he.forwardRef(g)}function Mg(m){function g(f,y){const{instance:p}=m(f).current;return he.useImperativeHandle(y,()=>p),null}return he.forwardRef(g)}function Ag(m){return function(f){const y=Qa(),p=m(f,y),{instance:C}=p.current,R=he.useRef(f.position),{position:S}=f;return he.useEffect(function(){return C.addTo(y.map),function(){C.remove()}},[y.map,C]),he.useEffect(function(){S!=null&&S!==R.current&&(C.setPosition(S),R.current=S)},[C,S]),p}}function Yh(m,g){const f=he.useRef();he.useEffect(function(){return g!=null&&m.instance.on(g),f.current=g,function(){f.current!=null&&m.instance.off(f.current),f.current=null}},[m,g])}function cl(m,g){const f=m.pane??g.pane;return f?{...m,pane:f}:m}function Dg(m,g){return function(y,p){const C=Qa(),R=m(cl(y,C),C);return ld(C.map,y.attribution),Yh(R.current,y.eventHandlers),g(R.current,C,y,p),R}}var Ua={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var zg=Ua.exports,Mf;function bg(){return Mf||(Mf=1,(function(m,g){(function(f,y){y(g)})(zg,(function(f){var y="1.9.4";function p(i){var a,h,v,w;for(h=1,v=arguments.length;h<v;h++){w=arguments[h];for(a in w)i[a]=w[a]}return i}var C=Object.create||(function(){function i(){}return function(a){return i.prototype=a,new i}})();function R(i,a){var h=Array.prototype.slice;if(i.bind)return i.bind.apply(i,h.call(arguments,1));var v=h.call(arguments,2);return function(){return i.apply(a,v.length?v.concat(h.call(arguments)):arguments)}}var S=0;function b(i){return"_leaflet_id"in i||(i._leaflet_id=++S),i._leaflet_id}function Z(i,a,h){var v,w,T,V;return V=function(){v=!1,w&&(T.apply(h,w),w=!1)},T=function(){v?w=arguments:(i.apply(h,arguments),setTimeout(V,a),v=!0)},T}function Y(i,a,h){var v=a[1],w=a[0],T=v-w;return i===v&&h?i:((i-w)%T+T)%T+w}function D(){return!1}function K(i,a){if(a===!1)return i;var h=Math.pow(10,a===void 0?6:a);return Math.round(i*h)/h}function ct(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function rt(i){return ct(i).split(/\s+/)}function pt(i,a){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?C(i.options):{});for(var h in a)i.options[h]=a[h];return i.options}function _t(i,a,h){var v=[];for(var w in i)v.push(encodeURIComponent(h?w.toUpperCase():w)+"="+encodeURIComponent(i[w]));return(!a||a.indexOf("?")===-1?"?":"&")+v.join("&")}var Ft=/\{ *([\w_ -]+) *\}/g;function ut(i,a){return i.replace(Ft,function(h,v){var w=a[v];if(w===void 0)throw new Error("No value provided for variable "+h);return typeof w=="function"&&(w=w(a)),w})}var xt=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function Mt(i,a){for(var h=0;h<i.length;h++)if(i[h]===a)return h;return-1}var Ct="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Nt(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var Rt=0;function P(i){var a=+new Date,h=Math.max(0,16-(a-Rt));return Rt=a+h,window.setTimeout(i,h)}var O=window.requestAnimationFrame||Nt("RequestAnimationFrame")||P,F=window.cancelAnimationFrame||Nt("CancelAnimationFrame")||Nt("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function $(i,a,h){if(h&&O===P)i.call(a);else return O.call(window,R(i,a))}function W(i){i&&F.call(window,i)}var J={__proto__:null,extend:p,create:C,bind:R,get lastId(){return S},stamp:b,throttle:Z,wrapNum:Y,falseFn:D,formatNum:K,trim:ct,splitWords:rt,setOptions:pt,getParamString:_t,template:ut,isArray:xt,indexOf:Mt,emptyImageUrl:Ct,requestFn:O,cancelFn:F,requestAnimFrame:$,cancelAnimFrame:W};function q(){}q.extend=function(i){var a=function(){pt(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},h=a.__super__=this.prototype,v=C(h);v.constructor=a,a.prototype=v;for(var w in this)Object.prototype.hasOwnProperty.call(this,w)&&w!=="prototype"&&w!=="__super__"&&(a[w]=this[w]);return i.statics&&p(a,i.statics),i.includes&&(U(i.includes),p.apply(null,[v].concat(i.includes))),p(v,i),delete v.statics,delete v.includes,v.options&&(v.options=h.options?C(h.options):{},p(v.options,i.options)),v._initHooks=[],v.callInitHooks=function(){if(!this._initHooksCalled){h.callInitHooks&&h.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,V=v._initHooks.length;T<V;T++)v._initHooks[T].call(this)}},a},q.include=function(i){var a=this.prototype.options;return p(this.prototype,i),i.options&&(this.prototype.options=a,this.mergeOptions(i.options)),this},q.mergeOptions=function(i){return p(this.prototype.options,i),this},q.addInitHook=function(i){var a=Array.prototype.slice.call(arguments,1),h=typeof i=="function"?i:function(){this[i].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(h),this};function U(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=xt(i)?i:[i];for(var a=0;a<i.length;a++)i[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var X={on:function(i,a,h){if(typeof i=="object")for(var v in i)this._on(v,i[v],a);else{i=rt(i);for(var w=0,T=i.length;w<T;w++)this._on(i[w],a,h)}return this},off:function(i,a,h){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var v in i)this._off(v,i[v],a);else{i=rt(i);for(var w=arguments.length===1,T=0,V=i.length;T<V;T++)w?this._off(i[T]):this._off(i[T],a,h)}return this},_on:function(i,a,h,v){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(i,a,h)===!1){h===this&&(h=void 0);var w={fn:a,ctx:h};v&&(w.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(w)}},_off:function(i,a,h){var v,w,T;if(this._events&&(v=this._events[i],!!v)){if(arguments.length===1){if(this._firingCount)for(w=0,T=v.length;w<T;w++)v[w].fn=D;delete this._events[i];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var V=this._listens(i,a,h);if(V!==!1){var at=v[V];this._firingCount&&(at.fn=D,this._events[i]=v=v.slice()),v.splice(V,1)}}},fire:function(i,a,h){if(!this.listens(i,h))return this;var v=p({},a,{type:i,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var w=this._events[i];if(w){this._firingCount=this._firingCount+1||1;for(var T=0,V=w.length;T<V;T++){var at=w[T],ft=at.fn;at.once&&this.off(i,ft,at.ctx),ft.call(at.ctx||this,v)}this._firingCount--}}return h&&this._propagateEvent(v),this},listens:function(i,a,h,v){typeof i!="string"&&console.warn('"string" type argument expected');var w=a;typeof a!="function"&&(v=!!a,w=void 0,h=void 0);var T=this._events&&this._events[i];if(T&&T.length&&this._listens(i,w,h)!==!1)return!0;if(v){for(var V in this._eventParents)if(this._eventParents[V].listens(i,a,h,v))return!0}return!1},_listens:function(i,a,h){if(!this._events)return!1;var v=this._events[i]||[];if(!a)return!!v.length;h===this&&(h=void 0);for(var w=0,T=v.length;w<T;w++)if(v[w].fn===a&&v[w].ctx===h)return w;return!1},once:function(i,a,h){if(typeof i=="object")for(var v in i)this._on(v,i[v],a,!0);else{i=rt(i);for(var w=0,T=i.length;w<T;w++)this._on(i[w],a,h,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[b(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[b(i)],this},_propagateEvent:function(i){for(var a in this._eventParents)this._eventParents[a].fire(i.type,p({layer:i.target,propagatedFrom:i.target},i),!0)}};X.addEventListener=X.on,X.removeEventListener=X.clearAllEventListeners=X.off,X.addOneTimeEventListener=X.once,X.fireEvent=X.fire,X.hasEventListeners=X.listens;var et=q.extend(X);function A(i,a,h){this.x=h?Math.round(i):i,this.y=h?Math.round(a):a}var it=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};A.prototype={clone:function(){return new A(this.x,this.y)},add:function(i){return this.clone()._add(H(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(H(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new A(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new A(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=it(this.x),this.y=it(this.y),this},distanceTo:function(i){i=H(i);var a=i.x-this.x,h=i.y-this.y;return Math.sqrt(a*a+h*h)},equals:function(i){return i=H(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=H(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+K(this.x)+", "+K(this.y)+")"}};function H(i,a,h){return i instanceof A?i:xt(i)?new A(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new A(i.x,i.y):new A(i,a,h)}function z(i,a){if(i)for(var h=a?[i,a]:i,v=0,w=h.length;v<w;v++)this.extend(h[v])}z.prototype={extend:function(i){var a,h;if(!i)return this;if(i instanceof A||typeof i[0]=="number"||"x"in i)a=h=H(i);else if(i=st(i),a=i.min,h=i.max,!a||!h)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=h.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(h.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(h.y,this.max.y)),this},getCenter:function(i){return H((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return H(this.min.x,this.max.y)},getTopRight:function(){return H(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var a,h;return typeof i[0]=="number"||i instanceof A?i=H(i):i=st(i),i instanceof z?(a=i.min,h=i.max):a=h=i,a.x>=this.min.x&&h.x<=this.max.x&&a.y>=this.min.y&&h.y<=this.max.y},intersects:function(i){i=st(i);var a=this.min,h=this.max,v=i.min,w=i.max,T=w.x>=a.x&&v.x<=h.x,V=w.y>=a.y&&v.y<=h.y;return T&&V},overlaps:function(i){i=st(i);var a=this.min,h=this.max,v=i.min,w=i.max,T=w.x>a.x&&v.x<h.x,V=w.y>a.y&&v.y<h.y;return T&&V},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var a=this.min,h=this.max,v=Math.abs(a.x-h.x)*i,w=Math.abs(a.y-h.y)*i;return st(H(a.x-v,a.y-w),H(h.x+v,h.y+w))},equals:function(i){return i?(i=st(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function st(i,a){return!i||i instanceof z?i:new z(i,a)}function It(i,a){if(i)for(var h=a?[i,a]:i,v=0,w=h.length;v<w;v++)this.extend(h[v])}It.prototype={extend:function(i){var a=this._southWest,h=this._northEast,v,w;if(i instanceof yt)v=i,w=i;else if(i instanceof It){if(v=i._southWest,w=i._northEast,!v||!w)return this}else return i?this.extend(Et(i)||gt(i)):this;return!a&&!h?(this._southWest=new yt(v.lat,v.lng),this._northEast=new yt(w.lat,w.lng)):(a.lat=Math.min(v.lat,a.lat),a.lng=Math.min(v.lng,a.lng),h.lat=Math.max(w.lat,h.lat),h.lng=Math.max(w.lng,h.lng)),this},pad:function(i){var a=this._southWest,h=this._northEast,v=Math.abs(a.lat-h.lat)*i,w=Math.abs(a.lng-h.lng)*i;return new It(new yt(a.lat-v,a.lng-w),new yt(h.lat+v,h.lng+w))},getCenter:function(){return new yt((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new yt(this.getNorth(),this.getWest())},getSouthEast:function(){return new yt(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof yt||"lat"in i?i=Et(i):i=gt(i);var a=this._southWest,h=this._northEast,v,w;return i instanceof It?(v=i.getSouthWest(),w=i.getNorthEast()):v=w=i,v.lat>=a.lat&&w.lat<=h.lat&&v.lng>=a.lng&&w.lng<=h.lng},intersects:function(i){i=gt(i);var a=this._southWest,h=this._northEast,v=i.getSouthWest(),w=i.getNorthEast(),T=w.lat>=a.lat&&v.lat<=h.lat,V=w.lng>=a.lng&&v.lng<=h.lng;return T&&V},overlaps:function(i){i=gt(i);var a=this._southWest,h=this._northEast,v=i.getSouthWest(),w=i.getNorthEast(),T=w.lat>a.lat&&v.lat<h.lat,V=w.lng>a.lng&&v.lng<h.lng;return T&&V},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,a){return i?(i=gt(i),this._southWest.equals(i.getSouthWest(),a)&&this._northEast.equals(i.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function gt(i,a){return i instanceof It?i:new It(i,a)}function yt(i,a,h){if(isNaN(i)||isNaN(a))throw new Error("Invalid LatLng object: ("+i+", "+a+")");this.lat=+i,this.lng=+a,h!==void 0&&(this.alt=+h)}yt.prototype={equals:function(i,a){if(!i)return!1;i=Et(i);var h=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return h<=(a===void 0?1e-9:a)},toString:function(i){return"LatLng("+K(this.lat,i)+", "+K(this.lng,i)+")"},distanceTo:function(i){return Q.distance(this,Et(i))},wrap:function(){return Q.wrapLatLng(this)},toBounds:function(i){var a=180*i/40075017,h=a/Math.cos(Math.PI/180*this.lat);return gt([this.lat-a,this.lng-h],[this.lat+a,this.lng+h])},clone:function(){return new yt(this.lat,this.lng,this.alt)}};function Et(i,a,h){return i instanceof yt?i:xt(i)&&typeof i[0]!="object"?i.length===3?new yt(i[0],i[1],i[2]):i.length===2?new yt(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new yt(i.lat,"lng"in i?i.lng:i.lon,i.alt):a===void 0?null:new yt(i,a,h)}var Ht={latLngToPoint:function(i,a){var h=this.projection.project(i),v=this.scale(a);return this.transformation._transform(h,v)},pointToLatLng:function(i,a){var h=this.scale(a),v=this.transformation.untransform(i,h);return this.projection.unproject(v)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var a=this.projection.bounds,h=this.scale(i),v=this.transformation.transform(a.min,h),w=this.transformation.transform(a.max,h);return new z(v,w)},infinite:!1,wrapLatLng:function(i){var a=this.wrapLng?Y(i.lng,this.wrapLng,!0):i.lng,h=this.wrapLat?Y(i.lat,this.wrapLat,!0):i.lat,v=i.alt;return new yt(h,a,v)},wrapLatLngBounds:function(i){var a=i.getCenter(),h=this.wrapLatLng(a),v=a.lat-h.lat,w=a.lng-h.lng;if(v===0&&w===0)return i;var T=i.getSouthWest(),V=i.getNorthEast(),at=new yt(T.lat-v,T.lng-w),ft=new yt(V.lat-v,V.lng-w);return new It(at,ft)}},Q=p({},Ht,{wrapLng:[-180,180],R:6371e3,distance:function(i,a){var h=Math.PI/180,v=i.lat*h,w=a.lat*h,T=Math.sin((a.lat-i.lat)*h/2),V=Math.sin((a.lng-i.lng)*h/2),at=T*T+Math.cos(v)*Math.cos(w)*V*V,ft=2*Math.atan2(Math.sqrt(at),Math.sqrt(1-at));return this.R*ft}}),ve=6378137,ee={R:ve,MAX_LATITUDE:85.0511287798,project:function(i){var a=Math.PI/180,h=this.MAX_LATITUDE,v=Math.max(Math.min(h,i.lat),-h),w=Math.sin(v*a);return new A(this.R*i.lng*a,this.R*Math.log((1+w)/(1-w))/2)},unproject:function(i){var a=180/Math.PI;return new yt((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*a,i.x*a/this.R)},bounds:(function(){var i=ve*Math.PI;return new z([-i,-i],[i,i])})()};function At(i,a,h,v){if(xt(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=a,this._c=h,this._d=v}At.prototype={transform:function(i,a){return this._transform(i.clone(),a)},_transform:function(i,a){return a=a||1,i.x=a*(this._a*i.x+this._b),i.y=a*(this._c*i.y+this._d),i},untransform:function(i,a){return a=a||1,new A((i.x/a-this._b)/this._a,(i.y/a-this._d)/this._c)}};function B(i,a,h,v){return new At(i,a,h,v)}var ye=p({},Q,{code:"EPSG:3857",projection:ee,transformation:(function(){var i=.5/(Math.PI*ee.R);return B(i,.5,-i,.5)})()}),Pe=p({},ye,{code:"EPSG:900913"});function ge(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function ds(i,a){var h="",v,w,T,V,at,ft;for(v=0,T=i.length;v<T;v++){for(at=i[v],w=0,V=at.length;w<V;w++)ft=at[w],h+=(w?"L":"M")+ft.x+" "+ft.y;h+=a?Gt.svg?"z":"x":""}return h||"M0 0"}var Hi=document.documentElement.style,Fr="ActiveXObject"in window,Lt=Fr&&!document.addEventListener,Vi="msLaunchUri"in navigator&&!("documentMode"in document),fi=be("webkit"),$n=be("android"),eo=be("android 2")||be("android 3"),ne=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),hr=$n&&be("Google")&&ne<537&&!("AudioNode"in window),Wi=!!window.opera,cr=!Vi&&be("chrome"),Vt=be("gecko")&&!fi&&!Wi&&!Fr,gs=!cr&&be("safari"),oe=be("phantom"),Wt="OTransition"in Hi,da=navigator.platform.indexOf("Win")===0,bn=Fr&&"transition"in Hi,ms="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!eo,Xt="MozPerspective"in Hi,no=!window.L_DISABLE_3D&&(bn||ms||Xt)&&!Wt&&!oe,Xi=typeof orientation<"u"||be("mobile"),Br=Xi&&fi,fn=Xi&&ms,Si=!window.PointerEvent&&window.MSPointerEvent,en=!!(window.PointerEvent||Si),Li="ontouchstart"in window||!!window.TouchEvent,Gr=!window.L_NO_TOUCH&&(Li||en),Fo=Xi&&Wi,io=Xi&&Vt,Ii=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Pt=(function(){var i=!1;try{var a=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",D,a),window.removeEventListener("testPassiveEventSupport",D,a)}catch{}return i})(),fr=(function(){return!!document.createElement("canvas").getContext})(),ji=!!(document.createElementNS&&ge("svg").createSVGRect),di=!!ji&&(function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"})(),ps=!ji&&(function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var a=i.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}})(),Ki=navigator.platform.indexOf("Mac")===0,Bo=navigator.platform.indexOf("Linux")===0;function be(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var Gt={ie:Fr,ielt9:Lt,edge:Vi,webkit:fi,android:$n,android23:eo,androidStock:hr,opera:Wi,chrome:cr,gecko:Vt,safari:gs,phantom:oe,opera12:Wt,win:da,ie3d:bn,webkit3d:ms,gecko3d:Xt,any3d:no,mobile:Xi,mobileWebkit:Br,mobileWebkit3d:fn,msPointer:Si,pointer:en,touch:Gr,touchNative:Li,mobileOpera:Fo,mobileGecko:io,retina:Ii,passiveEvents:Pt,canvas:fr,svg:ji,vml:ps,inlineSvg:di,mac:Ki,linux:Bo},Ni=Gt.msPointer?"MSPointerDown":"pointerdown",vs=Gt.msPointer?"MSPointerMove":"pointermove",ro=Gt.msPointer?"MSPointerUp":"pointerup",Go=Gt.msPointer?"MSPointerCancel":"pointercancel",on={touchstart:Ni,touchmove:vs,touchend:ro,touchcancel:Go},Qn={touchstart:Ie,touchmove:ys,touchend:ys,touchcancel:ys},Fn={},gi=!1;function $i(i,a,h){return a==="touchstart"&&ga(),Qn[a]?(h=Qn[a].bind(this,h),i.addEventListener(on[a],h,!1),h):(console.warn("wrong event specified:",a),D)}function _s(i,a,h){if(!on[a]){console.warn("wrong event specified:",a);return}i.removeEventListener(on[a],h,!1)}function Zr(i){Fn[i.pointerId]=i}function dr(i){Fn[i.pointerId]&&(Fn[i.pointerId]=i)}function Me(i){delete Fn[i.pointerId]}function ga(){gi||(document.addEventListener(Ni,Zr,!0),document.addEventListener(vs,dr,!0),document.addEventListener(ro,Me,!0),document.addEventListener(Go,Me,!0),gi=!0)}function ys(i,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var h in Fn)a.touches.push(Fn[h]);a.changedTouches=[a],i(a)}}function Ie(i,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&Le(a),ys(i,a)}function Ur(i){var a={},h,v;for(v in i)h=i[v],a[v]=h&&h.bind?h.bind(i):h;return i=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var qr=200;function xs(i,a){i.addEventListener("dblclick",a);var h=0,v;function w(T){if(T.detail!==1){v=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var V=De(T);if(!(V.some(function(ft){return ft instanceof HTMLLabelElement&&ft.attributes.for})&&!V.some(function(ft){return ft instanceof HTMLInputElement||ft instanceof HTMLSelectElement}))){var at=Date.now();at-h<=qr?(v++,v===2&&a(Ur(T))):v=1,h=at}}}return i.addEventListener("click",w),{dblclick:a,simDblclick:w}}function Yr(i,a){i.removeEventListener("dblclick",a.dblclick),i.removeEventListener("click",a.simDblclick)}var so=mr(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),nn=mr(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Jn=nn==="webkitTransition"||nn==="OTransition"?nn+"End":"transitionend";function yn(i){return typeof i=="string"?document.getElementById(i):i}function ti(i,a){var h=i.style[a]||i.currentStyle&&i.currentStyle[a];if((!h||h==="auto")&&document.defaultView){var v=document.defaultView.getComputedStyle(i,null);h=v?v[a]:null}return h==="auto"?null:h}function te(i,a,h){var v=document.createElement(i);return v.className=a||"",h&&h.appendChild(v),v}function Ce(i){var a=i.parentNode;a&&a.removeChild(i)}function ks(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function gr(i){var a=i.parentNode;a&&a.lastChild!==i&&a.appendChild(i)}function ei(i){var a=i.parentNode;a&&a.firstChild!==i&&a.insertBefore(i,a.firstChild)}function Qi(i,a){if(i.classList!==void 0)return i.classList.contains(a);var h=Hr(i);return h.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(h)}function Qt(i,a){if(i.classList!==void 0)for(var h=rt(a),v=0,w=h.length;v<w;v++)i.classList.add(h[v]);else if(!Qi(i,a)){var T=Hr(i);ni(i,(T?T+" ":"")+a)}}function me(i,a){i.classList!==void 0?i.classList.remove(a):ni(i,ct((" "+Hr(i)+" ").replace(" "+a+" "," ")))}function ni(i,a){i.className.baseVal===void 0?i.className=a:i.className.baseVal=a}function Hr(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Ze(i,a){"opacity"in i.style?i.style.opacity=a:"filter"in i.style&&Zo(i,a)}function Zo(i,a){var h=!1,v="DXImageTransform.Microsoft.Alpha";try{h=i.filters.item(v)}catch{if(a===1)return}a=Math.round(a*100),h?(h.Enabled=a!==100,h.Opacity=a):i.style.filter+=" progid:"+v+"(opacity="+a+")"}function mr(i){for(var a=document.documentElement.style,h=0;h<i.length;h++)if(i[h]in a)return i[h];return!1}function Bn(i,a,h){var v=a||new A(0,0);i.style[so]=(Gt.ie3d?"translate("+v.x+"px,"+v.y+"px)":"translate3d("+v.x+"px,"+v.y+"px,0)")+(h?" scale("+h+")":"")}function Fe(i,a){i._leaflet_pos=a,Gt.any3d?Bn(i,a):(i.style.left=a.x+"px",i.style.top=a.y+"px")}function ii(i){return i._leaflet_pos||new A(0,0)}var le,Ji,ws;if("onselectstart"in document)le=function(){Jt(window,"selectstart",Le)},Ji=function(){Ee(window,"selectstart",Le)};else{var Ti=mr(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);le=function(){if(Ti){var i=document.documentElement.style;ws=i[Ti],i[Ti]="none"}},Ji=function(){Ti&&(document.documentElement.style[Ti]=ws,ws=void 0)}}function Es(){Jt(window,"dragstart",Le)}function pr(){Ee(window,"dragstart",Le)}var xe,Gn;function vr(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(xn(),xe=i,Gn=i.style.outlineStyle,i.style.outlineStyle="none",Jt(window,"keydown",xn))}function xn(){xe&&(xe.style.outlineStyle=Gn,xe=void 0,Gn=void 0,Ee(window,"keydown",xn))}function Be(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Ae(i){var a=i.getBoundingClientRect();return{x:a.width/i.offsetWidth||1,y:a.height/i.offsetHeight||1,boundingClientRect:a}}var Ci={__proto__:null,TRANSFORM:so,TRANSITION:nn,TRANSITION_END:Jn,get:yn,getStyle:ti,create:te,remove:Ce,empty:ks,toFront:gr,toBack:ei,hasClass:Qi,addClass:Qt,removeClass:me,setClass:ni,getClass:Hr,setOpacity:Ze,testProp:mr,setTransform:Bn,setPosition:Fe,getPosition:ii,get disableTextSelection(){return le},get enableTextSelection(){return Ji},disableImageDrag:Es,enableImageDrag:pr,preventOutline:vr,restoreOutline:xn,getSizedParentNode:Be,getScale:Ae};function Jt(i,a,h,v){if(a&&typeof a=="object")for(var w in a)Ss(i,w,a[w],h);else{a=rt(a);for(var T=0,V=a.length;T<V;T++)Ss(i,a[T],h,v)}return this}var Je="_leaflet_events";function Ee(i,a,h,v){if(arguments.length===1)_r(i),delete i[Je];else if(a&&typeof a=="object")for(var w in a)fe(i,w,a[w],h);else if(a=rt(a),arguments.length===2)_r(i,function(at){return Mt(a,at)!==-1});else for(var T=0,V=a.length;T<V;T++)fe(i,a[T],h,v);return this}function _r(i,a){for(var h in i[Je]){var v=h.split(/\d/)[0];(!a||a(v))&&fe(i,v,null,null,h)}}var tr={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ss(i,a,h,v){var w=a+b(h)+(v?"_"+b(v):"");if(i[Je]&&i[Je][w])return this;var T=function(at){return h.call(v||i,at||window.event)},V=T;!Gt.touchNative&&Gt.pointer&&a.indexOf("touch")===0?T=$i(i,a,T):Gt.touch&&a==="dblclick"?T=xs(i,T):"addEventListener"in i?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?i.addEventListener(tr[a]||a,T,Gt.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(T=function(at){at=at||window.event,wr(i,at)&&V(at)},i.addEventListener(tr[a],T,!1)):i.addEventListener(a,V,!1):i.attachEvent("on"+a,T),i[Je]=i[Je]||{},i[Je][w]=T}function fe(i,a,h,v,w){w=w||a+b(h)+(v?"_"+b(v):"");var T=i[Je]&&i[Je][w];if(!T)return this;!Gt.touchNative&&Gt.pointer&&a.indexOf("touch")===0?_s(i,a,T):Gt.touch&&a==="dblclick"?Yr(i,T):"removeEventListener"in i?i.removeEventListener(tr[a]||a,T,!1):i.detachEvent("on"+a,T),i[Je][w]=null}function Ue(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function yr(i){return Ss(i,"wheel",Ue),this}function xr(i){return Jt(i,"mousedown touchstart dblclick contextmenu",Ue),i._leaflet_disable_click=!0,this}function Le(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function Nn(i){return Le(i),Ue(i),this}function De(i){if(i.composedPath)return i.composedPath();for(var a=[],h=i.target;h;)a.push(h),h=h.parentNode;return a}function kr(i,a){if(!a)return new A(i.clientX,i.clientY);var h=Ae(a),v=h.boundingClientRect;return new A((i.clientX-v.left)/h.x-a.clientLeft,(i.clientY-v.top)/h.y-a.clientTop)}var oo=Gt.linux&&Gt.chrome?window.devicePixelRatio:Gt.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function ao(i){return Gt.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/oo:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function wr(i,a){var h=a.relatedTarget;if(!h)return!0;try{for(;h&&h!==i;)h=h.parentNode}catch{return!1}return h!==i}var Ls={__proto__:null,on:Jt,off:Ee,stopPropagation:Ue,disableScrollPropagation:yr,disableClickPropagation:xr,preventDefault:Le,stop:Nn,getPropagationPath:De,getMousePosition:kr,getWheelDelta:ao,isExternalTarget:wr,addListener:Jt,removeListener:Ee},Vr=et.extend({run:function(i,a,h,v){this.stop(),this._el=i,this._inProgress=!0,this._duration=h||.25,this._easeOutPower=1/Math.max(v||.5,.2),this._startPos=ii(i),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=$(this._animate,this),this._step()},_step:function(i){var a=+new Date-this._startTime,h=this._duration*1e3;a<h?this._runFrame(this._easeOut(a/h),i):(this._runFrame(1),this._complete())},_runFrame:function(i,a){var h=this._startPos.add(this._offset.multiplyBy(i));a&&h._round(),Fe(this._el,h),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),ie=et.extend({options:{crs:ye,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,a){a=pt(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=R(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(Et(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=nn&&Gt.any3d&&!Gt.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Jt(this._proxy,Jn,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,a,h){if(a=a===void 0?this._zoom:this._limitZoom(a),i=this._limitCenter(Et(i),a,this.options.maxBounds),h=h||{},this._stop(),this._loaded&&!h.reset&&h!==!0){h.animate!==void 0&&(h.zoom=p({animate:h.animate},h.zoom),h.pan=p({animate:h.animate,duration:h.duration},h.pan));var v=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,a,h.zoom):this._tryAnimatedPan(i,h.pan);if(v)return clearTimeout(this._sizeTimer),this}return this._resetView(i,a,h.pan&&h.pan.noMoveStart),this},setZoom:function(i,a){return this._loaded?this.setView(this.getCenter(),i,{zoom:a}):(this._zoom=i,this)},zoomIn:function(i,a){return i=i||(Gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,a)},zoomOut:function(i,a){return i=i||(Gt.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,a)},setZoomAround:function(i,a,h){var v=this.getZoomScale(a),w=this.getSize().divideBy(2),T=i instanceof A?i:this.latLngToContainerPoint(i),V=T.subtract(w).multiplyBy(1-1/v),at=this.containerPointToLatLng(w.add(V));return this.setView(at,a,{zoom:h})},_getBoundsCenterZoom:function(i,a){a=a||{},i=i.getBounds?i.getBounds():gt(i);var h=H(a.paddingTopLeft||a.padding||[0,0]),v=H(a.paddingBottomRight||a.padding||[0,0]),w=this.getBoundsZoom(i,!1,h.add(v));if(w=typeof a.maxZoom=="number"?Math.min(a.maxZoom,w):w,w===1/0)return{center:i.getCenter(),zoom:w};var T=v.subtract(h).divideBy(2),V=this.project(i.getSouthWest(),w),at=this.project(i.getNorthEast(),w),ft=this.unproject(V.add(at).divideBy(2).add(T),w);return{center:ft,zoom:w}},fitBounds:function(i,a){if(i=gt(i),!i.isValid())throw new Error("Bounds are not valid.");var h=this._getBoundsCenterZoom(i,a);return this.setView(h.center,h.zoom,a)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,a){return this.setView(i,this._zoom,{pan:a})},panBy:function(i,a){if(i=H(i).round(),a=a||{},!i.x&&!i.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Vr,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){Qt(this._mapPane,"leaflet-pan-anim");var h=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,h,a.duration||.25,a.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,a,h){if(h=h||{},h.animate===!1||!Gt.any3d)return this.setView(i,a,h);this._stop();var v=this.project(this.getCenter()),w=this.project(i),T=this.getSize(),V=this._zoom;i=Et(i),a=a===void 0?V:a;var at=Math.max(T.x,T.y),ft=at*this.getZoomScale(V,a),vt=w.distanceTo(v)||1,Dt=1.42,jt=Dt*Dt;function ue(Se){var Fs=Se?-1:1,gl=Se?ft:at,ml=ft*ft-at*at+Fs*jt*jt*vt*vt,es=2*gl*jt*vt,ns=ml/es,is=Math.sqrt(ns*ns+1)-ns,Vo=is<1e-9?-18:Math.log(is);return Vo}function ln(Se){return(Math.exp(Se)-Math.exp(-Se))/2}function rn(Se){return(Math.exp(Se)+Math.exp(-Se))/2}function Xn(Se){return ln(Se)/rn(Se)}var Rn=ue(0);function zs(Se){return at*(rn(Rn)/rn(Rn+Dt*Se))}function Sa(Se){return at*(rn(Rn)*Xn(Rn+Dt*Se)-ln(Rn))/jt}function Pr(Se){return 1-Math.pow(1-Se,1.5)}var ru=Date.now(),ts=(ue(1)-Rn)/Dt,Ai=h.duration?1e3*h.duration:1e3*ts*.8;function bs(){var Se=(Date.now()-ru)/Ai,Fs=Pr(Se)*ts;Se<=1?(this._flyToFrame=$(bs,this),this._move(this.unproject(v.add(w.subtract(v).multiplyBy(Sa(Fs)/vt)),V),this.getScaleZoom(at/zs(Fs),V),{flyTo:!0})):this._move(i,a)._moveEnd(!0)}return this._moveStart(!0,h.noMoveStart),bs.call(this),this},flyToBounds:function(i,a){var h=this._getBoundsCenterZoom(i,a);return this.flyTo(h.center,h.zoom,a)},setMaxBounds:function(i){return i=gt(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var a=this.options.minZoom;return this.options.minZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var a=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&a!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,a){this._enforcingBounds=!0;var h=this.getCenter(),v=this._limitCenter(h,this._zoom,gt(i));return h.equals(v)||this.panTo(v,a),this._enforcingBounds=!1,this},panInside:function(i,a){a=a||{};var h=H(a.paddingTopLeft||a.padding||[0,0]),v=H(a.paddingBottomRight||a.padding||[0,0]),w=this.project(this.getCenter()),T=this.project(i),V=this.getPixelBounds(),at=st([V.min.add(h),V.max.subtract(v)]),ft=at.getSize();if(!at.contains(T)){this._enforcingBounds=!0;var vt=T.subtract(at.getCenter()),Dt=at.extend(T).getSize().subtract(ft);w.x+=vt.x<0?-Dt.x:Dt.x,w.y+=vt.y<0?-Dt.y:Dt.y,this.panTo(this.unproject(w),a),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=p({animate:!1,pan:!0},i===!0?{animate:!0}:i);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var h=this.getSize(),v=a.divideBy(2).round(),w=h.divideBy(2).round(),T=v.subtract(w);return!T.x&&!T.y?this:(i.animate&&i.pan?this.panBy(T):(i.pan&&this._rawPanBy(T),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(R(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:h}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=p({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=R(this._handleGeolocationResponse,this),h=R(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,h,i):navigator.geolocation.getCurrentPosition(a,h,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var a=i.code,h=i.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+h+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var a=i.coords.latitude,h=i.coords.longitude,v=new yt(a,h),w=v.toBounds(i.coords.accuracy*2),T=this._locateOptions;if(T.setView){var V=this.getBoundsZoom(w);this.setView(v,T.maxZoom?Math.min(V,T.maxZoom):V)}var at={latlng:v,bounds:w,timestamp:i.timestamp};for(var ft in i.coords)typeof i.coords[ft]=="number"&&(at[ft]=i.coords[ft]);this.fire("locationfound",at)}},addHandler:function(i,a){if(!a)return this;var h=this[i]=new a(this);return this._handlers.push(h),this.options[i]&&h.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ce(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Ce(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,a){var h="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),v=te("div",h,a||this._mapPane);return i&&(this._panes[i]=v),v},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),a=this.unproject(i.getBottomLeft()),h=this.unproject(i.getTopRight());return new It(a,h)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,a,h){i=gt(i),h=H(h||[0,0]);var v=this.getZoom()||0,w=this.getMinZoom(),T=this.getMaxZoom(),V=i.getNorthWest(),at=i.getSouthEast(),ft=this.getSize().subtract(h),vt=st(this.project(at,v),this.project(V,v)).getSize(),Dt=Gt.any3d?this.options.zoomSnap:1,jt=ft.x/vt.x,ue=ft.y/vt.y,ln=a?Math.max(jt,ue):Math.min(jt,ue);return v=this.getScaleZoom(ln,v),Dt&&(v=Math.round(v/(Dt/100))*(Dt/100),v=a?Math.ceil(v/Dt)*Dt:Math.floor(v/Dt)*Dt),Math.max(w,Math.min(T,v))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,a){var h=this._getTopLeftPoint(i,a);return new z(h,h.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,a){var h=this.options.crs;return a=a===void 0?this._zoom:a,h.scale(i)/h.scale(a)},getScaleZoom:function(i,a){var h=this.options.crs;a=a===void 0?this._zoom:a;var v=h.zoom(i*h.scale(a));return isNaN(v)?1/0:v},project:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(Et(i),a)},unproject:function(i,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(H(i),a)},layerPointToLatLng:function(i){var a=H(i).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(i){var a=this.project(Et(i))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(Et(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(gt(i))},distance:function(i,a){return this.options.crs.distance(Et(i),Et(a))},containerPointToLayerPoint:function(i){return H(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return H(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var a=this.containerPointToLayerPoint(H(i));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Et(i)))},mouseEventToContainerPoint:function(i){return kr(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var a=this._container=yn(i);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Jt(a,"scroll",this._onScroll,this),this._containerId=b(a)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&Gt.any3d,Qt(i,"leaflet-container"+(Gt.touch?" leaflet-touch":"")+(Gt.retina?" leaflet-retina":"")+(Gt.ielt9?" leaflet-oldie":"")+(Gt.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=ti(i,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Fe(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Qt(i.markerPane,"leaflet-zoom-hide"),Qt(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,a,h){Fe(this._mapPane,new A(0,0));var v=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var w=this._zoom!==a;this._moveStart(w,h)._move(i,a)._moveEnd(w),this.fire("viewreset"),v&&this.fire("load")},_moveStart:function(i,a){return i&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(i,a,h,v){a===void 0&&(a=this._zoom);var w=this._zoom!==a;return this._zoom=a,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),v?h&&h.pinch&&this.fire("zoom",h):((w||h&&h.pinch)&&this.fire("zoom",h),this.fire("move",h)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Fe(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[b(this._container)]=this;var a=i?Ee:Jt;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),Gt.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=$(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,a){for(var h=[],v,w=a==="mouseout"||a==="mouseover",T=i.target||i.srcElement,V=!1;T;){if(v=this._targets[b(T)],v&&(a==="click"||a==="preclick")&&this._draggableMoved(v)){V=!0;break}if(v&&v.listens(a,!0)&&(w&&!wr(T,i)||(h.push(v),w))||T===this._container)break;T=T.parentNode}return!h.length&&!V&&!w&&this.listens(a,!0)&&(h=[this]),h},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var a=i.target||i.srcElement;if(!(!this._loaded||a._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(a))){var h=i.type;h==="mousedown"&&vr(a),this._fireDOMEvent(i,h)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,a,h){if(i.type==="click"){var v=p({},i);v.type="preclick",this._fireDOMEvent(v,v.type,h)}var w=this._findEventTargets(i,a);if(h){for(var T=[],V=0;V<h.length;V++)h[V].listens(a,!0)&&T.push(h[V]);w=T.concat(w)}if(w.length){a==="contextmenu"&&Le(i);var at=w[0],ft={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var vt=at.getLatLng&&(!at._radius||at._radius<=10);ft.containerPoint=vt?this.latLngToContainerPoint(at.getLatLng()):this.mouseEventToContainerPoint(i),ft.layerPoint=this.containerPointToLayerPoint(ft.containerPoint),ft.latlng=vt?at.getLatLng():this.layerPointToLatLng(ft.layerPoint)}for(V=0;V<w.length;V++)if(w[V].fire(a,ft,!0),ft.originalEvent._stopped||w[V].options.bubblingMouseEvents===!1&&Mt(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,a=this._handlers.length;i<a;i++)this._handlers[i].disable()},whenReady:function(i,a){return this._loaded?i.call(a||this,{target:this}):this.on("load",i,a),this},_getMapPanePos:function(){return ii(this._mapPane)||new A(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,a){var h=i&&a!==void 0?this._getNewPixelOrigin(i,a):this.getPixelOrigin();return h.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,a){var h=this.getSize()._divideBy(2);return this.project(i,a)._subtract(h)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,a,h){var v=this._getNewPixelOrigin(h,a);return this.project(i,a)._subtract(v)},_latLngBoundsToNewLayerBounds:function(i,a,h){var v=this._getNewPixelOrigin(h,a);return st([this.project(i.getSouthWest(),a)._subtract(v),this.project(i.getNorthWest(),a)._subtract(v),this.project(i.getSouthEast(),a)._subtract(v),this.project(i.getNorthEast(),a)._subtract(v)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,a,h){if(!h)return i;var v=this.project(i,a),w=this.getSize().divideBy(2),T=new z(v.subtract(w),v.add(w)),V=this._getBoundsOffset(T,h,a);return Math.abs(V.x)<=1&&Math.abs(V.y)<=1?i:this.unproject(v.add(V),a)},_limitOffset:function(i,a){if(!a)return i;var h=this.getPixelBounds(),v=new z(h.min.add(i),h.max.add(i));return i.add(this._getBoundsOffset(v,a))},_getBoundsOffset:function(i,a,h){var v=st(this.project(a.getNorthEast(),h),this.project(a.getSouthWest(),h)),w=v.min.subtract(i.min),T=v.max.subtract(i.max),V=this._rebound(w.x,-T.x),at=this._rebound(w.y,-T.y);return new A(V,at)},_rebound:function(i,a){return i+a>0?Math.round(i-a)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(a))},_limitZoom:function(i){var a=this.getMinZoom(),h=this.getMaxZoom(),v=Gt.any3d?this.options.zoomSnap:1;return v&&(i=Math.round(i/v)*v),Math.max(a,Math.min(h,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){me(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,a){var h=this._getCenterOffset(i)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(h)?!1:(this.panBy(h,a),!0)},_createAnimProxy:function(){var i=this._proxy=te("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(a){var h=so,v=this._proxy.style[h];Bn(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),v===this._proxy.style[h]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ce(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),a=this.getZoom();Bn(this._proxy,this.project(i,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,a,h){if(this._animatingZoom)return!0;if(h=h||{},!this._zoomAnimated||h.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var v=this.getZoomScale(a),w=this._getCenterOffset(i)._divideBy(1-1/v);return h.animate!==!0&&!this.getSize().contains(w)?!1:($(function(){this._moveStart(!0,h.noMoveStart||!1)._animateZoom(i,a,!0)},this),!0)},_animateZoom:function(i,a,h,v){this._mapPane&&(h&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=a,Qt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:a,noUpdate:v}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(R(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&me(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Zn(i,a){return new ie(i,a)}var kn=q.extend({options:{position:"topright"},initialize:function(i){pt(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var a=this._map;return a&&a.removeControl(this),this.options.position=i,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var a=this._container=this.onAdd(i),h=this.getPosition(),v=i._controlCorners[h];return Qt(a,"leaflet-control"),h.indexOf("bottom")!==-1?v.insertBefore(a,v.firstChild):v.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ce(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),qe=function(i){return new kn(i)};ie.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},a="leaflet-",h=this._controlContainer=te("div",a+"control-container",this._container);function v(w,T){var V=a+w+" "+a+T;i[w+T]=te("div",V,h)}v("top","left"),v("top","right"),v("bottom","left"),v("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Ce(this._controlCorners[i]);Ce(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Pi=kn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,a,h,v){return h<v?-1:v<h?1:0}},initialize:function(i,a,h){pt(this,h),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var v in i)this._addLayer(i[v],v);for(v in a)this._addLayer(a[v],v,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return kn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,a){return this._addLayer(i,a),this._map?this._update():this},addOverlay:function(i,a){return this._addLayer(i,a,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var a=this._getLayer(b(i));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){Qt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Qt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):me(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return me(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",a=this._container=te("div",i),h=this.options.collapsed;a.setAttribute("aria-haspopup",!0),xr(a),yr(a);var v=this._section=te("section",i+"-list");h&&(this._map.on("click",this.collapse,this),Jt(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var w=this._layersLink=te("a",i+"-toggle",a);w.href="#",w.title="Layers",w.setAttribute("role","button"),Jt(w,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){Le(T),this._expandSafely()}},this),h||this.expand(),this._baseLayersList=te("div",i+"-base",v),this._separator=te("div",i+"-separator",v),this._overlaysList=te("div",i+"-overlays",v),a.appendChild(v)},_getLayer:function(i){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&b(this._layers[a].layer)===i)return this._layers[a]},_addLayer:function(i,a,h){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:a,overlay:h}),this.options.sortLayers&&this._layers.sort(R(function(v,w){return this.options.sortFunction(v.layer,w.layer,v.name,w.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ks(this._baseLayersList),ks(this._overlaysList),this._layerControlInputs=[];var i,a,h,v,w=0;for(h=0;h<this._layers.length;h++)v=this._layers[h],this._addItem(v),a=a||v.overlay,i=i||!v.overlay,w+=v.overlay?0:1;return this.options.hideSingleBase&&(i=i&&w>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=a&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var a=this._getLayer(b(i.target)),h=a.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;h&&this._map.fire(h,a)},_createRadioElement:function(i,a){var h='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(a?' checked="checked"':"")+"/>",v=document.createElement("div");return v.innerHTML=h,v.firstChild},_addItem:function(i){var a=document.createElement("label"),h=this._map.hasLayer(i.layer),v;i.overlay?(v=document.createElement("input"),v.type="checkbox",v.className="leaflet-control-layers-selector",v.defaultChecked=h):v=this._createRadioElement("leaflet-base-layers_"+b(this),h),this._layerControlInputs.push(v),v.layerId=b(i.layer),Jt(v,"click",this._onInputClick,this);var w=document.createElement("span");w.innerHTML=" "+i.name;var T=document.createElement("span");a.appendChild(T),T.appendChild(v),T.appendChild(w);var V=i.overlay?this._overlaysList:this._baseLayersList;return V.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,a,h,v=[],w=[];this._handlingClick=!0;for(var T=i.length-1;T>=0;T--)a=i[T],h=this._getLayer(a.layerId).layer,a.checked?v.push(h):a.checked||w.push(h);for(T=0;T<w.length;T++)this._map.hasLayer(w[T])&&this._map.removeLayer(w[T]);for(T=0;T<v.length;T++)this._map.hasLayer(v[T])||this._map.addLayer(v[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,a,h,v=this._map.getZoom(),w=i.length-1;w>=0;w--)a=i[w],h=this._getLayer(a.layerId).layer,a.disabled=h.options.minZoom!==void 0&&v<h.options.minZoom||h.options.maxZoom!==void 0&&v>h.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,Jt(i,"click",Le),this.expand();var a=this;setTimeout(function(){Ee(i,"click",Le),a._preventClick=!1})}}),Is=function(i,a,h){return new Pi(i,a,h)},Un=kn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var a="leaflet-control-zoom",h=te("div",a+" leaflet-bar"),v=this.options;return this._zoomInButton=this._createButton(v.zoomInText,v.zoomInTitle,a+"-in",h,this._zoomIn),this._zoomOutButton=this._createButton(v.zoomOutText,v.zoomOutTitle,a+"-out",h,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),h},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,a,h,v,w){var T=te("a",h,v);return T.innerHTML=i,T.href="#",T.title=a,T.setAttribute("role","button"),T.setAttribute("aria-label",a),xr(T),Jt(T,"click",Nn),Jt(T,"click",w,this),Jt(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var i=this._map,a="leaflet-disabled";me(this._zoomInButton,a),me(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Qt(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Qt(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});ie.mergeOptions({zoomControl:!0}),ie.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Un,this.addControl(this.zoomControl))});var uo=function(i){return new Un(i)},Ye=kn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var a="leaflet-control-scale",h=te("div",a),v=this.options;return this._addScales(v,a+"-line",h),i.on(v.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),h},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,a,h){i.metric&&(this._mScale=te("div",a,h)),i.imperial&&(this._iScale=te("div",a,h))},_update:function(){var i=this._map,a=i.getSize().y/2,h=i.distance(i.containerPointToLatLng([0,a]),i.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(h)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var a=this._getRoundNum(i),h=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,h,a/i)},_updateImperial:function(i){var a=i*3.2808399,h,v,w;a>5280?(h=a/5280,v=this._getRoundNum(h),this._updateScale(this._iScale,v+" mi",v/h)):(w=this._getRoundNum(a),this._updateScale(this._iScale,w+" ft",w/a))},_updateScale:function(i,a,h){i.style.width=Math.round(this.options.maxWidth*h)+"px",i.innerHTML=a},_getRoundNum:function(i){var a=Math.pow(10,(Math.floor(i)+"").length-1),h=i/a;return h=h>=10?10:h>=5?5:h>=3?3:h>=2?2:1,a*h}}),Er=function(i){return new Ye(i)},Tn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Oi=kn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Gt.inlineSvg?Tn+" ":"")+"Leaflet</a>"},initialize:function(i){pt(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=te("div","leaflet-control-attribution"),xr(this._container);for(var a in i._layers)i._layers[a].getAttribution&&this.addAttribution(i._layers[a].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var a in this._attributions)this._attributions[a]&&i.push(a);var h=[];this.options.prefix&&h.push(this.options.prefix),i.length&&h.push(i.join(", ")),this._container.innerHTML=h.join(' <span aria-hidden="true">|</span> ')}}});ie.mergeOptions({attributionControl:!0}),ie.addInitHook(function(){this.options.attributionControl&&new Oi().addTo(this)});var ma=function(i){return new Oi(i)};kn.Layers=Pi,kn.Zoom=Un,kn.Scale=Ye,kn.Attribution=Oi,qe.layers=Is,qe.zoom=uo,qe.scale=Er,qe.attribution=ma;var Cn=q.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Cn.addTo=function(i,a){return i.addHandler(a,this),this};var lo={Events:X},Sr=Gt.touch?"touchstart mousedown":"mousedown",qn=et.extend({options:{clickTolerance:3},initialize:function(i,a,h,v){pt(this,v),this._element=i,this._dragStartTarget=a||i,this._preventOutline=h},enable:function(){this._enabled||(Jt(this._dragStartTarget,Sr,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(qn._dragging===this&&this.finishDrag(!0),Ee(this._dragStartTarget,Sr,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Qi(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){qn._dragging===this&&this.finishDrag();return}if(!(qn._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(qn._dragging=this,this._preventOutline&&vr(this._element),Es(),le(),!this._moving)){this.fire("down");var a=i.touches?i.touches[0]:i,h=Be(this._element);this._startPoint=new A(a.clientX,a.clientY),this._startPos=ii(this._element),this._parentScale=Ae(h);var v=i.type==="mousedown";Jt(document,v?"mousemove":"touchmove",this._onMove,this),Jt(document,v?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var a=i.touches&&i.touches.length===1?i.touches[0]:i,h=new A(a.clientX,a.clientY)._subtract(this._startPoint);!h.x&&!h.y||Math.abs(h.x)+Math.abs(h.y)<this.options.clickTolerance||(h.x/=this._parentScale.x,h.y/=this._parentScale.y,Le(i),this._moved||(this.fire("dragstart"),this._moved=!0,Qt(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Qt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(h),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Fe(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){me(document.body,"leaflet-dragging"),this._lastTarget&&(me(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ee(document,"mousemove touchmove",this._onMove,this),Ee(document,"mouseup touchend touchcancel",this._onUp,this),pr(),Ji();var a=this._moved&&this._moving;this._moving=!1,qn._dragging=!1,a&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function ho(i,a,h){var v,w=[1,4,2,8],T,V,at,ft,vt,Dt,jt,ue;for(T=0,Dt=i.length;T<Dt;T++)i[T]._code=He(i[T],a);for(at=0;at<4;at++){for(jt=w[at],v=[],T=0,Dt=i.length,V=Dt-1;T<Dt;V=T++)ft=i[T],vt=i[V],ft._code&jt?vt._code&jt||(ue=Wr(vt,ft,jt,a,h),ue._code=He(ue,a),v.push(ue)):(vt._code&jt&&(ue=Wr(vt,ft,jt,a,h),ue._code=He(ue,a),v.push(ue)),v.push(ft));i=v}return i}function Uo(i,a){var h,v,w,T,V,at,ft,vt,Dt;if(!i||i.length===0)throw new Error("latlngs not passed");En(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var jt=Et([0,0]),ue=gt(i),ln=ue.getNorthWest().distanceTo(ue.getSouthWest())*ue.getNorthEast().distanceTo(ue.getNorthWest());ln<1700&&(jt=mi(i));var rn=i.length,Xn=[];for(h=0;h<rn;h++){var Rn=Et(i[h]);Xn.push(a.project(Et([Rn.lat-jt.lat,Rn.lng-jt.lng])))}for(at=ft=vt=0,h=0,v=rn-1;h<rn;v=h++)w=Xn[h],T=Xn[v],V=w.y*T.x-T.y*w.x,ft+=(w.x+T.x)*V,vt+=(w.y+T.y)*V,at+=V*3;at===0?Dt=Xn[0]:Dt=[ft/at,vt/at];var zs=a.unproject(H(Dt));return Et([zs.lat+jt.lat,zs.lng+jt.lng])}function mi(i){for(var a=0,h=0,v=0,w=0;w<i.length;w++){var T=Et(i[w]);a+=T.lat,h+=T.lng,v++}return Et([a/v,h/v])}var wn={__proto__:null,clipPolygon:ho,polygonCenter:Uo,centroid:mi};function Ns(i,a){if(!a||!i.length)return i.slice();var h=a*a;return i=go(i,h),i=fo(i,h),i}function co(i,a,h){return Math.sqrt(er(i,a,h,!0))}function pa(i,a,h){return er(i,a,h)}function fo(i,a){var h=i.length,v=typeof Uint8Array<"u"?Uint8Array:Array,w=new v(h);w[0]=w[h-1]=1,Ts(i,w,a,0,h-1);var T,V=[];for(T=0;T<h;T++)w[T]&&V.push(i[T]);return V}function Ts(i,a,h,v,w){var T=0,V,at,ft;for(at=v+1;at<=w-1;at++)ft=er(i[at],i[v],i[w],!0),ft>T&&(V=at,T=ft);T>h&&(a[V]=1,Ts(i,a,h,v,V),Ts(i,a,h,V,w))}function go(i,a){for(var h=[i[0]],v=1,w=0,T=i.length;v<T;v++)Xr(i[v],i[w])>a&&(h.push(i[v]),w=v);return w<T-1&&h.push(i[T-1]),h}var Cs;function Pn(i,a,h,v,w){var T=v?Cs:He(i,h),V=He(a,h),at,ft,vt;for(Cs=V;;){if(!(T|V))return[i,a];if(T&V)return!1;at=T||V,ft=Wr(i,a,at,h,w),vt=He(ft,h),at===T?(i=ft,T=vt):(a=ft,V=vt)}}function Wr(i,a,h,v,w){var T=a.x-i.x,V=a.y-i.y,at=v.min,ft=v.max,vt,Dt;return h&8?(vt=i.x+T*(ft.y-i.y)/V,Dt=ft.y):h&4?(vt=i.x+T*(at.y-i.y)/V,Dt=at.y):h&2?(vt=ft.x,Dt=i.y+V*(ft.x-i.x)/T):h&1&&(vt=at.x,Dt=i.y+V*(at.x-i.x)/T),new A(vt,Dt,w)}function He(i,a){var h=0;return i.x<a.min.x?h|=1:i.x>a.max.x&&(h|=2),i.y<a.min.y?h|=4:i.y>a.max.y&&(h|=8),h}function Xr(i,a){var h=a.x-i.x,v=a.y-i.y;return h*h+v*v}function er(i,a,h,v){var w=a.x,T=a.y,V=h.x-w,at=h.y-T,ft=V*V+at*at,vt;return ft>0&&(vt=((i.x-w)*V+(i.y-T)*at)/ft,vt>1?(w=h.x,T=h.y):vt>0&&(w+=V*vt,T+=at*vt)),V=i.x-w,at=i.y-T,v?V*V+at*at:new A(w,T)}function En(i){return!xt(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function mo(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),En(i)}function po(i,a){var h,v,w,T,V,at,ft,vt;if(!i||i.length===0)throw new Error("latlngs not passed");En(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var Dt=Et([0,0]),jt=gt(i),ue=jt.getNorthWest().distanceTo(jt.getSouthWest())*jt.getNorthEast().distanceTo(jt.getNorthWest());ue<1700&&(Dt=mi(i));var ln=i.length,rn=[];for(h=0;h<ln;h++){var Xn=Et(i[h]);rn.push(a.project(Et([Xn.lat-Dt.lat,Xn.lng-Dt.lng])))}for(h=0,v=0;h<ln-1;h++)v+=rn[h].distanceTo(rn[h+1])/2;if(v===0)vt=rn[0];else for(h=0,T=0;h<ln-1;h++)if(V=rn[h],at=rn[h+1],w=V.distanceTo(at),T+=w,T>v){ft=(T-v)/w,vt=[at.x-ft*(at.x-V.x),at.y-ft*(at.y-V.y)];break}var Rn=a.unproject(H(vt));return Et([Rn.lat+Dt.lat,Rn.lng+Dt.lng])}var Ps={__proto__:null,simplify:Ns,pointToSegmentDistance:co,closestPointOnSegment:pa,clipSegment:Pn,_getEdgeIntersection:Wr,_getBitCode:He,_sqClosestPointOnSegment:er,isFlat:En,_flat:mo,polylineCenter:po},vo={project:function(i){return new A(i.lng,i.lat)},unproject:function(i){return new yt(i.y,i.x)},bounds:new z([-180,-90],[180,90])},_o={R:6378137,R_MINOR:6356752314245179e-9,bounds:new z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var a=Math.PI/180,h=this.R,v=i.lat*a,w=this.R_MINOR/h,T=Math.sqrt(1-w*w),V=T*Math.sin(v),at=Math.tan(Math.PI/4-v/2)/Math.pow((1-V)/(1+V),T/2);return v=-h*Math.log(Math.max(at,1e-10)),new A(i.lng*a*h,v)},unproject:function(i){for(var a=180/Math.PI,h=this.R,v=this.R_MINOR/h,w=Math.sqrt(1-v*v),T=Math.exp(-i.y/h),V=Math.PI/2-2*Math.atan(T),at=0,ft=.1,vt;at<15&&Math.abs(ft)>1e-7;at++)vt=w*Math.sin(V),vt=Math.pow((1-vt)/(1+vt),w/2),ft=Math.PI/2-2*Math.atan(T*vt)-V,V+=ft;return new yt(V*a,i.x*a/h)}},va={__proto__:null,LonLat:vo,Mercator:_o,SphericalMercator:ee},_a=p({},Q,{code:"EPSG:3395",projection:_o,transformation:(function(){var i=.5/(Math.PI*_o.R);return B(i,.5,-i,.5)})()}),qo=p({},Q,{code:"EPSG:4326",projection:vo,transformation:B(1/180,1,-1/180,.5)}),ya=p({},Ht,{projection:vo,transformation:B(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,a){var h=a.lng-i.lng,v=a.lat-i.lat;return Math.sqrt(h*h+v*v)},infinite:!0});Ht.Earth=Q,Ht.EPSG3395=_a,Ht.EPSG3857=ye,Ht.EPSG900913=Pe,Ht.EPSG4326=qo,Ht.Simple=ya;var Yn=et.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[b(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[b(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var a=i.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var h=this.getEvents();a.on(h,this),this.once("remove",function(){a.off(h,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});ie.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var a=b(i);return this._layers[a]?this:(this._layers[a]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var a=b(i);return this._layers[a]?(this._loaded&&i.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return b(i)in this._layers},eachLayer:function(i,a){for(var h in this._layers)i.call(a,this._layers[h]);return this},_addLayers:function(i){i=i?xt(i)?i:[i]:[];for(var a=0,h=i.length;a<h;a++)this.addLayer(i[a])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[b(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var a=b(i);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,a=-1/0,h=this._getZoomSpan();for(var v in this._zoomBoundLayers){var w=this._zoomBoundLayers[v].options;i=w.minZoom===void 0?i:Math.min(i,w.minZoom),a=w.maxZoom===void 0?a:Math.max(a,w.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=i===1/0?void 0:i,h!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ri=Yn.extend({initialize:function(i,a){pt(this,a),this._layers={};var h,v;if(i)for(h=0,v=i.length;h<v;h++)this.addLayer(i[h])},addLayer:function(i){var a=this.getLayerId(i);return this._layers[a]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var a=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(i){var a=typeof i=="number"?i:this.getLayerId(i);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var a=Array.prototype.slice.call(arguments,1),h,v;for(h in this._layers)v=this._layers[h],v[i]&&v[i].apply(v,a);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,a){for(var h in this._layers)i.call(a,this._layers[h]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return b(i)}}),Lr=function(i,a){return new Ri(i,a)},pi=Ri.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Ri.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Ri.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new It;for(var a in this._layers){var h=this._layers[a];i.extend(h.getBounds?h.getBounds():h.getLatLng())}return i}}),yo=function(i,a){return new pi(i,a)},nr=q.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){pt(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,a){var h=this._getIconUrl(i);if(!h){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var v=this._createImg(h,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(v,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(v.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),v},_setIconStyles:function(i,a){var h=this.options,v=h[a+"Size"];typeof v=="number"&&(v=[v,v]);var w=H(v),T=H(a==="shadow"&&h.shadowAnchor||h.iconAnchor||w&&w.divideBy(2,!0));i.className="leaflet-marker-"+a+" "+(h.className||""),T&&(i.style.marginLeft=-T.x+"px",i.style.marginTop=-T.y+"px"),w&&(i.style.width=w.x+"px",i.style.height=w.y+"px")},_createImg:function(i,a){return a=a||document.createElement("img"),a.src=i,a},_getIconUrl:function(i){return Gt.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function Yo(i){return new nr(i)}var Ir=nr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Ir.imagePath!="string"&&(Ir.imagePath=this._detectIconPath()),(this.options.imagePath||Ir.imagePath)+nr.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var a=function(h,v,w){var T=v.exec(h);return T&&T[w]};return i=a(i,/^url\((['"])?(.+)\1\)$/,2),i&&a(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=te("div","leaflet-default-icon-path",document.body),a=ti(i,"background-image")||ti(i,"backgroundImage");if(document.body.removeChild(i),a=this._stripUrl(a),a)return a;var h=document.querySelector('link[href$="leaflet.css"]');return h?h.href.substring(0,h.href.length-11-1):""}}),xo=Cn.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new qn(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Qt(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&me(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var a=this._marker,h=a._map,v=this._marker.options.autoPanSpeed,w=this._marker.options.autoPanPadding,T=ii(a._icon),V=h.getPixelBounds(),at=h.getPixelOrigin(),ft=st(V.min._subtract(at).add(w),V.max._subtract(at).subtract(w));if(!ft.contains(T)){var vt=H((Math.max(ft.max.x,T.x)-ft.max.x)/(V.max.x-ft.max.x)-(Math.min(ft.min.x,T.x)-ft.min.x)/(V.min.x-ft.min.x),(Math.max(ft.max.y,T.y)-ft.max.y)/(V.max.y-ft.max.y)-(Math.min(ft.min.y,T.y)-ft.min.y)/(V.min.y-ft.min.y)).multiplyBy(v);h.panBy(vt,{animate:!1}),this._draggable._newPos._add(vt),this._draggable._startPos._add(vt),Fe(a._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=$(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=$(this._adjustPan.bind(this,i)))},_onDrag:function(i){var a=this._marker,h=a._shadow,v=ii(a._icon),w=a._map.layerPointToLatLng(v);h&&Fe(h,v),a._latlng=w,i.latlng=w,i.oldLatLng=this._oldLatLng,a.fire("move",i).fire("drag",i)},_onDragEnd:function(i){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),vi=Yn.extend({options:{icon:new Ir,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,a){pt(this,a),this._latlng=Et(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var a=this._latlng;return this._latlng=Et(i),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),h=i.icon.createIcon(this._icon),v=!1;h!==this._icon&&(this._icon&&this._removeIcon(),v=!0,i.title&&(h.title=i.title),h.tagName==="IMG"&&(h.alt=i.alt||"")),Qt(h,a),i.keyboard&&(h.tabIndex="0",h.setAttribute("role","button")),this._icon=h,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Jt(h,"focus",this._panOnFocus,this);var w=i.icon.createShadow(this._shadow),T=!1;w!==this._shadow&&(this._removeShadow(),T=!0),w&&(Qt(w,a),w.alt=""),this._shadow=w,i.opacity<1&&this._updateOpacity(),v&&this.getPane().appendChild(this._icon),this._initInteraction(),w&&T&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ee(this._icon,"focus",this._panOnFocus,this),Ce(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ce(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Fe(this._icon,i),this._shadow&&Fe(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(Qt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),xo)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new xo(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Ze(this._icon,i),this._shadow&&Ze(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var a=this.options.icon.options,h=a.iconSize?H(a.iconSize):H(0,0),v=a.iconAnchor?H(a.iconAnchor):H(0,0);i.panInside(this._latlng,{paddingTopLeft:v,paddingBottomRight:h.subtract(v)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function xa(i,a){return new vi(i,a)}var Mi=Yn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return pt(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),jr=Mi.extend({options:{fill:!0,radius:10},initialize:function(i,a){pt(this,a),this._latlng=Et(i),this._radius=this.options.radius},setLatLng:function(i){var a=this._latlng;return this._latlng=Et(i),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var a=i&&i.radius||this._radius;return Mi.prototype.setStyle.call(this,i),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,a=this._radiusY||i,h=this._clickTolerance(),v=[i+h,a+h];this._pxBounds=new z(this._point.subtract(v),this._point.add(v))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ko(i,a){return new jr(i,a)}var Kr=jr.extend({initialize:function(i,a,h){if(typeof a=="number"&&(a=p({},h,{radius:a})),pt(this,a),this._latlng=Et(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new It(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Mi.prototype.setStyle,_project:function(){var i=this._latlng.lng,a=this._latlng.lat,h=this._map,v=h.options.crs;if(v.distance===Q.distance){var w=Math.PI/180,T=this._mRadius/Q.R/w,V=h.project([a+T,i]),at=h.project([a-T,i]),ft=V.add(at).divideBy(2),vt=h.unproject(ft).lat,Dt=Math.acos((Math.cos(T*w)-Math.sin(a*w)*Math.sin(vt*w))/(Math.cos(a*w)*Math.cos(vt*w)))/w;(isNaN(Dt)||Dt===0)&&(Dt=T/Math.cos(Math.PI/180*a)),this._point=ft.subtract(h.getPixelOrigin()),this._radius=isNaN(Dt)?0:ft.x-h.project([vt,i-Dt]).x,this._radiusY=ft.y-V.y}else{var jt=v.unproject(v.project(this._latlng).subtract([this._mRadius,0]));this._point=h.latLngToLayerPoint(this._latlng),this._radius=this._point.x-h.latLngToLayerPoint(jt).x}this._updateBounds()}});function $r(i,a,h){return new Kr(i,a,h)}var dn=Mi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,a){pt(this,a),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var a=1/0,h=null,v=er,w,T,V=0,at=this._parts.length;V<at;V++)for(var ft=this._parts[V],vt=1,Dt=ft.length;vt<Dt;vt++){w=ft[vt-1],T=ft[vt];var jt=v(i,w,T,!0);jt<a&&(a=jt,h=v(i,w,T))}return h&&(h.distance=Math.sqrt(a)),h},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return po(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,a){return a=a||this._defaultShape(),i=Et(i),a.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new It,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return En(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var a=[],h=En(i),v=0,w=i.length;v<w;v++)h?(a[v]=Et(i[v]),this._bounds.extend(a[v])):a[v]=this._convertLatLngs(i[v]);return a},_project:function(){var i=new z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),a=new A(i,i);this._rawPxBounds&&(this._pxBounds=new z([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(i,a,h){var v=i[0]instanceof yt,w=i.length,T,V;if(v){for(V=[],T=0;T<w;T++)V[T]=this._map.latLngToLayerPoint(i[T]),h.extend(V[T]);a.push(V)}else for(T=0;T<w;T++)this._projectLatlngs(i[T],a,h)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,h,v,w,T,V,at,ft;for(h=0,w=0,T=this._rings.length;h<T;h++)for(ft=this._rings[h],v=0,V=ft.length;v<V-1;v++)at=Pn(ft[v],ft[v+1],i,v,!0),at&&(a[w]=a[w]||[],a[w].push(at[0]),(at[1]!==ft[v+1]||v===V-2)&&(a[w].push(at[1]),w++))}},_simplifyPoints:function(){for(var i=this._parts,a=this.options.smoothFactor,h=0,v=i.length;h<v;h++)i[h]=Ns(i[h],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,a){var h,v,w,T,V,at,ft=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(h=0,T=this._parts.length;h<T;h++)for(at=this._parts[h],v=0,V=at.length,w=V-1;v<V;w=v++)if(!(!a&&v===0)&&co(i,at[w],at[v])<=ft)return!0;return!1}});function wo(i,a){return new dn(i,a)}dn._flat=mo;var _i=dn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Uo(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var a=dn.prototype._convertLatLngs.call(this,i),h=a.length;return h>=2&&a[0]instanceof yt&&a[0].equals(a[h-1])&&a.pop(),a},_setLatLngs:function(i){dn.prototype._setLatLngs.call(this,i),En(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return En(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,a=this.options.weight,h=new A(a,a);if(i=new z(i.min.subtract(h),i.max.add(h)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var v=0,w=this._rings.length,T;v<w;v++)T=ho(this._rings[v],i,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var a=!1,h,v,w,T,V,at,ft,vt;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(T=0,ft=this._parts.length;T<ft;T++)for(h=this._parts[T],V=0,vt=h.length,at=vt-1;V<vt;at=V++)v=h[V],w=h[at],v.y>i.y!=w.y>i.y&&i.x<(w.x-v.x)*(i.y-v.y)/(w.y-v.y)+v.x&&(a=!a);return a||dn.prototype._containsPoint.call(this,i,!0)}});function Ho(i,a){return new _i(i,a)}var Hn=pi.extend({initialize:function(i,a){pt(this,a),this._layers={},i&&this.addData(i)},addData:function(i){var a=xt(i)?i:i.features,h,v,w;if(a){for(h=0,v=a.length;h<v;h++)w=a[h],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(w);return this}var T=this.options;if(T.filter&&!T.filter(i))return this;var V=Nr(i,T);return V?(V.feature=o(i),V.defaultOptions=V.options,this.resetStyle(V),T.onEachFeature&&T.onEachFeature(i,V),this.addLayer(V)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=p({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(a){this._setLayerStyle(a,i)},this)},_setLayerStyle:function(i,a){i.setStyle&&(typeof a=="function"&&(a=a(i.feature)),i.setStyle(a))}});function Nr(i,a){var h=i.type==="Feature"?i.geometry:i,v=h?h.coordinates:null,w=[],T=a&&a.pointToLayer,V=a&&a.coordsToLatLng||yi,at,ft,vt,Dt;if(!v&&!h)return null;switch(h.type){case"Point":return at=V(v),Os(T,i,at,a);case"MultiPoint":for(vt=0,Dt=v.length;vt<Dt;vt++)at=V(v[vt]),w.push(Os(T,i,at,a));return new pi(w);case"LineString":case"MultiLineString":return ft=Qr(v,h.type==="LineString"?0:1,V),new dn(ft,a);case"Polygon":case"MultiPolygon":return ft=Qr(v,h.type==="Polygon"?1:2,V),new _i(ft,a);case"GeometryCollection":for(vt=0,Dt=h.geometries.length;vt<Dt;vt++){var jt=Nr({geometry:h.geometries[vt],type:"Feature",properties:i.properties},a);jt&&w.push(jt)}return new pi(w);case"FeatureCollection":for(vt=0,Dt=h.features.length;vt<Dt;vt++){var ue=Nr(h.features[vt],a);ue&&w.push(ue)}return new pi(w);default:throw new Error("Invalid GeoJSON object.")}}function Os(i,a,h,v){return i?i(a,h):new vi(h,v&&v.markersInheritOptions&&v)}function yi(i){return new yt(i[1],i[0],i[2])}function Qr(i,a,h){for(var v=[],w=0,T=i.length,V;w<T;w++)V=a?Qr(i[w],a-1,h):(h||yi)(i[w]),v.push(V);return v}function Jr(i,a){return i=Et(i),i.alt!==void 0?[K(i.lng,a),K(i.lat,a),K(i.alt,a)]:[K(i.lng,a),K(i.lat,a)]}function an(i,a,h,v){for(var w=[],T=0,V=i.length;T<V;T++)w.push(a?an(i[T],En(i[T])?0:a-1,h,v):Jr(i[T],v));return!a&&h&&w.length>0&&w.push(w[0].slice()),w}function un(i,a){return i.feature?p({},i.feature,{geometry:a}):o(a)}function o(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var t={toGeoJSON:function(i){return un(this,{type:"Point",coordinates:Jr(this.getLatLng(),i)})}};vi.include(t),Kr.include(t),jr.include(t),dn.include({toGeoJSON:function(i){var a=!En(this._latlngs),h=an(this._latlngs,a?1:0,!1,i);return un(this,{type:(a?"Multi":"")+"LineString",coordinates:h})}}),_i.include({toGeoJSON:function(i){var a=!En(this._latlngs),h=a&&!En(this._latlngs[0]),v=an(this._latlngs,h?2:a?1:0,!0,i);return a||(v=[v]),un(this,{type:(h?"Multi":"")+"Polygon",coordinates:v})}}),Ri.include({toMultiPoint:function(i){var a=[];return this.eachLayer(function(h){a.push(h.toGeoJSON(i).geometry.coordinates)}),un(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(i){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(i);var h=a==="GeometryCollection",v=[];return this.eachLayer(function(w){if(w.toGeoJSON){var T=w.toGeoJSON(i);if(h)v.push(T.geometry);else{var V=o(T);V.type==="FeatureCollection"?v.push.apply(v,V.features):v.push(V)}}}),h?un(this,{geometries:v,type:"GeometryCollection"}):{type:"FeatureCollection",features:v}}});function e(i,a){return new Hn(i,a)}var s=e,l=Yn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,a,h){this._url=i,this._bounds=gt(a),pt(this,h)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Qt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ce(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&gr(this._image),this},bringToBack:function(){return this._map&&ei(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=gt(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",a=this._image=i?this._url:te("img");if(Qt(a,"leaflet-image-layer"),this._zoomAnimated&&Qt(a,"leaflet-zoom-animated"),this.options.className&&Qt(a,this.options.className),a.onselectstart=D,a.onmousemove=D,a.onload=R(this.fire,this,"load"),a.onerror=R(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(i){var a=this._map.getZoomScale(i.zoom),h=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;Bn(this._image,h,a)},_reset:function(){var i=this._image,a=new z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),h=a.getSize();Fe(i,a.min),i.style.width=h.x+"px",i.style.height=h.y+"px"},_updateOpacity:function(){Ze(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),d=function(i,a,h){return new l(i,a,h)},x=l.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",a=this._image=i?this._url:te("video");if(Qt(a,"leaflet-image-layer"),this._zoomAnimated&&Qt(a,"leaflet-zoom-animated"),this.options.className&&Qt(a,this.options.className),a.onselectstart=D,a.onmousemove=D,a.onloadeddata=R(this.fire,this,"load"),i){for(var h=a.getElementsByTagName("source"),v=[],w=0;w<h.length;w++)v.push(h[w].src);this._url=h.length>0?v:[a.src];return}xt(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var V=te("source");V.src=this._url[T],a.appendChild(V)}}});function E(i,a,h){return new x(i,a,h)}var N=l.extend({_initImage:function(){var i=this._image=this._url;Qt(i,"leaflet-image-layer"),this._zoomAnimated&&Qt(i,"leaflet-zoom-animated"),this.options.className&&Qt(i,this.options.className),i.onselectstart=D,i.onmousemove=D}});function M(i,a,h){return new N(i,a,h)}var tt=Yn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,a){i&&(i instanceof yt||xt(i))?(this._latlng=Et(i),pt(this,a)):(pt(this,i),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Ze(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Ze(this._container,1),this.bringToFront(),this.options.interactive&&(Qt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Ze(this._container,0),this._removeTimeout=setTimeout(R(Ce,void 0,this._container),200)):Ce(this._container),this.options.interactive&&(me(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=Et(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&gr(this._container),this},bringToBack:function(){return this._map&&ei(this._container),this},_prepareOpen:function(i){var a=this._source;if(!a._map)return!1;if(a instanceof pi){a=null;var h=this._source._layers;for(var v in h)if(h[v]._map){a=h[v];break}if(!a)return!1;this._source=a}if(!i)if(a.getCenter)i=a.getCenter();else if(a.getLatLng)i=a.getLatLng();else if(a.getBounds)i=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")i.innerHTML=a;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),a=H(this.options.offset),h=this._getAnchor();this._zoomAnimated?Fe(this._container,i.add(h)):a=a.add(i).add(h);var v=this._containerBottom=-a.y,w=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=v+"px",this._container.style.left=w+"px"}},_getAnchor:function(){return[0,0]}});ie.include({_initOverlay:function(i,a,h,v){var w=a;return w instanceof i||(w=new i(v).setContent(a)),h&&w.setLatLng(h),w}}),Yn.include({_initOverlay:function(i,a,h,v){var w=h;return w instanceof i?(pt(w,v),w._source=this):(w=a&&!v?a:new i(v,this),w.setContent(h)),w}});var ot=tt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,tt.prototype.openOn.call(this,i)},onAdd:function(i){tt.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Mi||this._source.on("preclick",Ue))},onRemove:function(i){tt.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Mi||this._source.off("preclick",Ue))},getEvents:function(){var i=tt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",a=this._container=te("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),h=this._wrapper=te("div",i+"-content-wrapper",a);if(this._contentNode=te("div",i+"-content",h),xr(a),yr(this._contentNode),Jt(a,"contextmenu",Ue),this._tipContainer=te("div",i+"-tip-container",a),this._tip=te("div",i+"-tip",this._tipContainer),this.options.closeButton){var v=this._closeButton=te("a",i+"-close-button",a);v.setAttribute("role","button"),v.setAttribute("aria-label","Close popup"),v.href="#close",v.innerHTML='<span aria-hidden="true">&#215;</span>',Jt(v,"click",function(w){Le(w),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,a=i.style;a.width="",a.whiteSpace="nowrap";var h=i.offsetWidth;h=Math.min(h,this.options.maxWidth),h=Math.max(h,this.options.minWidth),a.width=h+1+"px",a.whiteSpace="",a.height="";var v=i.offsetHeight,w=this.options.maxHeight,T="leaflet-popup-scrolled";w&&v>w?(a.height=w+"px",Qt(i,T)):me(i,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),h=this._getAnchor();Fe(this._container,a.add(h))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,a=parseInt(ti(this._container,"marginBottom"),10)||0,h=this._container.offsetHeight+a,v=this._containerWidth,w=new A(this._containerLeft,-h-this._containerBottom);w._add(ii(this._container));var T=i.layerPointToContainerPoint(w),V=H(this.options.autoPanPadding),at=H(this.options.autoPanPaddingTopLeft||V),ft=H(this.options.autoPanPaddingBottomRight||V),vt=i.getSize(),Dt=0,jt=0;T.x+v+ft.x>vt.x&&(Dt=T.x+v-vt.x+ft.x),T.x-Dt-at.x<0&&(Dt=T.x-at.x),T.y+h+ft.y>vt.y&&(jt=T.y+h-vt.y+ft.y),T.y-jt-at.y<0&&(jt=T.y-at.y),(Dt||jt)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([Dt,jt]))}},_getAnchor:function(){return H(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),mt=function(i,a){return new ot(i,a)};ie.mergeOptions({closePopupOnClick:!0}),ie.include({openPopup:function(i,a,h){return this._initOverlay(ot,i,a,h).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),Yn.include({bindPopup:function(i,a){return this._popup=this._initOverlay(ot,this._popup,i,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof pi||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){Nn(i);var a=i.layer||i.target;if(this._popup._source===a&&!(a instanceof Mi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=a,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Ot=tt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){tt.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){tt.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=tt.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",a=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=te("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+b(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var a,h,v=this._map,w=this._container,T=v.latLngToContainerPoint(v.getCenter()),V=v.layerPointToContainerPoint(i),at=this.options.direction,ft=w.offsetWidth,vt=w.offsetHeight,Dt=H(this.options.offset),jt=this._getAnchor();at==="top"?(a=ft/2,h=vt):at==="bottom"?(a=ft/2,h=0):at==="center"?(a=ft/2,h=vt/2):at==="right"?(a=0,h=vt/2):at==="left"?(a=ft,h=vt/2):V.x<T.x?(at="right",a=0,h=vt/2):(at="left",a=ft+(Dt.x+jt.x)*2,h=vt/2),i=i.subtract(H(a,h,!0)).add(Dt).add(jt),me(w,"leaflet-tooltip-right"),me(w,"leaflet-tooltip-left"),me(w,"leaflet-tooltip-top"),me(w,"leaflet-tooltip-bottom"),Qt(w,"leaflet-tooltip-"+at),Fe(w,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Ze(this._container,i)},_animateZoom:function(i){var a=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(a)},_getAnchor:function(){return H(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),zt=function(i,a){return new Ot(i,a)};ie.include({openTooltip:function(i,a,h){return this._initOverlay(Ot,i,a,h).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),Yn.include({bindTooltip:function(i,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ot,this._tooltip,i,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var a=i?"off":"on",h={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?h.add=this._openTooltip:(h.mouseover=this._openTooltip,h.mouseout=this.closeTooltip,h.click=this._openTooltip,this._map?this._addFocusListeners():h.add=this._addFocusListeners),this._tooltip.options.sticky&&(h.mousemove=this._moveTooltip),this[a](h),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof pi||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&(Jt(a,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),Jt(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var a=typeof i.getElement=="function"&&i.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var a=i.latlng,h,v;this._tooltip.options.sticky&&i.originalEvent&&(h=this._map.mouseEventToContainerPoint(i.originalEvent),v=this._map.containerPointToLayerPoint(h),a=this._map.layerPointToLatLng(v)),this._tooltip.setLatLng(a)}});var qt=nr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var a=i&&i.tagName==="DIV"?i:document.createElement("div"),h=this.options;if(h.html instanceof Element?(ks(a),a.appendChild(h.html)):a.innerHTML=h.html!==!1?h.html:"",h.bgPos){var v=H(h.bgPos);a.style.backgroundPosition=-v.x+"px "+-v.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function ce(i){return new qt(i)}nr.Default=Ir;var se=Yn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Gt.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){pt(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Ce(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(gr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ei(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=Z(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof A?i:new A(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var a=this.getPane().children,h=-i(-1/0,1/0),v=0,w=a.length,T;v<w;v++)T=a[v].style.zIndex,a[v]!==this._container&&T&&(h=i(h,+T));isFinite(h)&&(this.options.zIndex=h+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Gt.ielt9){Ze(this._container,this.options.opacity);var i=+new Date,a=!1,h=!1;for(var v in this._tiles){var w=this._tiles[v];if(!(!w.current||!w.loaded)){var T=Math.min(1,(i-w.loaded)/200);Ze(w.el,T),T<1?a=!0:(w.active?h=!0:this._onOpaqueTile(w),w.active=!0)}}h&&!this._noPrune&&this._pruneTiles(),a&&(W(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this))}},_onOpaqueTile:D,_initContainer:function(){this._container||(this._container=te("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,a=this.options.maxZoom;if(i!==void 0){for(var h in this._levels)h=Number(h),this._levels[h].el.children.length||h===i?(this._levels[h].el.style.zIndex=a-Math.abs(i-h),this._onUpdateLevel(h)):(Ce(this._levels[h].el),this._removeTilesAtZoom(h),this._onRemoveLevel(h),delete this._levels[h]);var v=this._levels[i],w=this._map;return v||(v=this._levels[i]={},v.el=te("div","leaflet-tile-container leaflet-zoom-animated",this._container),v.el.style.zIndex=a,v.origin=w.project(w.unproject(w.getPixelOrigin()),i).round(),v.zoom=i,this._setZoomTransform(v,w.getCenter(),w.getZoom()),D(v.el.offsetWidth),this._onCreateLevel(v)),this._level=v,v}},_onUpdateLevel:D,_onRemoveLevel:D,_onCreateLevel:D,_pruneTiles:function(){if(this._map){var i,a,h=this._map.getZoom();if(h>this.options.maxZoom||h<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)a=this._tiles[i],a.retain=a.current;for(i in this._tiles)if(a=this._tiles[i],a.current&&!a.active){var v=a.coords;this._retainParent(v.x,v.y,v.z,v.z-5)||this._retainChildren(v.x,v.y,v.z,v.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var a in this._tiles)this._tiles[a].coords.z===i&&this._removeTile(a)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Ce(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,a,h,v){var w=Math.floor(i/2),T=Math.floor(a/2),V=h-1,at=new A(+w,+T);at.z=+V;var ft=this._tileCoordsToKey(at),vt=this._tiles[ft];return vt&&vt.active?(vt.retain=!0,!0):(vt&&vt.loaded&&(vt.retain=!0),V>v?this._retainParent(w,T,V,v):!1)},_retainChildren:function(i,a,h,v){for(var w=2*i;w<2*i+2;w++)for(var T=2*a;T<2*a+2;T++){var V=new A(w,T);V.z=h+1;var at=this._tileCoordsToKey(V),ft=this._tiles[at];if(ft&&ft.active){ft.retain=!0;continue}else ft&&ft.loaded&&(ft.retain=!0);h+1<v&&this._retainChildren(w,T,h+1,v)}},_resetView:function(i){var a=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var a=this.options;return a.minNativeZoom!==void 0&&i<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<i?a.maxNativeZoom:i},_setView:function(i,a,h,v){var w=Math.round(a);this.options.maxZoom!==void 0&&w>this.options.maxZoom||this.options.minZoom!==void 0&&w<this.options.minZoom?w=void 0:w=this._clampZoom(w);var T=this.options.updateWhenZooming&&w!==this._tileZoom;(!v||T)&&(this._tileZoom=w,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),w!==void 0&&this._update(i),h||this._pruneTiles(),this._noPrune=!!h),this._setZoomTransforms(i,a)},_setZoomTransforms:function(i,a){for(var h in this._levels)this._setZoomTransform(this._levels[h],i,a)},_setZoomTransform:function(i,a,h){var v=this._map.getZoomScale(h,i.zoom),w=i.origin.multiplyBy(v).subtract(this._map._getNewPixelOrigin(a,h)).round();Gt.any3d?Bn(i.el,w,v):Fe(i.el,w)},_resetGrid:function(){var i=this._map,a=i.options.crs,h=this._tileSize=this.getTileSize(),v=this._tileZoom,w=this._map.getPixelWorldBounds(this._tileZoom);w&&(this._globalTileRange=this._pxBoundsToTileRange(w)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,a.wrapLng[0]],v).x/h.x),Math.ceil(i.project([0,a.wrapLng[1]],v).x/h.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([a.wrapLat[0],0],v).y/h.x),Math.ceil(i.project([a.wrapLat[1],0],v).y/h.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var a=this._map,h=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),v=a.getZoomScale(h,this._tileZoom),w=a.project(i,this._tileZoom).floor(),T=a.getSize().divideBy(v*2);return new z(w.subtract(T),w.add(T))},_update:function(i){var a=this._map;if(a){var h=this._clampZoom(a.getZoom());if(i===void 0&&(i=a.getCenter()),this._tileZoom!==void 0){var v=this._getTiledPixelBounds(i),w=this._pxBoundsToTileRange(v),T=w.getCenter(),V=[],at=this.options.keepBuffer,ft=new z(w.getBottomLeft().subtract([at,-at]),w.getTopRight().add([at,-at]));if(!(isFinite(w.min.x)&&isFinite(w.min.y)&&isFinite(w.max.x)&&isFinite(w.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var vt in this._tiles){var Dt=this._tiles[vt].coords;(Dt.z!==this._tileZoom||!ft.contains(new A(Dt.x,Dt.y)))&&(this._tiles[vt].current=!1)}if(Math.abs(h-this._tileZoom)>1){this._setView(i,h);return}for(var jt=w.min.y;jt<=w.max.y;jt++)for(var ue=w.min.x;ue<=w.max.x;ue++){var ln=new A(ue,jt);if(ln.z=this._tileZoom,!!this._isValidTile(ln)){var rn=this._tiles[this._tileCoordsToKey(ln)];rn?rn.current=!0:V.push(ln)}}if(V.sort(function(Rn,zs){return Rn.distanceTo(T)-zs.distanceTo(T)}),V.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Xn=document.createDocumentFragment();for(ue=0;ue<V.length;ue++)this._addTile(V[ue],Xn);this._level.el.appendChild(Xn)}}}},_isValidTile:function(i){var a=this._map.options.crs;if(!a.infinite){var h=this._globalTileRange;if(!a.wrapLng&&(i.x<h.min.x||i.x>h.max.x)||!a.wrapLat&&(i.y<h.min.y||i.y>h.max.y))return!1}if(!this.options.bounds)return!0;var v=this._tileCoordsToBounds(i);return gt(this.options.bounds).overlaps(v)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var a=this._map,h=this.getTileSize(),v=i.scaleBy(h),w=v.add(h),T=a.unproject(v,i.z),V=a.unproject(w,i.z);return[T,V]},_tileCoordsToBounds:function(i){var a=this._tileCoordsToNwSe(i),h=new It(a[0],a[1]);return this.options.noWrap||(h=this._map.wrapLatLngBounds(h)),h},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var a=i.split(":"),h=new A(+a[0],+a[1]);return h.z=+a[2],h},_removeTile:function(i){var a=this._tiles[i];a&&(Ce(a.el),delete this._tiles[i],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Qt(i,"leaflet-tile");var a=this.getTileSize();i.style.width=a.x+"px",i.style.height=a.y+"px",i.onselectstart=D,i.onmousemove=D,Gt.ielt9&&this.options.opacity<1&&Ze(i,this.options.opacity)},_addTile:function(i,a){var h=this._getTilePos(i),v=this._tileCoordsToKey(i),w=this.createTile(this._wrapCoords(i),R(this._tileReady,this,i));this._initTile(w),this.createTile.length<2&&$(R(this._tileReady,this,i,null,w)),Fe(w,h),this._tiles[v]={el:w,coords:i,current:!0},a.appendChild(w),this.fire("tileloadstart",{tile:w,coords:i})},_tileReady:function(i,a,h){a&&this.fire("tileerror",{error:a,tile:h,coords:i});var v=this._tileCoordsToKey(i);h=this._tiles[v],h&&(h.loaded=+new Date,this._map._fadeAnimated?(Ze(h.el,0),W(this._fadeFrame),this._fadeFrame=$(this._updateOpacity,this)):(h.active=!0,this._pruneTiles()),a||(Qt(h.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:h.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Gt.ielt9||!this._map._fadeAnimated?$(this._pruneTiles,this):setTimeout(R(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var a=new A(this._wrapX?Y(i.x,this._wrapX):i.x,this._wrapY?Y(i.y,this._wrapY):i.y);return a.z=i.z,a},_pxBoundsToTileRange:function(i){var a=this.getTileSize();return new z(i.min.unscaleBy(a).floor(),i.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function pe(i){return new se(i)}var Ne=se.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,a){this._url=i,a=pt(this,a),a.detectRetina&&Gt.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,a){return this._url===i&&a===void 0&&(a=!0),this._url=i,a||this.redraw(),this},createTile:function(i,a){var h=document.createElement("img");return Jt(h,"load",R(this._tileOnLoad,this,a,h)),Jt(h,"error",R(this._tileOnError,this,a,h)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(h.referrerPolicy=this.options.referrerPolicy),h.alt="",h.src=this.getTileUrl(i),h},getTileUrl:function(i){var a={r:Gt.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var h=this._globalTileRange.max.y-i.y;this.options.tms&&(a.y=h),a["-y"]=h}return ut(this._url,p(a,this.options))},_tileOnLoad:function(i,a){Gt.ielt9?setTimeout(R(i,this,null,a),0):i(null,a)},_tileOnError:function(i,a,h){var v=this.options.errorTileUrl;v&&a.getAttribute("src")!==v&&(a.src=v),i(h,a)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,a=this.options.maxZoom,h=this.options.zoomReverse,v=this.options.zoomOffset;return h&&(i=a-i),i+v},_getSubdomain:function(i){var a=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var i,a;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(a=this._tiles[i].el,a.onload=D,a.onerror=D,!a.complete)){a.src=Ct;var h=this._tiles[i].coords;Ce(a),delete this._tiles[i],this.fire("tileabort",{tile:a,coords:h})}},_removeTile:function(i){var a=this._tiles[i];if(a)return a.el.setAttribute("src",Ct),se.prototype._removeTile.call(this,i)},_tileReady:function(i,a,h){if(!(!this._map||h&&h.getAttribute("src")===Ct))return se.prototype._tileReady.call(this,i,a,h)}});function $e(i,a){return new Ne(i,a)}var Vn=Ne.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,a){this._url=i;var h=p({},this.defaultWmsParams);for(var v in a)v in this.options||(h[v]=a[v]);a=pt(this,a);var w=a.detectRetina&&Gt.retina?2:1,T=this.getTileSize();h.width=T.x*w,h.height=T.y*w,this.wmsParams=h},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,Ne.prototype.onAdd.call(this,i)},getTileUrl:function(i){var a=this._tileCoordsToNwSe(i),h=this._crs,v=st(h.project(a[0]),h.project(a[1])),w=v.min,T=v.max,V=(this._wmsVersion>=1.3&&this._crs===qo?[w.y,w.x,T.y,T.x]:[w.x,w.y,T.x,T.y]).join(","),at=Ne.prototype.getTileUrl.call(this,i);return at+_t(this.wmsParams,at,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+V},setParams:function(i,a){return p(this.wmsParams,i),a||this.redraw(),this}});function Tr(i,a){return new Vn(i,a)}Ne.WMS=Vn,$e.wms=Tr;var Wn=Yn.extend({options:{padding:.1},initialize:function(i){pt(this,i),b(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Qt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,a){var h=this._map.getZoomScale(a,this._zoom),v=this._map.getSize().multiplyBy(.5+this.options.padding),w=this._map.project(this._center,a),T=v.multiplyBy(-h).add(w).subtract(this._map._getNewPixelOrigin(i,a));Gt.any3d?Bn(this._container,T,h):Fe(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,a=this._map.getSize(),h=this._map.containerPointToLayerPoint(a.multiplyBy(-i)).round();this._bounds=new z(h,h.add(a.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Rs=Wn.extend({options:{tolerance:0},getEvents:function(){var i=Wn.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Wn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");Jt(i,"mousemove",this._onMouseMove,this),Jt(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Jt(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,Ce(this._container),Ee(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var a in this._layers)i=this._layers[a],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wn.prototype._update.call(this);var i=this._bounds,a=this._container,h=i.getSize(),v=Gt.retina?2:1;Fe(a,i.min),a.width=v*h.x,a.height=v*h.y,a.style.width=h.x+"px",a.style.height=h.y+"px",Gt.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){Wn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[b(i)]=i;var a=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var a=i._order,h=a.next,v=a.prev;h?h.prev=v:this._drawLast=v,v?v.next=h:this._drawFirst=h,delete i._order,delete this._layers[b(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var a=i.options.dashArray.split(/[, ]+/),h=[],v,w;for(w=0;w<a.length;w++){if(v=Number(a[w]),isNaN(v))return;h.push(v)}i.options._dashArray=h}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||$(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var a=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new z,this._redrawBounds.extend(i._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(i._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var a=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,a=this._redrawBounds;if(this._ctx.save(),a){var h=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,h.x,h.y),this._ctx.clip()}this._drawing=!0;for(var v=this._drawFirst;v;v=v.next)i=v.layer,(!a||i._pxBounds&&i._pxBounds.intersects(a))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,a){if(this._drawing){var h,v,w,T,V=i._parts,at=V.length,ft=this._ctx;if(at){for(ft.beginPath(),h=0;h<at;h++){for(v=0,w=V[h].length;v<w;v++)T=V[h][v],ft[v?"lineTo":"moveTo"](T.x,T.y);a&&ft.closePath()}this._fillStroke(ft,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var a=i._point,h=this._ctx,v=Math.max(Math.round(i._radius),1),w=(Math.max(Math.round(i._radiusY),1)||v)/v;w!==1&&(h.save(),h.scale(1,w)),h.beginPath(),h.arc(a.x,a.y/w,v,0,Math.PI*2,!1),w!==1&&h.restore(),this._fillStroke(h,i)}},_fillStroke:function(i,a){var h=a.options;h.fill&&(i.globalAlpha=h.fillOpacity,i.fillStyle=h.fillColor||h.color,i.fill(h.fillRule||"evenodd")),h.stroke&&h.weight!==0&&(i.setLineDash&&i.setLineDash(a.options&&a.options._dashArray||[]),i.globalAlpha=h.opacity,i.lineWidth=h.weight,i.strokeStyle=h.color,i.lineCap=h.lineCap,i.lineJoin=h.lineJoin,i.stroke())},_onClick:function(i){for(var a=this._map.mouseEventToLayerPoint(i),h,v,w=this._drawFirst;w;w=w.next)h=w.layer,h.options.interactive&&h._containsPoint(a)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(h))&&(v=h);this._fireEvent(v?[v]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,a)}},_handleMouseOut:function(i){var a=this._hoveredLayer;a&&(me(this._container,"leaflet-interactive"),this._fireEvent([a],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,a){if(!this._mouseHoverThrottled){for(var h,v,w=this._drawFirst;w;w=w.next)h=w.layer,h.options.interactive&&h._containsPoint(a)&&(v=h);v!==this._hoveredLayer&&(this._handleMouseOut(i),v&&(Qt(this._container,"leaflet-interactive"),this._fireEvent([v],i,"mouseover"),this._hoveredLayer=v)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(R(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,a,h){this._map._fireDOMEvent(a,h||a.type,i)},_bringToFront:function(i){var a=i._order;if(a){var h=a.next,v=a.prev;if(h)h.prev=v;else return;v?v.next=h:h&&(this._drawFirst=h),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(i)}},_bringToBack:function(i){var a=i._order;if(a){var h=a.next,v=a.prev;if(v)v.next=h;else return;h?h.prev=v:v&&(this._drawLast=v),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(i)}}});function Ms(i){return Gt.canvas?new Rs(i):null}var ir=(function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}})(),Eo={_initContainer:function(){this._container=te("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Wn.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var a=i._container=ir("shape");Qt(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",i._path=ir("path"),a.appendChild(i._path),this._updateStyle(i),this._layers[b(i)]=i},_addPath:function(i){var a=i._container;this._container.appendChild(a),i.options.interactive&&i.addInteractiveTarget(a)},_removePath:function(i){var a=i._container;Ce(a),i.removeInteractiveTarget(a),delete this._layers[b(i)]},_updateStyle:function(i){var a=i._stroke,h=i._fill,v=i.options,w=i._container;w.stroked=!!v.stroke,w.filled=!!v.fill,v.stroke?(a||(a=i._stroke=ir("stroke")),w.appendChild(a),a.weight=v.weight+"px",a.color=v.color,a.opacity=v.opacity,v.dashArray?a.dashStyle=xt(v.dashArray)?v.dashArray.join(" "):v.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=v.lineCap.replace("butt","flat"),a.joinstyle=v.lineJoin):a&&(w.removeChild(a),i._stroke=null),v.fill?(h||(h=i._fill=ir("fill")),w.appendChild(h),h.color=v.fillColor||v.color,h.opacity=v.fillOpacity):h&&(w.removeChild(h),i._fill=null)},_updateCircle:function(i){var a=i._point.round(),h=Math.round(i._radius),v=Math.round(i._radiusY||h);this._setPath(i,i._empty()?"M0 0":"AL "+a.x+","+a.y+" "+h+","+v+" 0,"+65535*360)},_setPath:function(i,a){i._path.v=a},_bringToFront:function(i){gr(i._container)},_bringToBack:function(i){ei(i._container)}},On=Gt.vml?ir:ge,xi=Wn.extend({_initContainer:function(){this._container=On("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=On("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ce(this._container),Ee(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Wn.prototype._update.call(this);var i=this._bounds,a=i.getSize(),h=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,h.setAttribute("width",a.x),h.setAttribute("height",a.y)),Fe(h,i.min),h.setAttribute("viewBox",[i.min.x,i.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(i){var a=i._path=On("path");i.options.className&&Qt(a,i.options.className),i.options.interactive&&Qt(a,"leaflet-interactive"),this._updateStyle(i),this._layers[b(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Ce(i._path),i.removeInteractiveTarget(i._path),delete this._layers[b(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var a=i._path,h=i.options;a&&(h.stroke?(a.setAttribute("stroke",h.color),a.setAttribute("stroke-opacity",h.opacity),a.setAttribute("stroke-width",h.weight),a.setAttribute("stroke-linecap",h.lineCap),a.setAttribute("stroke-linejoin",h.lineJoin),h.dashArray?a.setAttribute("stroke-dasharray",h.dashArray):a.removeAttribute("stroke-dasharray"),h.dashOffset?a.setAttribute("stroke-dashoffset",h.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),h.fill?(a.setAttribute("fill",h.fillColor||h.color),a.setAttribute("fill-opacity",h.fillOpacity),a.setAttribute("fill-rule",h.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(i,a){this._setPath(i,ds(i._parts,a))},_updateCircle:function(i){var a=i._point,h=Math.max(Math.round(i._radius),1),v=Math.max(Math.round(i._radiusY),1)||h,w="a"+h+","+v+" 0 1,0 ",T=i._empty()?"M0 0":"M"+(a.x-h)+","+a.y+w+h*2+",0 "+w+-h*2+",0 ";this._setPath(i,T)},_setPath:function(i,a){i._path.setAttribute("d",a)},_bringToFront:function(i){gr(i._path)},_bringToBack:function(i){ei(i._path)}});Gt.vml&&xi.include(Eo);function Cr(i){return Gt.svg||Gt.vml?new xi(i):null}ie.include({getRenderer:function(i){var a=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var a=this._paneRenderers[i];return a===void 0&&(a=this._createRenderer({pane:i}),this._paneRenderers[i]=a),a},_createRenderer:function(i){return this.options.preferCanvas&&Ms(i)||Cr(i)}});var eu=_i.extend({initialize:function(i,a){_i.prototype.initialize.call(this,this._boundsToLatLngs(i),a)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=gt(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function dl(i,a){return new eu(i,a)}xi.create=On,xi.pointsToPath=ds,Hn.geometryToLayer=Nr,Hn.coordsToLatLng=yi,Hn.coordsToLatLngs=Qr,Hn.latLngToCoords=Jr,Hn.latLngsToCoords=an,Hn.getFeature=un,Hn.asFeature=o,ie.mergeOptions({boxZoom:!0});var As=Cn.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){Jt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ee(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ce(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),le(),Es(),this._startPoint=this._map.mouseEventToContainerPoint(i),Jt(document,{contextmenu:Nn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=te("div","leaflet-zoom-box",this._container),Qt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var a=new z(this._point,this._startPoint),h=a.getSize();Fe(this._box,a.min),this._box.style.width=h.x+"px",this._box.style.height=h.y+"px"},_finish:function(){this._moved&&(Ce(this._box),me(this._container,"leaflet-crosshair")),Ji(),pr(),Ee(document,{contextmenu:Nn,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(R(this._resetState,this),0);var a=new It(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ie.addInitHook("addHandler","boxZoom",As),ie.mergeOptions({doubleClickZoom:!0});var nu=Cn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var a=this._map,h=a.getZoom(),v=a.options.zoomDelta,w=i.originalEvent.shiftKey?h-v:h+v;a.options.doubleClickZoom==="center"?a.setZoom(w):a.setZoomAround(i.containerPoint,w)}});ie.addInitHook("addHandler","doubleClickZoom",nu),ie.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ka=Cn.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new qn(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Qt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){me(this._map._container,"leaflet-grab"),me(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=gt(this._map.options.maxBounds);this._offsetLimit=st(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var a=this._lastTime=+new Date,h=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(h),this._times.push(a),this._prunePositions(a)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,a){return i-(i-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;i.x<a.min.x&&(i.x=this._viscousLimit(i.x,a.min.x)),i.y<a.min.y&&(i.y=this._viscousLimit(i.y,a.min.y)),i.x>a.max.x&&(i.x=this._viscousLimit(i.x,a.max.x)),i.y>a.max.y&&(i.y=this._viscousLimit(i.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,a=Math.round(i/2),h=this._initialWorldOffset,v=this._draggable._newPos.x,w=(v-a+h)%i+a-h,T=(v+a+h)%i-a-h,V=Math.abs(w+h)<Math.abs(T+h)?w:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=V},_onDragEnd:function(i){var a=this._map,h=a.options,v=!h.inertia||i.noInertia||this._times.length<2;if(a.fire("dragend",i),v)a.fire("moveend");else{this._prunePositions(+new Date);var w=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,V=h.easeLinearity,at=w.multiplyBy(V/T),ft=at.distanceTo([0,0]),vt=Math.min(h.inertiaMaxSpeed,ft),Dt=at.multiplyBy(vt/ft),jt=vt/(h.inertiaDeceleration*V),ue=Dt.multiplyBy(-jt/2).round();!ue.x&&!ue.y?a.fire("moveend"):(ue=a._limitOffset(ue,a.options.maxBounds),$(function(){a.panBy(ue,{duration:jt,easeLinearity:V,noMoveStart:!0,animate:!0})}))}}});ie.addInitHook("addHandler","dragging",ka),ie.mergeOptions({keyboard:!0,keyboardPanDelta:80});var wa=Cn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),Jt(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ee(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,a=document.documentElement,h=i.scrollTop||a.scrollTop,v=i.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(v,h)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var a=this._panKeys={},h=this.keyCodes,v,w;for(v=0,w=h.left.length;v<w;v++)a[h.left[v]]=[-1*i,0];for(v=0,w=h.right.length;v<w;v++)a[h.right[v]]=[i,0];for(v=0,w=h.down.length;v<w;v++)a[h.down[v]]=[0,i];for(v=0,w=h.up.length;v<w;v++)a[h.up[v]]=[0,-1*i]},_setZoomDelta:function(i){var a=this._zoomKeys={},h=this.keyCodes,v,w;for(v=0,w=h.zoomIn.length;v<w;v++)a[h.zoomIn[v]]=i;for(v=0,w=h.zoomOut.length;v<w;v++)a[h.zoomOut[v]]=-i},_addHooks:function(){Jt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ee(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var a=i.keyCode,h=this._map,v;if(a in this._panKeys){if(!h._panAnim||!h._panAnim._inProgress)if(v=this._panKeys[a],i.shiftKey&&(v=H(v).multiplyBy(3)),h.options.maxBounds&&(v=h._limitOffset(H(v),h.options.maxBounds)),h.options.worldCopyJump){var w=h.wrapLatLng(h.unproject(h.project(h.getCenter()).add(v)));h.panTo(w)}else h.panBy(v)}else if(a in this._zoomKeys)h.setZoom(h.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&h._popup&&h._popup.options.closeOnEscapeKey)h.closePopup();else return;Nn(i)}}});ie.addInitHook("addHandler","keyboard",wa),ie.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Te=Cn.extend({addHooks:function(){Jt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ee(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var a=ao(i),h=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var v=Math.max(h-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(R(this._performZoom,this),v),Nn(i)},_performZoom:function(){var i=this._map,a=i.getZoom(),h=this._map.options.zoomSnap||0;i._stop();var v=this._delta/(this._map.options.wheelPxPerZoomLevel*4),w=4*Math.log(2/(1+Math.exp(-Math.abs(v))))/Math.LN2,T=h?Math.ceil(w/h)*h:w,V=i._limitZoom(a+(this._delta>0?T:-T))-a;this._delta=0,this._startTime=null,V&&(i.options.scrollWheelZoom==="center"?i.setZoom(a+V):i.setZoomAround(this._lastMousePos,a+V))}});ie.addInitHook("addHandler","scrollWheelZoom",Te);var Ea=600;ie.mergeOptions({tapHold:Gt.touchNative&&Gt.safari&&Gt.mobile,tapTolerance:15});var So=Cn.extend({addHooks:function(){Jt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ee(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var a=i.touches[0];this._startPos=this._newPos=new A(a.clientX,a.clientY),this._holdTimeout=setTimeout(R(function(){this._cancel(),this._isTapValid()&&(Jt(document,"touchend",Le),Jt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),Ea),Jt(document,"touchend touchcancel contextmenu",this._cancel,this),Jt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){Ee(document,"touchend",Le),Ee(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),Ee(document,"touchend touchcancel contextmenu",this._cancel,this),Ee(document,"touchmove",this._onMove,this)},_onMove:function(i){var a=i.touches[0];this._newPos=new A(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,a){var h=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});h._simulated=!0,a.target.dispatchEvent(h)}});ie.addInitHook("addHandler","tapHold",So),ie.mergeOptions({touchZoom:Gt.touch,bounceAtZoomLimits:!0});var Ds=Cn.extend({addHooks:function(){Qt(this._map._container,"leaflet-touch-zoom"),Jt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){me(this._map._container,"leaflet-touch-zoom"),Ee(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var a=this._map;if(!(!i.touches||i.touches.length!==2||a._animatingZoom||this._zooming)){var h=a.mouseEventToContainerPoint(i.touches[0]),v=a.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(h.add(v)._divideBy(2))),this._startDist=h.distanceTo(v),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),Jt(document,"touchmove",this._onTouchMove,this),Jt(document,"touchend touchcancel",this._onTouchEnd,this),Le(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var a=this._map,h=a.mouseEventToContainerPoint(i.touches[0]),v=a.mouseEventToContainerPoint(i.touches[1]),w=h.distanceTo(v)/this._startDist;if(this._zoom=a.getScaleZoom(w,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&w<1||this._zoom>a.getMaxZoom()&&w>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,w===1)return}else{var T=h._add(v)._divideBy(2)._subtract(this._centerPoint);if(w===1&&T.x===0&&T.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var V=R(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=$(V,this,!0),Le(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),Ee(document,"touchmove",this._onTouchMove,this),Ee(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ie.addInitHook("addHandler","touchZoom",Ds),ie.BoxZoom=As,ie.DoubleClickZoom=nu,ie.Drag=ka,ie.Keyboard=wa,ie.ScrollWheelZoom=Te,ie.TapHold=So,ie.TouchZoom=Ds,f.Bounds=z,f.Browser=Gt,f.CRS=Ht,f.Canvas=Rs,f.Circle=Kr,f.CircleMarker=jr,f.Class=q,f.Control=kn,f.DivIcon=qt,f.DivOverlay=tt,f.DomEvent=Ls,f.DomUtil=Ci,f.Draggable=qn,f.Evented=et,f.FeatureGroup=pi,f.GeoJSON=Hn,f.GridLayer=se,f.Handler=Cn,f.Icon=nr,f.ImageOverlay=l,f.LatLng=yt,f.LatLngBounds=It,f.Layer=Yn,f.LayerGroup=Ri,f.LineUtil=Ps,f.Map=ie,f.Marker=vi,f.Mixin=lo,f.Path=Mi,f.Point=A,f.PolyUtil=wn,f.Polygon=_i,f.Polyline=dn,f.Popup=ot,f.PosAnimation=Vr,f.Projection=va,f.Rectangle=eu,f.Renderer=Wn,f.SVG=xi,f.SVGOverlay=N,f.TileLayer=Ne,f.Tooltip=Ot,f.Transformation=At,f.Util=J,f.VideoOverlay=x,f.bind=R,f.bounds=st,f.canvas=Ms,f.circle=$r,f.circleMarker=ko,f.control=qe,f.divIcon=ce,f.extend=p,f.featureGroup=yo,f.geoJSON=e,f.geoJson=s,f.gridLayer=pe,f.icon=Yo,f.imageOverlay=d,f.latLng=Et,f.latLngBounds=gt,f.layerGroup=Lr,f.map=Zn,f.marker=xa,f.point=H,f.polygon=Ho,f.polyline=wo,f.popup=mt,f.rectangle=dl,f.setOptions=pt,f.stamp=b,f.svg=Cr,f.svgOverlay=M,f.tileLayer=$e,f.tooltip=zt,f.transformation=B,f.version=y,f.videoOverlay=E;var iu=window.L;f.noConflict=function(){return window.L=iu,this},window.L=f}))})(Ua,Ua.exports)),Ua.exports}var Js=bg();function ca(m,g,f){return Object.freeze({instance:m,context:g,container:f})}function Ja(m,g){return g==null?function(y,p){const C=he.useRef();return C.current||(C.current=m(y,p)),C}:function(y,p){const C=he.useRef();C.current||(C.current=m(y,p));const R=he.useRef(y),{instance:S}=C.current;return he.useEffect(function(){R.current!==y&&(g(S,y,R.current),R.current=y)},[S,y,p]),C}}function cd(m,g){he.useEffect(function(){return(g.layerContainer??g.map).addLayer(m.instance),function(){g.layerContainer?.removeLayer(m.instance),g.map.removeLayer(m.instance)}},[g,m])}function fd(m){return function(f){const y=Qa(),p=m(cl(f,y),y);return ld(y.map,f.attribution),Yh(p.current,f.eventHandlers),cd(p.current,y),p}}function Fg(m,g){const f=he.useRef();he.useEffect(function(){if(g.pathOptions!==f.current){const p=g.pathOptions??{};m.instance.setStyle(p),f.current=p}},[m,g])}function Bg(m){return function(f){const y=Qa(),p=m(cl(f,y),y);return Yh(p.current,f.eventHandlers),cd(p.current,y),Fg(p.current,f),p}}function dd(m,g){const f=Ja(m,g),y=fd(f);return qh(y)}function Gg(m,g){const f=Ja(m),y=Dg(f,g);return Rg(y)}function Zg(m,g){const f=Ja(m,g),y=Bg(f);return qh(y)}function Ug(m,g){const f=Ja(m,g),y=fd(f);return Mg(y)}function qg(m,g,f){const{opacity:y,zIndex:p}=g;y!=null&&y!==f.opacity&&m.setOpacity(y),p!=null&&p!==f.zIndex&&m.setZIndex(p)}const Af=Zg(function({data:g,...f},y){const p=new Js.GeoJSON(g,f);return ca(p,$a(y,{overlayContainer:p}))},function(g,f,y){f.style!==y.style&&(f.style==null?g.resetStyle():g.setStyle(f.style))}),Yg=dd(function({children:g,...f},y){const p=new Js.LayerGroup([],f);return ca(p,$a(y,{layerContainer:p}))}),Hg=Ja(function({children:g,...f},y){const p=new Js.Control.Layers(void 0,void 0,f);return ca(p,$a(y,{layersControl:p}))},function(g,f,y){f.collapsed!==y.collapsed&&(f.collapsed===!0?g.collapse():g.expand())}),Vg=Ag(Hg),Wa=qh(Vg);function gd(m){return function(f){const y=Qa(),p=he.useRef(f),[C,R]=he.useState(null),{layersControl:S,map:b}=y,Z=he.useCallback(K=>{S!=null&&(p.current.checked&&b.addLayer(K),m(S,K,p.current.name),R(K))},[S,b]),Y=he.useCallback(K=>{S?.removeLayer(K),R(null)},[S]),D=he.useMemo(()=>$a(y,{layerContainer:{addLayer:Z,removeLayer:Y}}),[y,Z,Y]);return he.useEffect(()=>{C!==null&&p.current!==f&&(f.checked===!0&&(p.current.checked==null||p.current.checked===!1)?b.addLayer(C):p.current.checked===!0&&(f.checked==null||f.checked===!1)&&b.removeLayer(C),p.current=f)}),f.children?Xa.createElement(Uh,{value:D},f.children):null}}Wa.BaseLayer=gd(function(g,f,y){g.addBaseLayer(f,y)});Wa.Overlay=gd(function(g,f,y){g.addOverlay(f,y)});function Ch(){return Ch=Object.assign||function(m){for(var g=1;g<arguments.length;g++){var f=arguments[g];for(var y in f)Object.prototype.hasOwnProperty.call(f,y)&&(m[y]=f[y])}return m},Ch.apply(this,arguments)}function Wg({bounds:m,boundsOptions:g,center:f,children:y,className:p,id:C,placeholder:R,style:S,whenReady:b,zoom:Z,...Y},D){const[K]=he.useState({className:p,id:C,style:S}),[ct,rt]=he.useState(null);he.useImperativeHandle(D,()=>ct?.map??null,[ct]);const pt=he.useCallback(Ft=>{if(Ft!==null&&ct===null){const ut=new Js.Map(Ft,Y);f!=null&&Z!=null?ut.setView(f,Z):m!=null&&ut.fitBounds(m,g),b!=null&&ut.whenReady(b),rt(Og(ut))}},[]);he.useEffect(()=>()=>{ct?.map.remove()},[ct]);const _t=ct?Xa.createElement(Uh,{value:ct},y):R??null;return Xa.createElement("div",Ch({},K,{ref:pt}),_t)}const Xg=he.forwardRef(Wg),jg=dd(function({position:g,...f},y){const p=new Js.Marker(g,f);return ca(p,$a(y,{overlayContainer:p}))},function(g,f,y){f.position!==y.position&&g.setLatLng(f.position),f.icon!=null&&f.icon!==y.icon&&g.setIcon(f.icon),f.zIndexOffset!=null&&f.zIndexOffset!==y.zIndexOffset&&g.setZIndexOffset(f.zIndexOffset),f.opacity!=null&&f.opacity!==y.opacity&&g.setOpacity(f.opacity),g.dragging!=null&&f.draggable!==y.draggable&&(f.draggable===!0?g.dragging.enable():g.dragging.disable())}),Kg=Gg(function(g,f){const y=new Js.Popup(g,f.overlayContainer);return ca(y,f)},function(g,f,{position:y},p){he.useEffect(function(){const{instance:R}=g;function S(Z){Z.popup===R&&(R.update(),p(!0))}function b(Z){Z.popup===R&&p(!1)}return f.map.on({popupopen:S,popupclose:b}),f.overlayContainer==null?(y!=null&&R.setLatLng(y),R.openOn(f.map)):f.overlayContainer.bindPopup(R),function(){f.map.off({popupopen:S,popupclose:b}),f.overlayContainer?.unbindPopup(),f.map.removeLayer(R)}},[g,f,p,y])}),Df=Ug(function({url:g,...f},y){const p=new Js.TileLayer(g,cl(f,y));return ca(p,y)},function(g,f,y){qg(g,f,y);const{url:p}=f;p!=null&&p!==y.url&&g.setUrl(p)});var hi=63710088e-1,md={centimeters:hi*100,centimetres:hi*100,degrees:360/(2*Math.PI),feet:hi*3.28084,inches:hi*39.37,kilometers:hi/1e3,kilometres:hi/1e3,meters:hi,metres:hi,miles:hi/1609.344,millimeters:hi*1e3,millimetres:hi*1e3,nauticalmiles:hi/1852,radians:1,yards:hi*1.0936};function tu(m,g,f={}){const y={type:"Feature"};return(f.id===0||f.id)&&(y.id=f.id),f.bbox&&(y.bbox=f.bbox),y.properties=g||{},y.geometry=m,y}function $g(m,g,f={}){if(!m)throw new Error("coordinates is required");if(!Array.isArray(m))throw new Error("coordinates must be an Array");if(m.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!zf(m[0])||!zf(m[1]))throw new Error("coordinates must contain numbers");return tu({type:"Point",coordinates:m},g,f)}function aa(m,g,f={}){for(const p of m){if(p.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");if(p[p.length-1].length!==p[0].length)throw new Error("First and last Position are not equivalent.");for(let C=0;C<p[p.length-1].length;C++)if(p[p.length-1][C]!==p[0][C])throw new Error("First and last Position are not equivalent.")}return tu({type:"Polygon",coordinates:m},g,f)}function Qg(m,g,f={}){if(m.length<2)throw new Error("coordinates must be an array of two or more positions");return tu({type:"LineString",coordinates:m},g,f)}function ja(m,g={}){const f={type:"FeatureCollection"};return g.id&&(f.id=g.id),g.bbox&&(f.bbox=g.bbox),f.features=m,f}function pd(m,g,f={}){return tu({type:"MultiPolygon",coordinates:m},g,f)}function Jg(m,g="kilometers"){const f=md[g];if(!f)throw new Error(g+" units is invalid");return m*f}function tm(m,g="kilometers"){const f=md[g];if(!f)throw new Error(g+" units is invalid");return m/f}function zf(m){return!isNaN(m)&&m!==null&&!Array.isArray(m)}function vd(m,g,f){if(m!==null)for(var y,p,C,R,S,b,Z,Y=0,D=0,K,ct=m.type,rt=ct==="FeatureCollection",pt=ct==="Feature",_t=rt?m.features.length:1,Ft=0;Ft<_t;Ft++){Z=rt?m.features[Ft].geometry:pt?m.geometry:m,K=Z?Z.type==="GeometryCollection":!1,S=K?Z.geometries.length:1;for(var ut=0;ut<S;ut++){var xt=0,Mt=0;if(R=K?Z.geometries[ut]:Z,R!==null){b=R.coordinates;var Ct=R.type;switch(Y=0,Ct){case null:break;case"Point":if(g(b,D,Ft,xt,Mt)===!1)return!1;D++,xt++;break;case"LineString":case"MultiPoint":for(y=0;y<b.length;y++){if(g(b[y],D,Ft,xt,Mt)===!1)return!1;D++,Ct==="MultiPoint"&&xt++}Ct==="LineString"&&xt++;break;case"Polygon":case"MultiLineString":for(y=0;y<b.length;y++){for(p=0;p<b[y].length-Y;p++){if(g(b[y][p],D,Ft,xt,Mt)===!1)return!1;D++}Ct==="MultiLineString"&&xt++,Ct==="Polygon"&&Mt++}Ct==="Polygon"&&xt++;break;case"MultiPolygon":for(y=0;y<b.length;y++){for(Mt=0,p=0;p<b[y].length;p++){for(C=0;C<b[y][p].length-Y;C++){if(g(b[y][p][C],D,Ft,xt,Mt)===!1)return!1;D++}Mt++}xt++}break;case"GeometryCollection":for(y=0;y<R.geometries.length;y++)if(vd(R.geometries[y],g)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function bf(m,g){if(m.type==="Feature")g(m,0);else if(m.type==="FeatureCollection")for(var f=0;f<m.features.length&&g(m.features[f],f)!==!1;f++);}function fl(m,g){var f,y,p,C,R,S,b,Z,Y,D,K=0,ct=m.type==="FeatureCollection",rt=m.type==="Feature",pt=ct?m.features.length:1;for(f=0;f<pt;f++){for(S=ct?m.features[f].geometry:rt?m.geometry:m,Z=ct?m.features[f].properties:rt?m.properties:{},Y=ct?m.features[f].bbox:rt?m.bbox:void 0,D=ct?m.features[f].id:rt?m.id:void 0,b=S?S.type==="GeometryCollection":!1,R=b?S.geometries.length:1,p=0;p<R;p++){if(C=b?S.geometries[p]:S,C===null){if(g(null,K,Z,Y,D)===!1)return!1;continue}switch(C.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(g(C,K,Z,Y,D)===!1)return!1;break}case"GeometryCollection":{for(y=0;y<C.geometries.length;y++)if(g(C.geometries[y],K,Z,Y,D)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}K++}}function em(m,g={}){if(m.bbox!=null&&g.recompute!==!0)return m.bbox;const f=[1/0,1/0,-1/0,-1/0];return vd(m,y=>{f[0]>y[0]&&(f[0]=y[0]),f[1]>y[1]&&(f[1]=y[1]),f[2]<y[0]&&(f[2]=y[0]),f[3]<y[1]&&(f[3]=y[1])}),f}function nm(m,g={}){const f=em(m),y=(f[0]+f[2])/2,p=(f[1]+f[3])/2;return $g([y,p],g.properties,g)}var $u={exports:{}},im=$u.exports,Ff;function rm(){return Ff||(Ff=1,(function(m,g){(function(f,y){m.exports=y()})(im,(function(){function f(o,t){(t==null||t>o.length)&&(t=o.length);for(var e=0,s=Array(t);e<t;e++)s[e]=o[e];return s}function y(o,t,e){return t=Y(t),(function(s,l){if(l&&(typeof l=="object"||typeof l=="function"))return l;if(l!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d})(s)})(o,K()?Reflect.construct(t,e||[],Y(o).constructor):t.apply(o,e))}function p(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}function C(o,t,e){if(K())return Reflect.construct.apply(null,arguments);var s=[null];s.push.apply(s,t);var l=new(o.bind.apply(o,s));return e&&ct(l,e.prototype),l}function R(o,t){for(var e=0;e<t.length;e++){var s=t[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(o,_t(s.key),s)}}function S(o,t,e){return t&&R(o.prototype,t),e&&R(o,e),Object.defineProperty(o,"prototype",{writable:!1}),o}function b(o,t){var e=typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(!e){if(Array.isArray(o)||(e=Ft(o))||t){e&&(o=e);var s=0,l=function(){};return{s:l,n:function(){return s>=o.length?{done:!0}:{done:!1,value:o[s++]}},e:function(N){throw N},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var d,x=!0,E=!1;return{s:function(){e=e.call(o)},n:function(){var N=e.next();return x=N.done,N},e:function(N){E=!0,d=N},f:function(){try{x||e.return==null||e.return()}finally{if(E)throw d}}}}function Z(){return Z=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(o,t,e){var s=(function(d,x){for(;!{}.hasOwnProperty.call(d,x)&&(d=Y(d))!==null;);return d})(o,t);if(s){var l=Object.getOwnPropertyDescriptor(s,t);return l.get?l.get.call(arguments.length<3?o:e):l.value}},Z.apply(null,arguments)}function Y(o){return Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Y(o)}function D(o,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),t&&ct(o,t)}function K(){try{var o=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch{}return(K=function(){return!!o})()}function ct(o,t){return ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,s){return e.__proto__=s,e},ct(o,t)}function rt(o,t,e,s){var l=Z(Y(1&s?o.prototype:o),t,e);return 2&s&&typeof l=="function"?function(d){return l.apply(e,d)}:l}function pt(o){return(function(t){if(Array.isArray(t))return f(t)})(o)||(function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)})(o)||Ft(o)||(function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)})()}function _t(o){var t=(function(e,s){if(typeof e!="object"||!e)return e;var l=e[Symbol.toPrimitive];if(l!==void 0){var d=l.call(e,s);if(typeof d!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)})(o,"string");return typeof t=="symbol"?t:t+""}function Ft(o,t){if(o){if(typeof o=="string")return f(o,t);var e={}.toString.call(o).slice(8,-1);return e==="Object"&&o.constructor&&(e=o.constructor.name),e==="Map"||e==="Set"?Array.from(o):e==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?f(o,t):void 0}}function ut(o){var t=typeof Map=="function"?new Map:void 0;return ut=function(e){if(e===null||!(function(l){try{return Function.toString.call(l).indexOf("[native code]")!==-1}catch{return typeof l=="function"}})(e))return e;if(typeof e!="function")throw new TypeError("Super expression must either be null or a function");if(t!==void 0){if(t.has(e))return t.get(e);t.set(e,s)}function s(){return C(e,arguments,Y(this).constructor)}return s.prototype=Object.create(e.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),ct(s,e)},ut(o)}var xt=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"getEndCapStyle",value:function(){return this._endCapStyle}},{key:"isSingleSided",value:function(){return this._isSingleSided}},{key:"setQuadrantSegments",value:function(t){this._quadrantSegments=t,this._quadrantSegments===0&&(this._joinStyle=o.JOIN_BEVEL),this._quadrantSegments<0&&(this._joinStyle=o.JOIN_MITRE,this._mitreLimit=Math.abs(this._quadrantSegments)),t<=0&&(this._quadrantSegments=1),this._joinStyle!==o.JOIN_ROUND&&(this._quadrantSegments=o.DEFAULT_QUADRANT_SEGMENTS)}},{key:"getJoinStyle",value:function(){return this._joinStyle}},{key:"setJoinStyle",value:function(t){this._joinStyle=t}},{key:"setSimplifyFactor",value:function(t){this._simplifyFactor=t<0?0:t}},{key:"getSimplifyFactor",value:function(){return this._simplifyFactor}},{key:"getQuadrantSegments",value:function(){return this._quadrantSegments}},{key:"setEndCapStyle",value:function(t){this._endCapStyle=t}},{key:"getMitreLimit",value:function(){return this._mitreLimit}},{key:"setMitreLimit",value:function(t){this._mitreLimit=t}},{key:"setSingleSided",value:function(t){this._isSingleSided=t}}],[{key:"constructor_",value:function(){if(this._quadrantSegments=o.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=o.CAP_ROUND,this._joinStyle=o.JOIN_ROUND,this._mitreLimit=o.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=o.DEFAULT_SIMPLIFY_FACTOR,arguments.length!==0){if(arguments.length===1){var t=arguments[0];this.setQuadrantSegments(t)}else if(arguments.length===2){var e=arguments[0],s=arguments[1];this.setQuadrantSegments(e),this.setEndCapStyle(s)}else if(arguments.length===4){var l=arguments[0],d=arguments[1],x=arguments[2],E=arguments[3];this.setQuadrantSegments(l),this.setEndCapStyle(d),this.setJoinStyle(x),this.setMitreLimit(E)}}}},{key:"bufferDistanceError",value:function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)}}])})();xt.CAP_ROUND=1,xt.CAP_FLAT=2,xt.CAP_SQUARE=3,xt.JOIN_ROUND=1,xt.JOIN_MITRE=2,xt.JOIN_BEVEL=3,xt.DEFAULT_QUADRANT_SEGMENTS=8,xt.DEFAULT_MITRE_LIMIT=5,xt.DEFAULT_SIMPLIFY_FACTOR=.01;var Mt=(function(o){function t(e){var s;return p(this,t),(s=y(this,t,[e])).name=Object.keys({Exception:t})[0],s}return D(t,o),S(t,[{key:"toString",value:function(){return this.message}}])})(ut(Error)),Ct=(function(o){function t(e){var s;return p(this,t),(s=y(this,t,[e])).name=Object.keys({IllegalArgumentException:t})[0],s}return D(t,o),S(t)})(Mt),Nt=(function(){return S((function o(){p(this,o)}),[{key:"filter",value:function(o){}}])})();function Rt(){}function P(){}function O(){}var F,$,W,J,q,U,X,et,A=(function(){return S((function o(){p(this,o)}),null,[{key:"equalsWithTolerance",value:function(o,t,e){return Math.abs(o-t)<=e}}])})(),it=(function(){return S((function o(t,e){p(this,o),this.low=e||0,this.high=t||0}),null,[{key:"toBinaryString",value:function(o){var t,e="";for(t=2147483648;t>0;t>>>=1)e+=(o.high&t)===t?"1":"0";for(t=2147483648;t>0;t>>>=1)e+=(o.low&t)===t?"1":"0";return e}}])})();function H(){}function z(){}H.NaN=NaN,H.isNaN=function(o){return Number.isNaN(o)},H.isInfinite=function(o){return!Number.isFinite(o)},H.MAX_VALUE=Number.MAX_VALUE,H.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,H.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,typeof Float64Array=="function"&&typeof Int32Array=="function"?(U=2146435072,X=new Float64Array(1),et=new Int32Array(X.buffer),H.doubleToLongBits=function(o){X[0]=o;var t=0|et[0],e=0|et[1];return(e&U)===U&&1048575&e&&t!==0&&(t=0,e=2146959360),new it(e,t)},H.longBitsToDouble=function(o){return et[0]=o.low,et[1]=o.high,X[0]}):(F=1023,$=Math.log2,W=Math.floor,J=Math.pow,q=(function(){for(var o=53;o>0;o--){var t=J(2,o)-1;if(W($(t))+1===o)return t}return 0})(),H.doubleToLongBits=function(o){var t,e,s,l,d,x,E,N,M;if(o<0||1/o===Number.NEGATIVE_INFINITY?(x=1<<31,o=-o):x=0,o===0)return new it(N=x,M=0);if(o===1/0)return new it(N=2146435072|x,M=0);if(o!=o)return new it(N=2146959360,M=0);if(l=0,M=0,(t=W(o))>1)if(t<=q)(l=W($(t)))<=20?(M=0,N=t<<20-l&1048575):(M=t%(e=J(2,s=l-20))<<32-s,N=t/e&1048575);else for(s=t,M=0;(s=W(e=s/2))!==0;)l++,M>>>=1,M|=(1&N)<<31,N>>>=1,e!==s&&(N|=524288);if(E=l+F,d=t===0,t=o-t,l<52&&t!==0)for(s=0;;){if((e=2*t)>=1?(t=e-1,d?(E--,d=!1):(s<<=1,s|=1,l++)):(t=e,d?--E==0&&(l++,d=!1):(s<<=1,l++)),l===20)N|=s,s=0;else if(l===52){M|=s;break}if(e===1){l<20?N|=s<<20-l:l<52&&(M|=s<<52-l);break}}return N|=E<<20,new it(N|=x,M)},H.longBitsToDouble=function(o){var t,e,s,l,d=o.high,x=o.low,E=d&1<<31?-1:1;for(s=((2146435072&d)>>20)-F,l=0,e=1<<19,t=1;t<=20;t++)d&e&&(l+=J(2,-t)),e>>>=1;for(e=1<<31,t=21;t<=52;t++)x&e&&(l+=J(2,-t)),e>>>=1;if(s===-1023){if(l===0)return 0*E;s=-1022}else{if(s===1024)return l===0?E/0:NaN;l+=1}return E*l*J(2,s)});var st=(function(o){function t(e){var s;return p(this,t),(s=y(this,t,[e])).name=Object.keys({RuntimeException:t})[0],s}return D(t,o),S(t)})(Mt),It=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,null,[{key:"constructor_",value:function(){if(arguments.length===0)st.constructor_.call(this);else if(arguments.length===1){var e=arguments[0];st.constructor_.call(this,e)}}}])})(st),gt=(function(){function o(){p(this,o)}return S(o,null,[{key:"shouldNeverReachHere",value:function(){if(arguments.length===0)o.shouldNeverReachHere(null);else if(arguments.length===1){var t=arguments[0];throw new It("Should never reach here"+(t!==null?": "+t:""))}}},{key:"isTrue",value:function(){if(arguments.length===1){var t=arguments[0];o.isTrue(t,null)}else if(arguments.length===2){var e=arguments[1];if(!arguments[0])throw e===null?new It:new It(e)}}},{key:"equals",value:function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];o.equals(t,e,null)}else if(arguments.length===3){var s=arguments[0],l=arguments[1],d=arguments[2];if(!l.equals(s))throw new It("Expected "+s+" but encountered "+l+(d!==null?": "+d:""))}}}])})(),yt=new ArrayBuffer(8),Et=new Float64Array(yt),Ht=new Int32Array(yt),Q=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"getM",value:function(){return H.NaN}},{key:"setOrdinate",value:function(t,e){switch(t){case o.X:this.x=e;break;case o.Y:this.y=e;break;case o.Z:this.setZ(e);break;default:throw new Ct("Invalid ordinate index: "+t)}}},{key:"equals2D",value:function(){if(arguments.length===1){var t=arguments[0];return this.x===t.x&&this.y===t.y}if(arguments.length===2){var e=arguments[0],s=arguments[1];return!!A.equalsWithTolerance(this.x,e.x,s)&&!!A.equalsWithTolerance(this.y,e.y,s)}}},{key:"setM",value:function(t){throw new Ct("Invalid ordinate index: "+o.M)}},{key:"getZ",value:function(){return this.z}},{key:"getOrdinate",value:function(t){switch(t){case o.X:return this.x;case o.Y:return this.y;case o.Z:return this.getZ()}throw new Ct("Invalid ordinate index: "+t)}},{key:"equals3D",value:function(t){return this.x===t.x&&this.y===t.y&&(this.getZ()===t.getZ()||H.isNaN(this.getZ())&&H.isNaN(t.getZ()))}},{key:"equals",value:function(t){return t instanceof o&&this.equals2D(t)}},{key:"equalInZ",value:function(t,e){return A.equalsWithTolerance(this.getZ(),t.getZ(),e)}},{key:"setX",value:function(t){this.x=t}},{key:"compareTo",value:function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0}},{key:"getX",value:function(){return this.x}},{key:"setZ",value:function(t){this.z=t}},{key:"clone",value:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return gt.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw t}}},{key:"copy",value:function(){return new o(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+")"}},{key:"distance3D",value:function(t){var e=this.x-t.x,s=this.y-t.y,l=this.getZ()-t.getZ();return Math.sqrt(e*e+s*s+l*l)}},{key:"getY",value:function(){return this.y}},{key:"setY",value:function(t){this.y=t}},{key:"distance",value:function(t){var e=this.x-t.x,s=this.y-t.y;return Math.sqrt(e*e+s*s)}},{key:"hashCode",value:function(){var t=17;return t=37*(t=37*t+o.hashCode(this.x))+o.hashCode(this.y)}},{key:"setCoordinate",value:function(t){this.x=t.x,this.y=t.y,this.z=t.getZ()}},{key:"interfaces_",get:function(){return[Rt,P,O]}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.z=null,arguments.length===0)o.constructor_.call(this,0,0);else if(arguments.length===1){var t=arguments[0];o.constructor_.call(this,t.x,t.y,t.getZ())}else if(arguments.length===2){var e=arguments[0],s=arguments[1];o.constructor_.call(this,e,s,o.NULL_ORDINATE)}else if(arguments.length===3){var l=arguments[0],d=arguments[1],x=arguments[2];this.x=l,this.y=d,this.z=x}}},{key:"hashCode",value:function(t){return Et[0]=t,Ht[0]^Ht[1]}}])})(),ve=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"compare",value:function(t,e){var s=o.compare(t.x,e.x);if(s!==0)return s;var l=o.compare(t.y,e.y);return l!==0?l:this._dimensionsToTest<=2?0:o.compare(t.getZ(),e.getZ())}},{key:"interfaces_",get:function(){return[z]}}],[{key:"constructor_",value:function(){if(this._dimensionsToTest=2,arguments.length===0)o.constructor_.call(this,2);else if(arguments.length===1){var t=arguments[0];if(t!==2&&t!==3)throw new Ct("only 2 or 3 dimensions may be specified");this._dimensionsToTest=t}}},{key:"compare",value:function(t,e){return t<e?-1:t>e?1:H.isNaN(t)?H.isNaN(e)?0:-1:H.isNaN(e)?1:0}}])})();Q.DimensionalComparator=ve,Q.NULL_ORDINATE=H.NaN,Q.X=0,Q.Y=1,Q.Z=2,Q.M=3;var ee=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"getArea",value:function(){return this.getWidth()*this.getHeight()}},{key:"equals",value:function(t){if(!(t instanceof o))return!1;var e=t;return this.isNull()?e.isNull():this._maxx===e.getMaxX()&&this._maxy===e.getMaxY()&&this._minx===e.getMinX()&&this._miny===e.getMinY()}},{key:"intersection",value:function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new o;var e=this._minx>t._minx?this._minx:t._minx,s=this._miny>t._miny?this._miny:t._miny;return new o(e,this._maxx<t._maxx?this._maxx:t._maxx,s,this._maxy<t._maxy?this._maxy:t._maxy)}},{key:"isNull",value:function(){return this._maxx<this._minx}},{key:"getMaxX",value:function(){return this._maxx}},{key:"covers",value:function(){if(arguments.length===1){if(arguments[0]instanceof Q){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof o){var e=arguments[0];return!this.isNull()&&!e.isNull()&&e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(arguments.length===2){var s=arguments[0],l=arguments[1];return!this.isNull()&&s>=this._minx&&s<=this._maxx&&l>=this._miny&&l<=this._maxy}}},{key:"intersects",value:function(){if(arguments.length===1){if(arguments[0]instanceof o){var t=arguments[0];return!this.isNull()&&!t.isNull()&&!(t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny)}if(arguments[0]instanceof Q){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(arguments.length===2){if(arguments[0]instanceof Q&&arguments[1]instanceof Q){var s=arguments[0],l=arguments[1];return!this.isNull()&&!((s.x<l.x?s.x:l.x)>this._maxx)&&!((s.x>l.x?s.x:l.x)<this._minx)&&!((s.y<l.y?s.y:l.y)>this._maxy)&&!((s.y>l.y?s.y:l.y)<this._miny)}if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var d=arguments[0],x=arguments[1];return!this.isNull()&&!(d>this._maxx||d<this._minx||x>this._maxy||x<this._miny)}}}},{key:"getMinY",value:function(){return this._miny}},{key:"getDiameter",value:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return Math.sqrt(t*t+e*e)}},{key:"getMinX",value:function(){return this._minx}},{key:"expandToInclude",value:function(){if(arguments.length===1){if(arguments[0]instanceof Q){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof o){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.isNull()?(this._minx=s,this._maxx=s,this._miny=l,this._maxy=l):(s<this._minx&&(this._minx=s),s>this._maxx&&(this._maxx=s),l<this._miny&&(this._miny=l),l>this._maxy&&(this._maxy=l))}}},{key:"minExtent",value:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t<e?t:e}},{key:"getWidth",value:function(){return this.isNull()?0:this._maxx-this._minx}},{key:"compareTo",value:function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this._minx<e._minx?-1:this._minx>e._minx?1:this._miny<e._miny?-1:this._miny>e._miny?1:this._maxx<e._maxx?-1:this._maxx>e._maxx?1:this._maxy<e._maxy?-1:this._maxy>e._maxy?1:0}},{key:"translate",value:function(t,e){if(this.isNull())return null;this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)}},{key:"copy",value:function(){return new o(this)}},{key:"toString",value:function(){return"Env["+this._minx+" : "+this._maxx+", "+this._miny+" : "+this._maxy+"]"}},{key:"setToNull",value:function(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}},{key:"disjoint",value:function(t){return!(!this.isNull()&&!t.isNull())||t._minx>this._maxx||t._maxx<this._minx||t._miny>this._maxy||t._maxy<this._miny}},{key:"getHeight",value:function(){return this.isNull()?0:this._maxy-this._miny}},{key:"maxExtent",value:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e}},{key:"expandBy",value:function(){if(arguments.length===1){var t=arguments[0];this.expandBy(t,t)}else if(arguments.length===2){var e=arguments[0],s=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=s,this._maxy+=s,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}},{key:"contains",value:function(){if(arguments.length===1){if(arguments[0]instanceof o){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof Q){var e=arguments[0];return this.covers(e)}}else if(arguments.length===2){var s=arguments[0],l=arguments[1];return this.covers(s,l)}}},{key:"centre",value:function(){return this.isNull()?null:new Q((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}},{key:"init",value:function(){if(arguments.length===0)this.setToNull();else if(arguments.length===1){if(arguments[0]instanceof Q){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof o){var e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.init(s.x,l.x,s.y,l.y)}else if(arguments.length===4){var d=arguments[0],x=arguments[1],E=arguments[2],N=arguments[3];d<x?(this._minx=d,this._maxx=x):(this._minx=x,this._maxx=d),E<N?(this._miny=E,this._maxy=N):(this._miny=N,this._maxy=E)}}},{key:"getMaxY",value:function(){return this._maxy}},{key:"distance",value:function(t){if(this.intersects(t))return 0;var e=0;this._maxx<t._minx?e=t._minx-this._maxx:this._minx>t._maxx&&(e=this._minx-t._maxx);var s=0;return this._maxy<t._miny?s=t._miny-this._maxy:this._miny>t._maxy&&(s=this._miny-t._maxy),e===0?s:s===0?e:Math.sqrt(e*e+s*s)}},{key:"hashCode",value:function(){var t=17;return t=37*(t=37*(t=37*(t=37*t+Q.hashCode(this._minx))+Q.hashCode(this._maxx))+Q.hashCode(this._miny))+Q.hashCode(this._maxy)}},{key:"interfaces_",get:function(){return[Rt,O]}}],[{key:"constructor_",value:function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,arguments.length===0)this.init();else if(arguments.length===1){if(arguments[0]instanceof Q){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof o){var e=arguments[0];this.init(e)}}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.init(s.x,l.x,s.y,l.y)}else if(arguments.length===4){var d=arguments[0],x=arguments[1],E=arguments[2],N=arguments[3];this.init(d,x,E,N)}}},{key:"intersects",value:function(){if(arguments.length===3){var t=arguments[0],e=arguments[1],s=arguments[2];return s.x>=(t.x<e.x?t.x:e.x)&&s.x<=(t.x>e.x?t.x:e.x)&&s.y>=(t.y<e.y?t.y:e.y)&&s.y<=(t.y>e.y?t.y:e.y)}if(arguments.length===4){var l=arguments[0],d=arguments[1],x=arguments[2],E=arguments[3],N=Math.min(x.x,E.x),M=Math.max(x.x,E.x),tt=Math.min(l.x,d.x),ot=Math.max(l.x,d.x);return!(tt>M)&&!(ot<N)&&(N=Math.min(x.y,E.y),M=Math.max(x.y,E.y),tt=Math.min(l.y,d.y),ot=Math.max(l.y,d.y),!(tt>M)&&!(ot<N))}}}])})(),At=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"isGeometryCollection",value:function(){return this.getTypeCode()===o.TYPECODE_GEOMETRYCOLLECTION}},{key:"getFactory",value:function(){return this._factory}},{key:"getGeometryN",value:function(t){return this}},{key:"getArea",value:function(){return 0}},{key:"isRectangle",value:function(){return!1}},{key:"equalsExact",value:function(t){return this===t||this.equalsExact(t,0)}},{key:"geometryChanged",value:function(){this.apply(o.geometryChangedFilter)}},{key:"geometryChangedAction",value:function(){this._envelope=null}},{key:"equalsNorm",value:function(t){return t!==null&&this.norm().equalsExact(t.norm())}},{key:"getLength",value:function(){return 0}},{key:"getNumGeometries",value:function(){return 1}},{key:"compareTo",value:function(){var t;if(arguments.length===1){var e=arguments[0];return t=e,this.getTypeCode()!==t.getTypeCode()?this.getTypeCode()-t.getTypeCode():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(e)}if(arguments.length===2){var s=arguments[0],l=arguments[1];return t=s,this.getTypeCode()!==t.getTypeCode()?this.getTypeCode()-t.getTypeCode():this.isEmpty()&&t.isEmpty()?0:this.isEmpty()?-1:t.isEmpty()?1:this.compareToSameClass(s,l)}}},{key:"getUserData",value:function(){return this._userData}},{key:"getSRID",value:function(){return this._SRID}},{key:"getEnvelope",value:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}},{key:"checkNotGeometryCollection",value:function(t){if(t.getTypeCode()===o.TYPECODE_GEOMETRYCOLLECTION)throw new Ct("This method does not support GeometryCollection arguments")}},{key:"equal",value:function(t,e,s){return s===0?t.equals(e):t.distance(e)<=s}},{key:"norm",value:function(){var t=this.copy();return t.normalize(),t}},{key:"reverse",value:function(){var t=this.reverseInternal();return this.envelope!=null&&(t.envelope=this.envelope.copy()),t.setSRID(this.getSRID()),t}},{key:"copy",value:function(){var t=this.copyInternal();return t.envelope=this._envelope==null?null:this._envelope.copy(),t._SRID=this._SRID,t._userData=this._userData,t}},{key:"getPrecisionModel",value:function(){return this._factory.getPrecisionModel()}},{key:"getEnvelopeInternal",value:function(){return this._envelope===null&&(this._envelope=this.computeEnvelopeInternal()),new ee(this._envelope)}},{key:"setSRID",value:function(t){this._SRID=t}},{key:"setUserData",value:function(t){this._userData=t}},{key:"compare",value:function(t,e){for(var s=t.iterator(),l=e.iterator();s.hasNext()&&l.hasNext();){var d=s.next(),x=l.next(),E=d.compareTo(x);if(E!==0)return E}return s.hasNext()?1:l.hasNext()?-1:0}},{key:"hashCode",value:function(){return this.getEnvelopeInternal().hashCode()}},{key:"isEquivalentClass",value:function(t){return this.getClass()===t.getClass()}},{key:"isGeometryCollectionOrDerived",value:function(){return this.getTypeCode()===o.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===o.TYPECODE_MULTIPOINT||this.getTypeCode()===o.TYPECODE_MULTILINESTRING||this.getTypeCode()===o.TYPECODE_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[P,Rt,O]}},{key:"getClass",value:function(){return o}}],[{key:"hasNonEmptyElements",value:function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1}},{key:"hasNullElements",value:function(t){for(var e=0;e<t.length;e++)if(t[e]===null)return!0;return!1}}])})();At.constructor_=function(o){o&&(this._envelope=null,this._userData=null,this._factory=o,this._SRID=o.getSRID())},At.TYPECODE_POINT=0,At.TYPECODE_MULTIPOINT=1,At.TYPECODE_LINESTRING=2,At.TYPECODE_LINEARRING=3,At.TYPECODE_MULTILINESTRING=4,At.TYPECODE_POLYGON=5,At.TYPECODE_MULTIPOLYGON=6,At.TYPECODE_GEOMETRYCOLLECTION=7,At.TYPENAME_POINT="Point",At.TYPENAME_MULTIPOINT="MultiPoint",At.TYPENAME_LINESTRING="LineString",At.TYPENAME_LINEARRING="LinearRing",At.TYPENAME_MULTILINESTRING="MultiLineString",At.TYPENAME_POLYGON="Polygon",At.TYPENAME_MULTIPOLYGON="MultiPolygon",At.TYPENAME_GEOMETRYCOLLECTION="GeometryCollection",At.geometryChangedFilter={get interfaces_(){return[Nt]},filter:function(o){o.geometryChangedAction()}};var B=(function(){function o(){p(this,o)}return S(o,null,[{key:"toLocationSymbol",value:function(t){switch(t){case o.EXTERIOR:return"e";case o.BOUNDARY:return"b";case o.INTERIOR:return"i";case o.NONE:return"-"}throw new Ct("Unknown location value: "+t)}}])})();B.INTERIOR=0,B.BOUNDARY=1,B.EXTERIOR=2,B.NONE=-1;var ye=(function(){return S((function o(){p(this,o)}),[{key:"add",value:function(){}},{key:"addAll",value:function(){}},{key:"isEmpty",value:function(){}},{key:"iterator",value:function(){}},{key:"size",value:function(){}},{key:"toArray",value:function(){}},{key:"remove",value:function(){}}])})(),Pe=(function(o){function t(e){var s;return p(this,t),(s=y(this,t,[e])).name=Object.keys({NoSuchElementException:t})[0],s}return D(t,o),S(t)})(Mt),ge=(function(o){function t(e){var s;return p(this,t),(s=y(this,t,[e])).name=Object.keys({UnsupportedOperationException:t})[0],s}return D(t,o),S(t)})(Mt),ds=(function(o){function t(){return p(this,t),y(this,t,arguments)}return D(t,o),S(t,[{key:"contains",value:function(){}}])})(ye),Hi=(function(o){function t(e){var s;return p(this,t),(s=y(this,t)).map=new Map,e instanceof ye&&s.addAll(e),s}return D(t,o),S(t,[{key:"contains",value:function(e){var s=e.hashCode?e.hashCode():e;return!!this.map.has(s)}},{key:"add",value:function(e){var s=e.hashCode?e.hashCode():e;return!this.map.has(s)&&!!this.map.set(s,e)}},{key:"addAll",value:function(e){var s,l=b(e);try{for(l.s();!(s=l.n()).done;){var d=s.value;this.add(d)}}catch(x){l.e(x)}finally{l.f()}return!0}},{key:"remove",value:function(){throw new ge}},{key:"size",value:function(){return this.map.size}},{key:"isEmpty",value:function(){return this.map.size===0}},{key:"toArray",value:function(){return Array.from(this.map.values())}},{key:"iterator",value:function(){return new Fr(this.map)}},{key:Symbol.iterator,value:function(){return this.map}}])})(ds),Fr=(function(){return S((function o(t){p(this,o),this.iterator=t.values();var e=this.iterator.next(),s=e.done,l=e.value;this.done=s,this.value=l}),[{key:"next",value:function(){if(this.done)throw new Pe;var o=this.value,t=this.iterator.next(),e=t.done,s=t.value;return this.done=e,this.value=s,o}},{key:"hasNext",value:function(){return!this.done}},{key:"remove",value:function(){throw new ge}}])})(),Lt=(function(){function o(){p(this,o)}return S(o,null,[{key:"opposite",value:function(t){return t===o.LEFT?o.RIGHT:t===o.RIGHT?o.LEFT:t}}])})();Lt.ON=0,Lt.LEFT=1,Lt.RIGHT=2;var Vi=(function(o){function t(e){var s;return p(this,t),(s=y(this,t,[e])).name=Object.keys({EmptyStackException:t})[0],s}return D(t,o),S(t)})(Mt),fi=(function(o){function t(e){var s;return p(this,t),(s=y(this,t,[e])).name=Object.keys({IndexOutOfBoundsException:t})[0],s}return D(t,o),S(t)})(Mt),$n=(function(o){function t(){return p(this,t),y(this,t,arguments)}return D(t,o),S(t,[{key:"get",value:function(){}},{key:"set",value:function(){}},{key:"isEmpty",value:function(){}}])})(ye),eo=(function(o){function t(){var e;return p(this,t),(e=y(this,t)).array=[],e}return D(t,o),S(t,[{key:"add",value:function(e){return this.array.push(e),!0}},{key:"get",value:function(e){if(e<0||e>=this.size())throw new fi;return this.array[e]}},{key:"push",value:function(e){return this.array.push(e),e}},{key:"pop",value:function(){if(this.array.length===0)throw new Vi;return this.array.pop()}},{key:"peek",value:function(){if(this.array.length===0)throw new Vi;return this.array[this.array.length-1]}},{key:"empty",value:function(){return this.array.length===0}},{key:"isEmpty",value:function(){return this.empty()}},{key:"search",value:function(e){return this.array.indexOf(e)}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}}])})($n);function ne(o,t){return o.interfaces_&&o.interfaces_.indexOf(t)>-1}var hr=(function(){return S((function o(t){p(this,o),this.str=t}),[{key:"append",value:function(o){this.str+=o}},{key:"setCharAt",value:function(o,t){this.str=this.str.substr(0,o)+t+this.str.substr(o+1)}},{key:"toString",value:function(){return this.str}}])})(),Wi=(function(){function o(t){p(this,o),this.value=t}return S(o,[{key:"intValue",value:function(){return this.value}},{key:"compareTo",value:function(t){return this.value<t?-1:this.value>t?1:0}}],[{key:"compare",value:function(t,e){return t<e?-1:t>e?1:0}},{key:"isNan",value:function(t){return Number.isNaN(t)}},{key:"valueOf",value:function(t){return new o(t)}}])})(),cr=(function(){return S((function o(){p(this,o)}),null,[{key:"isWhitespace",value:function(o){return o<=32&&o>=0||o===127}},{key:"toUpperCase",value:function(o){return o.toUpperCase()}}])})(),Vt=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"le",value:function(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<=t._lo}},{key:"extractSignificantDigits",value:function(t,e){var s=this.abs(),l=o.magnitude(s._hi),d=o.TEN.pow(l);(s=s.divide(d)).gt(o.TEN)?(s=s.divide(o.TEN),l+=1):s.lt(o.ONE)&&(s=s.multiply(o.TEN),l-=1);for(var x=l+1,E=new hr,N=o.MAX_PRINT_DIGITS-1,M=0;M<=N;M++){t&&M===x&&E.append(".");var tt=Math.trunc(s._hi);if(tt<0)break;var ot=!1,mt=0;tt>9?(ot=!0,mt="9"):mt="0"+tt,E.append(mt),s=s.subtract(o.valueOf(tt)).multiply(o.TEN),ot&&s.selfAdd(o.TEN);var Ot=!0,zt=o.magnitude(s._hi);if(zt<0&&Math.abs(zt)>=N-M&&(Ot=!1),!Ot)break}return e[0]=l,E.toString()}},{key:"sqr",value:function(){return this.multiply(this)}},{key:"doubleValue",value:function(){return this._hi+this._lo}},{key:"subtract",value:function(){if(arguments[0]instanceof o){var t=arguments[0];return this.add(t.negate())}if(typeof arguments[0]=="number"){var e=arguments[0];return this.add(-e)}}},{key:"equals",value:function(){if(arguments.length===1&&arguments[0]instanceof o){var t=arguments[0];return this._hi===t._hi&&this._lo===t._lo}}},{key:"isZero",value:function(){return this._hi===0&&this._lo===0}},{key:"selfSubtract",value:function(){if(arguments[0]instanceof o){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t._hi,-t._lo)}if(typeof arguments[0]=="number"){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}}},{key:"getSpecialNumberString",value:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null}},{key:"min",value:function(t){return this.le(t)?this:t}},{key:"selfDivide",value:function(){if(arguments.length===1){if(arguments[0]instanceof o){var t=arguments[0];return this.selfDivide(t._hi,t._lo)}if(typeof arguments[0]=="number"){var e=arguments[0];return this.selfDivide(e,0)}}else if(arguments.length===2){var s,l,d,x,E=arguments[0],N=arguments[1],M=null,tt=null,ot=null,mt=null;return d=this._hi/E,mt=(M=(ot=o.SPLIT*d)-(M=ot-d))*(tt=(mt=o.SPLIT*E)-(tt=mt-E))-(x=d*E)+M*(l=E-tt)+(s=d-M)*tt+s*l,mt=d+(ot=(this._hi-x-mt+this._lo-d*N)/E),this._hi=mt,this._lo=d-mt+ot,this}}},{key:"dump",value:function(){return"DD<"+this._hi+", "+this._lo+">"}},{key:"divide",value:function(){if(arguments[0]instanceof o){var t,e,s,l,d=arguments[0],x=null,E=null,N=null,M=null;return t=(s=this._hi/d._hi)-(x=(N=o.SPLIT*s)-(x=N-s)),M=x*(E=(M=o.SPLIT*d._hi)-(E=M-d._hi))-(l=s*d._hi)+x*(e=d._hi-E)+t*E+t*e,new o(M=s+(N=(this._hi-l-M+this._lo-s*d._lo)/d._hi),s-M+N)}if(typeof arguments[0]=="number"){var tt=arguments[0];return H.isNaN(tt)?o.createNaN():o.copy(this).selfDivide(tt,0)}}},{key:"ge",value:function(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>=t._lo}},{key:"pow",value:function(t){if(t===0)return o.valueOf(1);var e=new o(this),s=o.valueOf(1),l=Math.abs(t);if(l>1)for(;l>0;)l%2==1&&s.selfMultiply(e),(l/=2)>0&&(e=e.sqr());else s=e;return t<0?s.reciprocal():s}},{key:"ceil",value:function(){if(this.isNaN())return o.NaN;var t=Math.ceil(this._hi),e=0;return t===this._hi&&(e=Math.ceil(this._lo)),new o(t,e)}},{key:"compareTo",value:function(t){var e=t;return this._hi<e._hi?-1:this._hi>e._hi?1:this._lo<e._lo?-1:this._lo>e._lo?1:0}},{key:"rint",value:function(){return this.isNaN()?this:this.add(.5).floor()}},{key:"setValue",value:function(){if(arguments[0]instanceof o){var t=arguments[0];return this.init(t),this}if(typeof arguments[0]=="number"){var e=arguments[0];return this.init(e),this}}},{key:"max",value:function(t){return this.ge(t)?this:t}},{key:"sqrt",value:function(){if(this.isZero())return o.valueOf(0);if(this.isNegative())return o.NaN;var t=1/Math.sqrt(this._hi),e=this._hi*t,s=o.valueOf(e),l=this.subtract(s.sqr())._hi*(.5*t);return s.add(l)}},{key:"selfAdd",value:function(){if(arguments.length===1){if(arguments[0]instanceof o){var t=arguments[0];return this.selfAdd(t._hi,t._lo)}if(typeof arguments[0]=="number"){var e,s,l,d,x,E=arguments[0],N=null;return N=(l=this._hi+E)-(d=l-this._hi),s=(x=(N=E-d+(this._hi-N))+this._lo)+(l-(e=l+x)),this._hi=e+s,this._lo=s+(e-this._hi),this}}else if(arguments.length===2){var M,tt,ot,mt,Ot=arguments[0],zt=arguments[1],qt=null,ce=null,se=null;ot=this._hi+Ot,tt=this._lo+zt,ce=ot-(se=ot-this._hi),qt=tt-(mt=tt-this._lo);var pe=(M=ot+(se=(ce=Ot-se+(this._hi-ce))+tt))+(se=(qt=zt-mt+(this._lo-qt))+(se+(ot-M))),Ne=se+(M-pe);return this._hi=pe,this._lo=Ne,this}}},{key:"selfMultiply",value:function(){if(arguments.length===1){if(arguments[0]instanceof o){var t=arguments[0];return this.selfMultiply(t._hi,t._lo)}if(typeof arguments[0]=="number"){var e=arguments[0];return this.selfMultiply(e,0)}}else if(arguments.length===2){var s,l,d=arguments[0],x=arguments[1],E=null,N=null,M=null,tt=null;E=(M=o.SPLIT*this._hi)-this._hi,tt=o.SPLIT*d,E=M-E,s=this._hi-E,N=tt-d;var ot=(M=this._hi*d)+(tt=E*(N=tt-N)-M+E*(l=d-N)+s*N+s*l+(this._hi*x+this._lo*d)),mt=tt+(E=M-ot);return this._hi=ot,this._lo=mt,this}}},{key:"selfSqr",value:function(){return this.selfMultiply(this)}},{key:"floor",value:function(){if(this.isNaN())return o.NaN;var t=Math.floor(this._hi),e=0;return t===this._hi&&(e=Math.floor(this._lo)),new o(t,e)}},{key:"negate",value:function(){return this.isNaN()?this:new o(-this._hi,-this._lo)}},{key:"clone",value:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return null;throw t}}},{key:"multiply",value:function(){if(arguments[0]instanceof o){var t=arguments[0];return t.isNaN()?o.createNaN():o.copy(this).selfMultiply(t)}if(typeof arguments[0]=="number"){var e=arguments[0];return H.isNaN(e)?o.createNaN():o.copy(this).selfMultiply(e,0)}}},{key:"isNaN",value:function(){return H.isNaN(this._hi)}},{key:"intValue",value:function(){return Math.trunc(this._hi)}},{key:"toString",value:function(){var t=o.magnitude(this._hi);return t>=-3&&t<=20?this.toStandardNotation():this.toSciNotation()}},{key:"toStandardNotation",value:function(){var t=this.getSpecialNumberString();if(t!==null)return t;var e=new Array(1).fill(null),s=this.extractSignificantDigits(!0,e),l=e[0]+1,d=s;if(s.charAt(0)===".")d="0"+s;else if(l<0)d="0."+o.stringOfChar("0",-l)+s;else if(s.indexOf(".")===-1){var x=l-s.length;d=s+o.stringOfChar("0",x)+".0"}return this.isNegative()?"-"+d:d}},{key:"reciprocal",value:function(){var t,e,s,l,d=null,x=null,E=null,N=null;t=(s=1/this._hi)-(d=(E=o.SPLIT*s)-(d=E-s)),x=(N=o.SPLIT*this._hi)-this._hi;var M=s+(E=(1-(l=s*this._hi)-(N=d*(x=N-x)-l+d*(e=this._hi-x)+t*x+t*e)-s*this._lo)/this._hi);return new o(M,s-M+E)}},{key:"toSciNotation",value:function(){if(this.isZero())return o.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(t!==null)return t;var e=new Array(1).fill(null),s=this.extractSignificantDigits(!1,e),l=o.SCI_NOT_EXPONENT_CHAR+e[0];if(s.charAt(0)==="0")throw new IllegalStateException("Found leading zero: "+s);var d="";s.length>1&&(d=s.substring(1));var x=s.charAt(0)+"."+d;return this.isNegative()?"-"+x+l:x+l}},{key:"abs",value:function(){return this.isNaN()?o.NaN:this.isNegative()?this.negate():new o(this)}},{key:"isPositive",value:function(){return this._hi>0||this._hi===0&&this._lo>0}},{key:"lt",value:function(t){return this._hi<t._hi||this._hi===t._hi&&this._lo<t._lo}},{key:"add",value:function(){if(arguments[0]instanceof o){var t=arguments[0];return o.copy(this).selfAdd(t)}if(typeof arguments[0]=="number"){var e=arguments[0];return o.copy(this).selfAdd(e)}}},{key:"init",value:function(){if(arguments.length===1){if(typeof arguments[0]=="number"){var t=arguments[0];this._hi=t,this._lo=0}else if(arguments[0]instanceof o){var e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this._hi=s,this._lo=l}}},{key:"gt",value:function(t){return this._hi>t._hi||this._hi===t._hi&&this._lo>t._lo}},{key:"isNegative",value:function(){return this._hi<0||this._hi===0&&this._lo<0}},{key:"trunc",value:function(){return this.isNaN()?o.NaN:this.isPositive()?this.floor():this.ceil()}},{key:"signum",value:function(){return this._hi>0?1:this._hi<0?-1:this._lo>0?1:this._lo<0?-1:0}},{key:"interfaces_",get:function(){return[O,Rt,P]}}],[{key:"constructor_",value:function(){if(this._hi=0,this._lo=0,arguments.length===0)this.init(0);else if(arguments.length===1){if(typeof arguments[0]=="number"){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof o){var e=arguments[0];this.init(e)}else if(typeof arguments[0]=="string"){var s=arguments[0];o.constructor_.call(this,o.parse(s))}}else if(arguments.length===2){var l=arguments[0],d=arguments[1];this.init(l,d)}}},{key:"determinant",value:function(){if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],e=arguments[1],s=arguments[2],l=arguments[3];return o.determinant(o.valueOf(t),o.valueOf(e),o.valueOf(s),o.valueOf(l))}if(arguments[3]instanceof o&&arguments[2]instanceof o&&arguments[0]instanceof o&&arguments[1]instanceof o){var d=arguments[1],x=arguments[2],E=arguments[3];return arguments[0].multiply(E).selfSubtract(d.multiply(x))}}},{key:"sqr",value:function(t){return o.valueOf(t).selfMultiply(t)}},{key:"valueOf",value:function(){if(typeof arguments[0]=="string"){var t=arguments[0];return o.parse(t)}if(typeof arguments[0]=="number")return new o(arguments[0])}},{key:"sqrt",value:function(t){return o.valueOf(t).sqrt()}},{key:"parse",value:function(t){for(var e=0,s=t.length;cr.isWhitespace(t.charAt(e));)e++;var l=!1;if(e<s){var d=t.charAt(e);d!=="-"&&d!=="+"||(e++,d==="-"&&(l=!0))}for(var x=new o,E=0,N=0,M=0,tt=!1;!(e>=s);){var ot=t.charAt(e);if(e++,cr.isDigit(ot)){var mt=ot-"0";x.selfMultiply(o.TEN),x.selfAdd(mt),E++}else{if(ot!=="."){if(ot==="e"||ot==="E"){var Ot=t.substring(e);try{M=Wi.parseInt(Ot)}catch(pe){throw pe instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+Ot+" in string "+t):pe}break}throw new NumberFormatException("Unexpected character '"+ot+"' at position "+e+" in string "+t)}N=E,tt=!0}}var zt=x;tt||(N=E);var qt=E-N-M;if(qt===0)zt=x;else if(qt>0){var ce=o.TEN.pow(qt);zt=x.divide(ce)}else if(qt<0){var se=o.TEN.pow(-qt);zt=x.multiply(se)}return l?zt.negate():zt}},{key:"createNaN",value:function(){return new o(H.NaN,H.NaN)}},{key:"copy",value:function(t){return new o(t)}},{key:"magnitude",value:function(t){var e=Math.abs(t),s=Math.log(e)/Math.log(10),l=Math.trunc(Math.floor(s));return 10*Math.pow(10,l)<=e&&(l+=1),l}},{key:"stringOfChar",value:function(t,e){for(var s=new hr,l=0;l<e;l++)s.append(t);return s.toString()}}])})();Vt.PI=new Vt(3.141592653589793,12246467991473532e-32),Vt.TWO_PI=new Vt(6.283185307179586,24492935982947064e-32),Vt.PI_2=new Vt(1.5707963267948966,6123233995736766e-32),Vt.E=new Vt(2.718281828459045,14456468917292502e-32),Vt.NaN=new Vt(H.NaN,H.NaN),Vt.EPS=123259516440783e-46,Vt.SPLIT=134217729,Vt.MAX_PRINT_DIGITS=32,Vt.TEN=Vt.valueOf(10),Vt.ONE=Vt.valueOf(1),Vt.SCI_NOT_EXPONENT_CHAR="E",Vt.SCI_NOT_ZERO="0.0E0";var gs=(function(){function o(){p(this,o)}return S(o,null,[{key:"orientationIndex",value:function(t,e,s){var l=o.orientationIndexFilter(t,e,s);if(l<=1)return l;var d=Vt.valueOf(e.x).selfAdd(-t.x),x=Vt.valueOf(e.y).selfAdd(-t.y),E=Vt.valueOf(s.x).selfAdd(-e.x),N=Vt.valueOf(s.y).selfAdd(-e.y);return d.selfMultiply(N).selfSubtract(x.selfMultiply(E)).signum()}},{key:"signOfDet2x2",value:function(){if(arguments[3]instanceof Vt&&arguments[2]instanceof Vt&&arguments[0]instanceof Vt&&arguments[1]instanceof Vt){var t=arguments[1],e=arguments[2],s=arguments[3];return arguments[0].multiply(s).selfSubtract(t.multiply(e)).signum()}if(typeof arguments[3]=="number"&&typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var l=arguments[0],d=arguments[1],x=arguments[2],E=arguments[3],N=Vt.valueOf(l),M=Vt.valueOf(d),tt=Vt.valueOf(x),ot=Vt.valueOf(E);return N.multiply(ot).selfSubtract(M.multiply(tt)).signum()}}},{key:"intersection",value:function(t,e,s,l){var d=new Vt(t.y).selfSubtract(e.y),x=new Vt(e.x).selfSubtract(t.x),E=new Vt(t.x).selfMultiply(e.y).selfSubtract(new Vt(e.x).selfMultiply(t.y)),N=new Vt(s.y).selfSubtract(l.y),M=new Vt(l.x).selfSubtract(s.x),tt=new Vt(s.x).selfMultiply(l.y).selfSubtract(new Vt(l.x).selfMultiply(s.y)),ot=x.multiply(tt).selfSubtract(M.multiply(E)),mt=N.multiply(E).selfSubtract(d.multiply(tt)),Ot=d.multiply(M).selfSubtract(N.multiply(x)),zt=ot.selfDivide(Ot).doubleValue(),qt=mt.selfDivide(Ot).doubleValue();return H.isNaN(zt)||H.isInfinite(zt)||H.isNaN(qt)||H.isInfinite(qt)?null:new Q(zt,qt)}},{key:"orientationIndexFilter",value:function(t,e,s){var l=null,d=(t.x-s.x)*(e.y-s.y),x=(t.y-s.y)*(e.x-s.x),E=d-x;if(d>0){if(x<=0)return o.signum(E);l=d+x}else{if(!(d<0)||x>=0)return o.signum(E);l=-d-x}var N=o.DP_SAFE_EPSILON*l;return E>=N||-E>=N?o.signum(E):2}},{key:"signum",value:function(t){return t>0?1:t<0?-1:0}}])})();gs.DP_SAFE_EPSILON=1e-15;var oe=(function(){return S((function o(){p(this,o)}),[{key:"getM",value:function(o){if(this.hasM()){var t=this.getDimension()-this.getMeasures();return this.getOrdinate(o,t)}return H.NaN}},{key:"setOrdinate",value:function(o,t,e){}},{key:"getZ",value:function(o){return this.hasZ()?this.getOrdinate(o,2):H.NaN}},{key:"size",value:function(){}},{key:"getOrdinate",value:function(o,t){}},{key:"getCoordinate",value:function(){}},{key:"getCoordinateCopy",value:function(o){}},{key:"createCoordinate",value:function(){}},{key:"getDimension",value:function(){}},{key:"hasM",value:function(){return this.getMeasures()>0}},{key:"getX",value:function(o){}},{key:"hasZ",value:function(){return this.getDimension()-this.getMeasures()>2}},{key:"getMeasures",value:function(){return 0}},{key:"expandEnvelope",value:function(o){}},{key:"copy",value:function(){}},{key:"getY",value:function(o){}},{key:"toCoordinateArray",value:function(){}},{key:"interfaces_",get:function(){return[P]}}])})();oe.X=0,oe.Y=1,oe.Z=2,oe.M=3;var Wt=(function(){function o(){p(this,o)}return S(o,null,[{key:"index",value:function(t,e,s){return gs.orientationIndex(t,e,s)}},{key:"isCCW",value:function(){if(arguments[0]instanceof Array){var t=arguments[0],e=t.length-1;if(e<3)throw new Ct("Ring has fewer than 4 points, so orientation cannot be determined");for(var s=t[0],l=0,d=1;d<=e;d++){var x=t[d];x.y>s.y&&(s=x,l=d)}var E=l;do(E-=1)<0&&(E=e);while(t[E].equals2D(s)&&E!==l);var N=l;do N=(N+1)%e;while(t[N].equals2D(s)&&N!==l);var M=t[E],tt=t[N];if(M.equals2D(s)||tt.equals2D(s)||M.equals2D(tt))return!1;var ot=o.index(M,s,tt);return ot===0?M.x>tt.x:ot>0}if(ne(arguments[0],oe)){var mt=arguments[0],Ot=mt.size()-1;if(Ot<3)throw new Ct("Ring has fewer than 4 points, so orientation cannot be determined");for(var zt=mt.getCoordinate(0),qt=0,ce=1;ce<=Ot;ce++){var se=mt.getCoordinate(ce);se.y>zt.y&&(zt=se,qt=ce)}var pe=null,Ne=qt;do(Ne-=1)<0&&(Ne=Ot),pe=mt.getCoordinate(Ne);while(pe.equals2D(zt)&&Ne!==qt);var $e=null,Vn=qt;do Vn=(Vn+1)%Ot,$e=mt.getCoordinate(Vn);while($e.equals2D(zt)&&Vn!==qt);if(pe.equals2D(zt)||$e.equals2D(zt)||pe.equals2D($e))return!1;var Tr=o.index(pe,zt,$e);return Tr===0?pe.x>$e.x:Tr>0}}}])})();Wt.CLOCKWISE=-1,Wt.RIGHT=Wt.CLOCKWISE,Wt.COUNTERCLOCKWISE=1,Wt.LEFT=Wt.COUNTERCLOCKWISE,Wt.COLLINEAR=0,Wt.STRAIGHT=Wt.COLLINEAR;var da=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this._minCoord}},{key:"getRightmostSide",value:function(o,t){var e=this.getRightmostSideOfSegment(o,t);return e<0&&(e=this.getRightmostSideOfSegment(o,t-1)),e<0&&(this._minCoord=null,this.checkForRightmostCoordinate(o)),e}},{key:"findRightmostEdgeAtVertex",value:function(){var o=this._minDe.getEdge().getCoordinates();gt.isTrue(this._minIndex>0&&this._minIndex<o.length,"rightmost point expected to be interior vertex of edge");var t=o[this._minIndex-1],e=o[this._minIndex+1],s=Wt.index(this._minCoord,e,t),l=!1;(t.y<this._minCoord.y&&e.y<this._minCoord.y&&s===Wt.COUNTERCLOCKWISE||t.y>this._minCoord.y&&e.y>this._minCoord.y&&s===Wt.CLOCKWISE)&&(l=!0),l&&(this._minIndex=this._minIndex-1)}},{key:"getRightmostSideOfSegment",value:function(o,t){var e=o.getEdge().getCoordinates();if(t<0||t+1>=e.length||e[t].y===e[t+1].y)return-1;var s=Lt.LEFT;return e[t].y<e[t+1].y&&(s=Lt.RIGHT),s}},{key:"getEdge",value:function(){return this._orientedDe}},{key:"checkForRightmostCoordinate",value:function(o){for(var t=o.getEdge().getCoordinates(),e=0;e<t.length-1;e++)(this._minCoord===null||t[e].x>this._minCoord.x)&&(this._minDe=o,this._minIndex=e,this._minCoord=t[e])}},{key:"findRightmostEdgeAtNode",value:function(){var o=this._minDe.getNode().getEdges();this._minDe=o.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}},{key:"findEdge",value:function(o){for(var t=o.iterator();t.hasNext();){var e=t.next();e.isForward()&&this.checkForRightmostCoordinate(e)}gt.isTrue(this._minIndex!==0||this._minCoord.equals(this._minDe.getCoordinate()),"inconsistency in rightmost processing"),this._minIndex===0?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe,this.getRightmostSide(this._minDe,this._minIndex)===Lt.LEFT&&(this._orientedDe=this._minDe.getSym())}}],[{key:"constructor_",value:function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}}])})(),bn=(function(o){function t(e,s){var l;return p(this,t),(l=y(this,t,[s?e+" [ "+s+" ]":e])).pt=s?new Q(s):void 0,l.name=Object.keys({TopologyException:t})[0],l}return D(t,o),S(t,[{key:"getCoordinate",value:function(){return this.pt}}])})(st),ms=(function(){return S((function o(){p(this,o),this.array=[]}),[{key:"addLast",value:function(o){this.array.push(o)}},{key:"removeFirst",value:function(){return this.array.shift()}},{key:"isEmpty",value:function(){return this.array.length===0}}])})(),Xt=(function(o){function t(e){var s;return p(this,t),(s=y(this,t)).array=[],e instanceof ye&&s.addAll(e),s}return D(t,o),S(t,[{key:"interfaces_",get:function(){return[$n,ye]}},{key:"ensureCapacity",value:function(){}},{key:"add",value:function(e){return arguments.length===1?this.array.push(e):this.array.splice(arguments[0],0,arguments[1]),!0}},{key:"clear",value:function(){this.array=[]}},{key:"addAll",value:function(e){var s,l=b(e);try{for(l.s();!(s=l.n()).done;){var d=s.value;this.array.push(d)}}catch(x){l.e(x)}finally{l.f()}}},{key:"set",value:function(e,s){var l=this.array[e];return this.array[e]=s,l}},{key:"iterator",value:function(){return new no(this)}},{key:"get",value:function(e){if(e<0||e>=this.size())throw new fi;return this.array[e]}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"sort",value:function(e){e?this.array.sort((function(s,l){return e.compare(s,l)})):this.array.sort()}},{key:"size",value:function(){return this.array.length}},{key:"toArray",value:function(){return this.array.slice()}},{key:"remove",value:function(e){for(var s=0,l=this.array.length;s<l;s++)if(this.array[s]===e)return!!this.array.splice(s,1);return!1}},{key:Symbol.iterator,value:function(){return this.array.values()}}])})($n),no=(function(){return S((function o(t){p(this,o),this.arrayList=t,this.position=0}),[{key:"next",value:function(){if(this.position===this.arrayList.size())throw new Pe;return this.arrayList.get(this.position++)}},{key:"hasNext",value:function(){return this.position<this.arrayList.size()}},{key:"set",value:function(o){return this.arrayList.set(this.position-1,o)}},{key:"remove",value:function(){this.arrayList.remove(this.arrayList.get(this.position))}}])})(),Xi=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"clearVisitedEdges",value:function(){for(var o=this._dirEdgeList.iterator();o.hasNext();)o.next().setVisited(!1)}},{key:"getRightmostCoordinate",value:function(){return this._rightMostCoord}},{key:"computeNodeDepth",value:function(o){for(var t=null,e=o.getEdges().iterator();e.hasNext();){var s=e.next();if(s.isVisited()||s.getSym().isVisited()){t=s;break}}if(t===null)throw new bn("unable to find edge to compute depths at "+o.getCoordinate());o.getEdges().computeDepths(t);for(var l=o.getEdges().iterator();l.hasNext();){var d=l.next();d.setVisited(!0),this.copySymDepths(d)}}},{key:"computeDepth",value:function(o){this.clearVisitedEdges();var t=this._finder.getEdge();t.getNode(),t.getLabel(),t.setEdgeDepths(Lt.RIGHT,o),this.copySymDepths(t),this.computeDepths(t)}},{key:"create",value:function(o){this.addReachable(o),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}},{key:"findResultEdges",value:function(){for(var o=this._dirEdgeList.iterator();o.hasNext();){var t=o.next();t.getDepth(Lt.RIGHT)>=1&&t.getDepth(Lt.LEFT)<=0&&!t.isInteriorAreaEdge()&&t.setInResult(!0)}}},{key:"computeDepths",value:function(o){var t=new Hi,e=new ms,s=o.getNode();for(e.addLast(s),t.add(s),o.setVisited(!0);!e.isEmpty();){var l=e.removeFirst();t.add(l),this.computeNodeDepth(l);for(var d=l.getEdges().iterator();d.hasNext();){var x=d.next().getSym();if(!x.isVisited()){var E=x.getNode();t.contains(E)||(e.addLast(E),t.add(E))}}}}},{key:"compareTo",value:function(o){var t=o;return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0}},{key:"getEnvelope",value:function(){if(this._env===null){for(var o=new ee,t=this._dirEdgeList.iterator();t.hasNext();)for(var e=t.next().getEdge().getCoordinates(),s=0;s<e.length-1;s++)o.expandToInclude(e[s]);this._env=o}return this._env}},{key:"addReachable",value:function(o){var t=new eo;for(t.add(o);!t.empty();){var e=t.pop();this.add(e,t)}}},{key:"copySymDepths",value:function(o){var t=o.getSym();t.setDepth(Lt.LEFT,o.getDepth(Lt.RIGHT)),t.setDepth(Lt.RIGHT,o.getDepth(Lt.LEFT))}},{key:"add",value:function(o,t){o.setVisited(!0),this._nodes.add(o);for(var e=o.getEdges().iterator();e.hasNext();){var s=e.next();this._dirEdgeList.add(s);var l=s.getSym().getNode();l.isVisited()||t.push(l)}}},{key:"getNodes",value:function(){return this._nodes}},{key:"getDirectedEdges",value:function(){return this._dirEdgeList}},{key:"interfaces_",get:function(){return[Rt]}}],[{key:"constructor_",value:function(){this._finder=null,this._dirEdgeList=new Xt,this._nodes=new Xt,this._rightMostCoord=null,this._env=null,this._finder=new da}}])})(),Br=(function(){return S((function o(){p(this,o)}),null,[{key:"intersection",value:function(o,t,e,s){var l=o.x<t.x?o.x:t.x,d=o.y<t.y?o.y:t.y,x=o.x>t.x?o.x:t.x,E=o.y>t.y?o.y:t.y,N=e.x<s.x?e.x:s.x,M=e.y<s.y?e.y:s.y,tt=e.x>s.x?e.x:s.x,ot=e.y>s.y?e.y:s.y,mt=((l>N?l:N)+(x<tt?x:tt))/2,Ot=((d>M?d:M)+(E<ot?E:ot))/2,zt=o.x-mt,qt=o.y-Ot,ce=t.x-mt,se=t.y-Ot,pe=e.x-mt,Ne=e.y-Ot,$e=s.x-mt,Vn=s.y-Ot,Tr=qt-se,Wn=ce-zt,Rs=zt*se-ce*qt,Ms=Ne-Vn,ir=$e-pe,Eo=pe*Vn-$e*Ne,On=Tr*ir-Ms*Wn,xi=(Wn*Eo-ir*Rs)/On,Cr=(Ms*Rs-Tr*Eo)/On;return H.isNaN(xi)||H.isInfinite(xi)||H.isNaN(Cr)||H.isInfinite(Cr)?null:new Q(xi+mt,Cr+Ot)}}])})(),fn=(function(){return S((function o(){p(this,o)}),null,[{key:"arraycopy",value:function(o,t,e,s,l){for(var d=0,x=t;x<t+l;x++)e[s+d]=o[x],d++}},{key:"getProperty",value:function(o){return{"line.separator":`
`}[o]}}])})(),Si=(function(){function o(){p(this,o)}return S(o,null,[{key:"log10",value:function(t){var e=Math.log(t);return H.isInfinite(e)||H.isNaN(e)?e:e/o.LOG_10}},{key:"min",value:function(t,e,s,l){var d=t;return e<d&&(d=e),s<d&&(d=s),l<d&&(d=l),d}},{key:"clamp",value:function(){if(typeof arguments[2]=="number"&&typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],e=arguments[1],s=arguments[2];return t<e?e:t>s?s:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var l=arguments[0],d=arguments[1],x=arguments[2];return l<d?d:l>x?x:l}}},{key:"wrap",value:function(t,e){return t<0?e- -t%e:t%e}},{key:"max",value:function(){if(arguments.length===3){var t=arguments[1],e=arguments[2],s=arguments[0];return t>s&&(s=t),e>s&&(s=e),s}if(arguments.length===4){var l=arguments[1],d=arguments[2],x=arguments[3],E=arguments[0];return l>E&&(E=l),d>E&&(E=d),x>E&&(E=x),E}}},{key:"average",value:function(t,e){return(t+e)/2}}])})();Si.LOG_10=Math.log(10);var en=(function(){function o(){p(this,o)}return S(o,null,[{key:"segmentToSegment",value:function(t,e,s,l){if(t.equals(e))return o.pointToSegment(t,s,l);if(s.equals(l))return o.pointToSegment(l,t,e);var d=!1;if(ee.intersects(t,e,s,l)){var x=(e.x-t.x)*(l.y-s.y)-(e.y-t.y)*(l.x-s.x);if(x===0)d=!0;else{var E=(t.y-s.y)*(l.x-s.x)-(t.x-s.x)*(l.y-s.y),N=((t.y-s.y)*(e.x-t.x)-(t.x-s.x)*(e.y-t.y))/x,M=E/x;(M<0||M>1||N<0||N>1)&&(d=!0)}}else d=!0;return d?Si.min(o.pointToSegment(t,s,l),o.pointToSegment(e,s,l),o.pointToSegment(s,t,e),o.pointToSegment(l,t,e)):0}},{key:"pointToSegment",value:function(t,e,s){if(e.x===s.x&&e.y===s.y)return t.distance(e);var l=(s.x-e.x)*(s.x-e.x)+(s.y-e.y)*(s.y-e.y),d=((t.x-e.x)*(s.x-e.x)+(t.y-e.y)*(s.y-e.y))/l;if(d<=0)return t.distance(e);if(d>=1)return t.distance(s);var x=((e.y-t.y)*(s.x-e.x)-(e.x-t.x)*(s.y-e.y))/l;return Math.abs(x)*Math.sqrt(l)}},{key:"pointToLinePerpendicular",value:function(t,e,s){var l=(s.x-e.x)*(s.x-e.x)+(s.y-e.y)*(s.y-e.y),d=((e.y-t.y)*(s.x-e.x)-(e.x-t.x)*(s.y-e.y))/l;return Math.abs(d)*Math.sqrt(l)}},{key:"pointToSegmentString",value:function(t,e){if(e.length===0)throw new Ct("Line array must contain at least one vertex");for(var s=t.distance(e[0]),l=0;l<e.length-1;l++){var d=o.pointToSegment(t,e[l],e[l+1]);d<s&&(s=d)}return s}}])})(),Li=(function(){return S((function o(){p(this,o)}),[{key:"create",value:function(){if(arguments.length===1)arguments[0]instanceof Array||ne(arguments[0],oe);else if(arguments.length!==2){if(arguments.length===3){var o=arguments[0],t=arguments[1];return this.create(o,t)}}}}])})(),Gr=(function(){return S((function o(){p(this,o)}),[{key:"filter",value:function(o){}}])})(),Fo=(function(){return S((function o(){p(this,o)}),null,[{key:"ofLine",value:function(o){var t=o.size();if(t<=1)return 0;var e=0,s=new Q;o.getCoordinate(0,s);for(var l=s.x,d=s.y,x=1;x<t;x++){o.getCoordinate(x,s);var E=s.x,N=s.y,M=E-l,tt=N-d;e+=Math.sqrt(M*M+tt*tt),l=E,d=N}return e}}])})(),io=S((function o(){p(this,o)})),Ii=(function(){function o(){p(this,o)}return S(o,null,[{key:"copyCoord",value:function(t,e,s,l){for(var d=Math.min(t.getDimension(),s.getDimension()),x=0;x<d;x++)s.setOrdinate(l,x,t.getOrdinate(e,x))}},{key:"isRing",value:function(t){var e=t.size();return e===0||!(e<=3)&&t.getOrdinate(0,oe.X)===t.getOrdinate(e-1,oe.X)&&t.getOrdinate(0,oe.Y)===t.getOrdinate(e-1,oe.Y)}},{key:"scroll",value:function(){if(arguments.length===2){if(ne(arguments[0],oe)&&Number.isInteger(arguments[1])){var t=arguments[0],e=arguments[1];o.scroll(t,e,o.isRing(t))}else if(ne(arguments[0],oe)&&arguments[1]instanceof Q){var s=arguments[0],l=arguments[1],d=o.indexOf(l,s);if(d<=0)return null;o.scroll(s,d)}}else if(arguments.length===3){var x=arguments[0],E=arguments[1],N=arguments[2];if(E<=0)return null;for(var M=x.copy(),tt=N?x.size()-1:x.size(),ot=0;ot<tt;ot++)for(var mt=0;mt<x.getDimension();mt++)x.setOrdinate(ot,mt,M.getOrdinate((E+ot)%tt,mt));if(N)for(var Ot=0;Ot<x.getDimension();Ot++)x.setOrdinate(tt,Ot,x.getOrdinate(0,Ot))}}},{key:"isEqual",value:function(t,e){var s=t.size();if(s!==e.size())return!1;for(var l=Math.min(t.getDimension(),e.getDimension()),d=0;d<s;d++)for(var x=0;x<l;x++){var E=t.getOrdinate(d,x),N=e.getOrdinate(d,x);if(t.getOrdinate(d,x)!==e.getOrdinate(d,x)&&(!H.isNaN(E)||!H.isNaN(N)))return!1}return!0}},{key:"minCoordinateIndex",value:function(){if(arguments.length===1){var t=arguments[0];return o.minCoordinateIndex(t,0,t.size()-1)}if(arguments.length===3){for(var e=arguments[0],s=arguments[2],l=-1,d=null,x=arguments[1];x<=s;x++){var E=e.getCoordinate(x);(d===null||d.compareTo(E)>0)&&(d=E,l=x)}return l}}},{key:"extend",value:function(t,e,s){var l=t.create(s,e.getDimension()),d=e.size();if(o.copy(e,0,l,0,d),d>0)for(var x=d;x<s;x++)o.copy(e,d-1,l,x,1);return l}},{key:"reverse",value:function(t){for(var e=t.size()-1,s=Math.trunc(e/2),l=0;l<=s;l++)o.swap(t,l,e-l)}},{key:"swap",value:function(t,e,s){if(e===s)return null;for(var l=0;l<t.getDimension();l++){var d=t.getOrdinate(e,l);t.setOrdinate(e,l,t.getOrdinate(s,l)),t.setOrdinate(s,l,d)}}},{key:"copy",value:function(t,e,s,l,d){for(var x=0;x<d;x++)o.copyCoord(t,e+x,s,l+x)}},{key:"ensureValidRing",value:function(t,e){var s=e.size();return s===0?e:s<=3?o.createClosedRing(t,e,4):e.getOrdinate(0,oe.X)===e.getOrdinate(s-1,oe.X)&&e.getOrdinate(0,oe.Y)===e.getOrdinate(s-1,oe.Y)?e:o.createClosedRing(t,e,s+1)}},{key:"indexOf",value:function(t,e){for(var s=0;s<e.size();s++)if(t.x===e.getOrdinate(s,oe.X)&&t.y===e.getOrdinate(s,oe.Y))return s;return-1}},{key:"createClosedRing",value:function(t,e,s){var l=t.create(s,e.getDimension()),d=e.size();o.copy(e,0,l,0,d);for(var x=d;x<s;x++)o.copy(e,0,l,x,1);return l}},{key:"minCoordinate",value:function(t){for(var e=null,s=0;s<t.size();s++){var l=t.getCoordinate(s);(e===null||e.compareTo(l)>0)&&(e=l)}return e}}])})(),Pt=(function(){function o(){p(this,o)}return S(o,null,[{key:"toDimensionSymbol",value:function(t){switch(t){case o.FALSE:return o.SYM_FALSE;case o.TRUE:return o.SYM_TRUE;case o.DONTCARE:return o.SYM_DONTCARE;case o.P:return o.SYM_P;case o.L:return o.SYM_L;case o.A:return o.SYM_A}throw new Ct("Unknown dimension value: "+t)}},{key:"toDimensionValue",value:function(t){switch(cr.toUpperCase(t)){case o.SYM_FALSE:return o.FALSE;case o.SYM_TRUE:return o.TRUE;case o.SYM_DONTCARE:return o.DONTCARE;case o.SYM_P:return o.P;case o.SYM_L:return o.L;case o.SYM_A:return o.A}throw new Ct("Unknown dimension symbol: "+t)}}])})();Pt.P=0,Pt.L=1,Pt.A=2,Pt.FALSE=-1,Pt.TRUE=-2,Pt.DONTCARE=-3,Pt.SYM_FALSE="F",Pt.SYM_TRUE="T",Pt.SYM_DONTCARE="*",Pt.SYM_P="0",Pt.SYM_L="1",Pt.SYM_A="2";var fr=(function(){return S((function o(){p(this,o)}),[{key:"filter",value:function(o){}}])})(),ji=(function(){return S((function o(){p(this,o)}),[{key:"filter",value:function(o,t){}},{key:"isDone",value:function(){}},{key:"isGeometryChanged",value:function(){}}])})(),di=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"computeEnvelopeInternal",value:function(){return this.isEmpty()?new ee:this._points.expandEnvelope(new ee)}},{key:"isRing",value:function(){return this.isClosed()&&this.isSimple()}},{key:"getCoordinates",value:function(){return this._points.toCoordinateArray()}},{key:"copyInternal",value:function(){return new t(this._points.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof At){var e=arguments[0],s=arguments[1];if(!this.isEquivalentClass(e))return!1;var l=e;if(this._points.size()!==l._points.size())return!1;for(var d=0;d<this._points.size();d++)if(!this.equal(this._points.getCoordinate(d),l._points.getCoordinate(d),s))return!1;return!0}return rt(t,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var e=0;e<Math.trunc(this._points.size()/2);e++){var s=this._points.size()-1-e;if(!this._points.getCoordinate(e).equals(this._points.getCoordinate(s))){if(this._points.getCoordinate(e).compareTo(this._points.getCoordinate(s))>0){var l=this._points.copy();Ii.reverse(l),this._points=l}return null}}}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._points.getCoordinate(0)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Pt.FALSE:0}},{key:"isClosed",value:function(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}},{key:"reverseInternal",value:function(){var e=this._points.copy();return Ii.reverse(e),this.getFactory().createLineString(e)}},{key:"getEndPoint",value:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}},{key:"getTypeCode",value:function(){return At.TYPECODE_LINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getLength",value:function(){return Fo.ofLine(this._points)}},{key:"getNumPoints",value:function(){return this._points.size()}},{key:"compareToSameClass",value:function(){if(arguments.length===1){for(var e=arguments[0],s=0,l=0;s<this._points.size()&&l<e._points.size();){var d=this._points.getCoordinate(s).compareTo(e._points.getCoordinate(l));if(d!==0)return d;s++,l++}return s<this._points.size()?1:l<e._points.size()?-1:0}if(arguments.length===2){var x=arguments[0];return arguments[1].compare(this._points,x._points)}}},{key:"apply",value:function(){if(ne(arguments[0],Gr))for(var e=arguments[0],s=0;s<this._points.size();s++)e.filter(this._points.getCoordinate(s));else if(ne(arguments[0],ji)){var l=arguments[0];if(this._points.size()===0)return null;for(var d=0;d<this._points.size()&&(l.filter(this._points,d),!l.isDone());d++);l.isGeometryChanged()&&this.geometryChanged()}else ne(arguments[0],fr)?arguments[0].filter(this):ne(arguments[0],Nt)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){throw new ge}},{key:"isEquivalentClass",value:function(e){return e instanceof t}},{key:"getCoordinateN",value:function(e){return this._points.getCoordinate(e)}},{key:"getGeometryType",value:function(){return At.TYPENAME_LINESTRING}},{key:"getCoordinateSequence",value:function(){return this._points}},{key:"isEmpty",value:function(){return this._points.size()===0}},{key:"init",value:function(e){if(e===null&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),e.size()===1)throw new Ct("Invalid number of points in LineString (found "+e.size()+" - must be 0 or >= 2)");this._points=e}},{key:"isCoordinate",value:function(e){for(var s=0;s<this._points.size();s++)if(this._points.getCoordinate(s).equals(e))return!0;return!1}},{key:"getStartPoint",value:function(){return this.isEmpty()?null:this.getPointN(0)}},{key:"getPointN",value:function(e){return this.getFactory().createPoint(this._points.getCoordinate(e))}},{key:"interfaces_",get:function(){return[io]}}],[{key:"constructor_",value:function(){if(this._points=null,arguments.length!==0){if(arguments.length===2){var e=arguments[0],s=arguments[1];At.constructor_.call(this,s),this.init(e)}}}}])})(At),ps=S((function o(){p(this,o)})),Ki=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"computeEnvelopeInternal",value:function(){if(this.isEmpty())return new ee;var e=new ee;return e.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),e}},{key:"getCoordinates",value:function(){return this.isEmpty()?[]:[this.getCoordinate()]}},{key:"copyInternal",value:function(){return new t(this._coordinates.copy(),this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof At){var e=arguments[0],s=arguments[1];return!!this.isEquivalentClass(e)&&(!(!this.isEmpty()||!e.isEmpty())||this.isEmpty()===e.isEmpty()&&this.equal(e.getCoordinate(),this.getCoordinate(),s))}return rt(t,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){}},{key:"getCoordinate",value:function(){return this._coordinates.size()!==0?this._coordinates.getCoordinate(0):null}},{key:"getBoundaryDimension",value:function(){return Pt.FALSE}},{key:"reverseInternal",value:function(){return this.getFactory().createPoint(this._coordinates.copy())}},{key:"getTypeCode",value:function(){return At.TYPECODE_POINT}},{key:"getDimension",value:function(){return 0}},{key:"getNumPoints",value:function(){return this.isEmpty()?0:1}},{key:"getX",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var e=arguments[0];return this.getCoordinate().compareTo(e.getCoordinate())}if(arguments.length===2){var s=arguments[0];return arguments[1].compare(this._coordinates,s._coordinates)}}},{key:"apply",value:function(){if(ne(arguments[0],Gr)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.getCoordinate())}else if(ne(arguments[0],ji)){var s=arguments[0];if(this.isEmpty())return null;s.filter(this._coordinates,0),s.isGeometryChanged()&&this.geometryChanged()}else ne(arguments[0],fr)?arguments[0].filter(this):ne(arguments[0],Nt)&&arguments[0].filter(this)}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return At.TYPENAME_POINT}},{key:"getCoordinateSequence",value:function(){return this._coordinates}},{key:"getY",value:function(){if(this.getCoordinate()===null)throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y}},{key:"isEmpty",value:function(){return this._coordinates.size()===0}},{key:"init",value:function(e){e===null&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),gt.isTrue(e.size()<=1),this._coordinates=e}},{key:"isSimple",value:function(){return!0}},{key:"interfaces_",get:function(){return[ps]}}],[{key:"constructor_",value:function(){this._coordinates=null;var e=arguments[0],s=arguments[1];At.constructor_.call(this,s),this.init(e)}}])})(At),Bo=(function(){function o(){p(this,o)}return S(o,null,[{key:"ofRing",value:function(){if(arguments[0]instanceof Array){var t=arguments[0];return Math.abs(o.ofRingSigned(t))}if(ne(arguments[0],oe)){var e=arguments[0];return Math.abs(o.ofRingSigned(e))}}},{key:"ofRingSigned",value:function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,s=t[0].x,l=1;l<t.length-1;l++){var d=t[l].x-s,x=t[l+1].y;e+=d*(t[l-1].y-x)}return e/2}if(ne(arguments[0],oe)){var E=arguments[0],N=E.size();if(N<3)return 0;var M=new Q,tt=new Q,ot=new Q;E.getCoordinate(0,tt),E.getCoordinate(1,ot);var mt=tt.x;ot.x-=mt;for(var Ot=0,zt=1;zt<N-1;zt++)M.y=tt.y,tt.x=ot.x,tt.y=ot.y,E.getCoordinate(zt+1,ot),ot.x-=mt,Ot+=tt.x*(M.y-ot.y);return Ot/2}}}])})(),be=(function(){return S((function o(){p(this,o)}),null,[{key:"sort",value:function(){var o=arguments,t=arguments[0];if(arguments.length===1)t.sort((function(mt,Ot){return mt.compareTo(Ot)}));else if(arguments.length===2)t.sort((function(mt,Ot){return o[1].compare(mt,Ot)}));else if(arguments.length===3){var e=t.slice(arguments[1],arguments[2]);e.sort();var s=t.slice(0,arguments[1]).concat(e,t.slice(arguments[2],t.length));t.splice(0,t.length);var l,d=b(s);try{for(d.s();!(l=d.n()).done;){var x=l.value;t.push(x)}}catch(mt){d.e(mt)}finally{d.f()}}else if(arguments.length===4){var E=t.slice(arguments[1],arguments[2]);E.sort((function(mt,Ot){return o[3].compare(mt,Ot)}));var N=t.slice(0,arguments[1]).concat(E,t.slice(arguments[2],t.length));t.splice(0,t.length);var M,tt=b(N);try{for(tt.s();!(M=tt.n()).done;){var ot=M.value;t.push(ot)}}catch(mt){tt.e(mt)}finally{tt.f()}}}},{key:"asList",value:function(o){var t,e=new Xt,s=b(o);try{for(s.s();!(t=s.n()).done;){var l=t.value;e.add(l)}}catch(d){s.e(d)}finally{s.f()}return e}},{key:"copyOf",value:function(o,t){return o.slice(0,t)}}])})(),Gt=S((function o(){p(this,o)})),Ni=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"computeEnvelopeInternal",value:function(){return this._shell.getEnvelopeInternal()}},{key:"getCoordinates",value:function(){if(this.isEmpty())return[];for(var e=new Array(this.getNumPoints()).fill(null),s=-1,l=this._shell.getCoordinates(),d=0;d<l.length;d++)e[++s]=l[d];for(var x=0;x<this._holes.length;x++)for(var E=this._holes[x].getCoordinates(),N=0;N<E.length;N++)e[++s]=E[N];return e}},{key:"getArea",value:function(){var e=0;e+=Bo.ofRing(this._shell.getCoordinateSequence());for(var s=0;s<this._holes.length;s++)e-=Bo.ofRing(this._holes[s].getCoordinateSequence());return e}},{key:"copyInternal",value:function(){for(var e=this._shell.copy(),s=new Array(this._holes.length).fill(null),l=0;l<this._holes.length;l++)s[l]=this._holes[l].copy();return new t(e,s,this._factory)}},{key:"isRectangle",value:function(){if(this.getNumInteriorRing()!==0||this._shell===null||this._shell.getNumPoints()!==5)return!1;for(var e=this._shell.getCoordinateSequence(),s=this.getEnvelopeInternal(),l=0;l<5;l++){var d=e.getX(l);if(d!==s.getMinX()&&d!==s.getMaxX())return!1;var x=e.getY(l);if(x!==s.getMinY()&&x!==s.getMaxY())return!1}for(var E=e.getX(0),N=e.getY(0),M=1;M<=4;M++){var tt=e.getX(M),ot=e.getY(M);if(tt!==E==(ot!==N))return!1;E=tt,N=ot}return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof At){var e=arguments[0],s=arguments[1];if(!this.isEquivalentClass(e))return!1;var l=e,d=this._shell,x=l._shell;if(!d.equalsExact(x,s)||this._holes.length!==l._holes.length)return!1;for(var E=0;E<this._holes.length;E++)if(!this._holes[E].equalsExact(l._holes[E],s))return!1;return!0}return rt(t,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){if(arguments.length===0){this._shell=this.normalized(this._shell,!0);for(var e=0;e<this._holes.length;e++)this._holes[e]=this.normalized(this._holes[e],!1);be.sort(this._holes)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];if(s.isEmpty())return null;var d=s.getCoordinateSequence(),x=Ii.minCoordinateIndex(d,0,d.size()-2);Ii.scroll(d,x,!0),Wt.isCCW(d)===l&&Ii.reverse(d)}}},{key:"getCoordinate",value:function(){return this._shell.getCoordinate()}},{key:"getNumInteriorRing",value:function(){return this._holes.length}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"reverseInternal",value:function(){for(var e=this.getExteriorRing().reverse(),s=new Array(this.getNumInteriorRing()).fill(null),l=0;l<s.length;l++)s[l]=this.getInteriorRingN(l).reverse();return this.getFactory().createPolygon(e,s)}},{key:"getTypeCode",value:function(){return At.TYPECODE_POLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getLength",value:function(){var e=0;e+=this._shell.getLength();for(var s=0;s<this._holes.length;s++)e+=this._holes[s].getLength();return e}},{key:"getNumPoints",value:function(){for(var e=this._shell.getNumPoints(),s=0;s<this._holes.length;s++)e+=this._holes[s].getNumPoints();return e}},{key:"convexHull",value:function(){return this.getExteriorRing().convexHull()}},{key:"normalized",value:function(e,s){var l=e.copy();return this.normalize(l,s),l}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var e=arguments[0],s=this._shell,l=e._shell;return s.compareToSameClass(l)}if(arguments.length===2){var d=arguments[1],x=arguments[0],E=this._shell,N=x._shell,M=E.compareToSameClass(N,d);if(M!==0)return M;for(var tt=this.getNumInteriorRing(),ot=x.getNumInteriorRing(),mt=0;mt<tt&&mt<ot;){var Ot=this.getInteriorRingN(mt),zt=x.getInteriorRingN(mt),qt=Ot.compareToSameClass(zt,d);if(qt!==0)return qt;mt++}return mt<tt?1:mt<ot?-1:0}}},{key:"apply",value:function(){if(ne(arguments[0],Gr)){var e=arguments[0];this._shell.apply(e);for(var s=0;s<this._holes.length;s++)this._holes[s].apply(e)}else if(ne(arguments[0],ji)){var l=arguments[0];if(this._shell.apply(l),!l.isDone())for(var d=0;d<this._holes.length&&(this._holes[d].apply(l),!l.isDone());d++);l.isGeometryChanged()&&this.geometryChanged()}else if(ne(arguments[0],fr))arguments[0].filter(this);else if(ne(arguments[0],Nt)){var x=arguments[0];x.filter(this),this._shell.apply(x);for(var E=0;E<this._holes.length;E++)this._holes[E].apply(x)}}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var e=new Array(this._holes.length+1).fill(null);e[0]=this._shell;for(var s=0;s<this._holes.length;s++)e[s+1]=this._holes[s];return e.length<=1?this.getFactory().createLinearRing(e[0].getCoordinateSequence()):this.getFactory().createMultiLineString(e)}},{key:"getGeometryType",value:function(){return At.TYPENAME_POLYGON}},{key:"getExteriorRing",value:function(){return this._shell}},{key:"isEmpty",value:function(){return this._shell.isEmpty()}},{key:"getInteriorRingN",value:function(e){return this._holes[e]}},{key:"interfaces_",get:function(){return[Gt]}}],[{key:"constructor_",value:function(){this._shell=null,this._holes=null;var e=arguments[0],s=arguments[1],l=arguments[2];if(At.constructor_.call(this,l),e===null&&(e=this.getFactory().createLinearRing()),s===null&&(s=[]),At.hasNullElements(s))throw new Ct("holes must not contain null elements");if(e.isEmpty()&&At.hasNonEmptyElements(s))throw new Ct("shell is empty but holes are not");this._shell=e,this._holes=s}}])})(At),vs=(function(o){function t(){return p(this,t),y(this,t,arguments)}return D(t,o),S(t)})(ds),ro=(function(o){function t(e){var s;return p(this,t),(s=y(this,t)).array=[],e instanceof ye&&s.addAll(e),s}return D(t,o),S(t,[{key:"contains",value:function(e){var s,l=b(this.array);try{for(l.s();!(s=l.n()).done;)if(s.value.compareTo(e)===0)return!0}catch(d){l.e(d)}finally{l.f()}return!1}},{key:"add",value:function(e){if(this.contains(e))return!1;for(var s=0,l=this.array.length;s<l;s++)if(this.array[s].compareTo(e)===1)return!!this.array.splice(s,0,e);return this.array.push(e),!0}},{key:"addAll",value:function(e){var s,l=b(e);try{for(l.s();!(s=l.n()).done;){var d=s.value;this.add(d)}}catch(x){l.e(x)}finally{l.f()}return!0}},{key:"remove",value:function(){throw new ge}},{key:"size",value:function(){return this.array.length}},{key:"isEmpty",value:function(){return this.array.length===0}},{key:"toArray",value:function(){return this.array.slice()}},{key:"iterator",value:function(){return new Go(this.array)}}])})(vs),Go=(function(){return S((function o(t){p(this,o),this.array=t,this.position=0}),[{key:"next",value:function(){if(this.position===this.array.length)throw new Pe;return this.array[this.position++]}},{key:"hasNext",value:function(){return this.position<this.array.length}},{key:"remove",value:function(){throw new ge}}])})(),on=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"computeEnvelopeInternal",value:function(){for(var e=new ee,s=0;s<this._geometries.length;s++)e.expandToInclude(this._geometries[s].getEnvelopeInternal());return e}},{key:"getGeometryN",value:function(e){return this._geometries[e]}},{key:"getCoordinates",value:function(){for(var e=new Array(this.getNumPoints()).fill(null),s=-1,l=0;l<this._geometries.length;l++)for(var d=this._geometries[l].getCoordinates(),x=0;x<d.length;x++)e[++s]=d[x];return e}},{key:"getArea",value:function(){for(var e=0,s=0;s<this._geometries.length;s++)e+=this._geometries[s].getArea();return e}},{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),s=0;s<e.length;s++)e[s]=this._geometries[s].copy();return new t(e,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof At){var e=arguments[0],s=arguments[1];if(!this.isEquivalentClass(e))return!1;var l=e;if(this._geometries.length!==l._geometries.length)return!1;for(var d=0;d<this._geometries.length;d++)if(!this._geometries[d].equalsExact(l._geometries[d],s))return!1;return!0}return rt(t,"equalsExact",this,1).apply(this,arguments)}},{key:"normalize",value:function(){for(var e=0;e<this._geometries.length;e++)this._geometries[e].normalize();be.sort(this._geometries)}},{key:"getCoordinate",value:function(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}},{key:"getBoundaryDimension",value:function(){for(var e=Pt.FALSE,s=0;s<this._geometries.length;s++)e=Math.max(e,this._geometries[s].getBoundaryDimension());return e}},{key:"reverseInternal",value:function(){for(var e=this._geometries.length,s=new Xt(e),l=0;l<e;l++)s.add(this._geometries[l].reverse());return this.getFactory().buildGeometry(s)}},{key:"getTypeCode",value:function(){return At.TYPECODE_GEOMETRYCOLLECTION}},{key:"getDimension",value:function(){for(var e=Pt.FALSE,s=0;s<this._geometries.length;s++)e=Math.max(e,this._geometries[s].getDimension());return e}},{key:"getLength",value:function(){for(var e=0,s=0;s<this._geometries.length;s++)e+=this._geometries[s].getLength();return e}},{key:"getNumPoints",value:function(){for(var e=0,s=0;s<this._geometries.length;s++)e+=this._geometries[s].getNumPoints();return e}},{key:"getNumGeometries",value:function(){return this._geometries.length}},{key:"compareToSameClass",value:function(){if(arguments.length===1){var e=arguments[0],s=new ro(be.asList(this._geometries)),l=new ro(be.asList(e._geometries));return this.compare(s,l)}if(arguments.length===2){for(var d=arguments[1],x=arguments[0],E=this.getNumGeometries(),N=x.getNumGeometries(),M=0;M<E&&M<N;){var tt=this.getGeometryN(M),ot=x.getGeometryN(M),mt=tt.compareToSameClass(ot,d);if(mt!==0)return mt;M++}return M<E?1:M<N?-1:0}}},{key:"apply",value:function(){if(ne(arguments[0],Gr))for(var e=arguments[0],s=0;s<this._geometries.length;s++)this._geometries[s].apply(e);else if(ne(arguments[0],ji)){var l=arguments[0];if(this._geometries.length===0)return null;for(var d=0;d<this._geometries.length&&(this._geometries[d].apply(l),!l.isDone());d++);l.isGeometryChanged()&&this.geometryChanged()}else if(ne(arguments[0],fr)){var x=arguments[0];x.filter(this);for(var E=0;E<this._geometries.length;E++)this._geometries[E].apply(x)}else if(ne(arguments[0],Nt)){var N=arguments[0];N.filter(this);for(var M=0;M<this._geometries.length;M++)this._geometries[M].apply(N)}}},{key:"getBoundary",value:function(){return At.checkNotGeometryCollection(this),gt.shouldNeverReachHere(),null}},{key:"getGeometryType",value:function(){return At.TYPENAME_GEOMETRYCOLLECTION}},{key:"isEmpty",value:function(){for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isEmpty())return!1;return!0}}],[{key:"constructor_",value:function(){if(this._geometries=null,arguments.length!==0){if(arguments.length===2){var e=arguments[0],s=arguments[1];if(At.constructor_.call(this,s),e===null&&(e=[]),At.hasNullElements(e))throw new Ct("geometries must not contain null elements");this._geometries=e}}}}])})(At),Qn=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),s=0;s<e.length;s++)e[s]=this._geometries[s].copy();return new t(e,this._factory)}},{key:"isValid",value:function(){return!0}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof At){var e=arguments[0],s=arguments[1];return!!this.isEquivalentClass(e)&&rt(t,"equalsExact",this,1).call(this,e,s)}return rt(t,"equalsExact",this,1).apply(this,arguments)}},{key:"getCoordinate",value:function(){if(arguments.length===1&&Number.isInteger(arguments[0])){var e=arguments[0];return this._geometries[e].getCoordinate()}return rt(t,"getCoordinate",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return Pt.FALSE}},{key:"getTypeCode",value:function(){return At.TYPECODE_MULTIPOINT}},{key:"getDimension",value:function(){return 0}},{key:"getBoundary",value:function(){return this.getFactory().createGeometryCollection()}},{key:"getGeometryType",value:function(){return At.TYPENAME_MULTIPOINT}},{key:"interfaces_",get:function(){return[ps]}}],[{key:"constructor_",value:function(){var e=arguments[0],s=arguments[1];on.constructor_.call(this,e,s)}}])})(on),Fn=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"copyInternal",value:function(){return new t(this._points.copy(),this._factory)}},{key:"getBoundaryDimension",value:function(){return Pt.FALSE}},{key:"isClosed",value:function(){return!!this.isEmpty()||rt(t,"isClosed",this,1).call(this)}},{key:"reverseInternal",value:function(){var e=this._points.copy();return Ii.reverse(e),this.getFactory().createLinearRing(e)}},{key:"getTypeCode",value:function(){return At.TYPECODE_LINEARRING}},{key:"validateConstruction",value:function(){if(!this.isEmpty()&&!rt(t,"isClosed",this,1).call(this))throw new Ct("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<t.MINIMUM_VALID_SIZE)throw new Ct("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")}},{key:"getGeometryType",value:function(){return At.TYPENAME_LINEARRING}}],[{key:"constructor_",value:function(){var e=arguments[0],s=arguments[1];di.constructor_.call(this,e,s),this.validateConstruction()}}])})(di);Fn.MINIMUM_VALID_SIZE=4;var gi=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"setOrdinate",value:function(e,s){switch(e){case t.X:this.x=s;break;case t.Y:this.y=s;break;default:throw new Ct("Invalid ordinate index: "+e)}}},{key:"getZ",value:function(){return Q.NULL_ORDINATE}},{key:"getOrdinate",value:function(e){switch(e){case t.X:return this.x;case t.Y:return this.y}throw new Ct("Invalid ordinate index: "+e)}},{key:"setZ",value:function(e){throw new Ct("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new t(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+")"}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ()}}],[{key:"constructor_",value:function(){if(arguments.length===0)Q.constructor_.call(this);else if(arguments.length===1){if(arguments[0]instanceof t){var e=arguments[0];Q.constructor_.call(this,e.x,e.y)}else if(arguments[0]instanceof Q){var s=arguments[0];Q.constructor_.call(this,s.x,s.y)}}else if(arguments.length===2){var l=arguments[0],d=arguments[1];Q.constructor_.call(this,l,d,Q.NULL_ORDINATE)}}}])})(Q);gi.X=0,gi.Y=1,gi.Z=-1,gi.M=-1;var $i=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(e,s){switch(e){case t.X:this.x=s;break;case t.Y:this.y=s;break;case t.M:this._m=s;break;default:throw new Ct("Invalid ordinate index: "+e)}}},{key:"setM",value:function(e){this._m=e}},{key:"getZ",value:function(){return Q.NULL_ORDINATE}},{key:"getOrdinate",value:function(e){switch(e){case t.X:return this.x;case t.Y:return this.y;case t.M:return this._m}throw new Ct("Invalid ordinate index: "+e)}},{key:"setZ",value:function(e){throw new Ct("CoordinateXY dimension 2 does not support z-ordinate")}},{key:"copy",value:function(){return new t(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ(),this._m=e.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)Q.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof t){var e=arguments[0];Q.constructor_.call(this,e.x,e.y),this._m=e._m}else if(arguments[0]instanceof Q){var s=arguments[0];Q.constructor_.call(this,s.x,s.y),this._m=this.getM()}}else if(arguments.length===3){var l=arguments[0],d=arguments[1],x=arguments[2];Q.constructor_.call(this,l,d,Q.NULL_ORDINATE),this._m=x}}}])})(Q);$i.X=0,$i.Y=1,$i.Z=-1,$i.M=2;var _s=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"getM",value:function(){return this._m}},{key:"setOrdinate",value:function(e,s){switch(e){case Q.X:this.x=s;break;case Q.Y:this.y=s;break;case Q.Z:this.z=s;break;case Q.M:this._m=s;break;default:throw new Ct("Invalid ordinate index: "+e)}}},{key:"setM",value:function(e){this._m=e}},{key:"getOrdinate",value:function(e){switch(e){case Q.X:return this.x;case Q.Y:return this.y;case Q.Z:return this.getZ();case Q.M:return this.getM()}throw new Ct("Invalid ordinate index: "+e)}},{key:"copy",value:function(){return new t(this)}},{key:"toString",value:function(){return"("+this.x+", "+this.y+", "+this.getZ()+" m="+this.getM()+")"}},{key:"setCoordinate",value:function(e){this.x=e.x,this.y=e.y,this.z=e.getZ(),this._m=e.getM()}}],[{key:"constructor_",value:function(){if(this._m=null,arguments.length===0)Q.constructor_.call(this),this._m=0;else if(arguments.length===1){if(arguments[0]instanceof t){var e=arguments[0];Q.constructor_.call(this,e),this._m=e._m}else if(arguments[0]instanceof Q){var s=arguments[0];Q.constructor_.call(this,s),this._m=this.getM()}}else if(arguments.length===4){var l=arguments[0],d=arguments[1],x=arguments[2],E=arguments[3];Q.constructor_.call(this,l,d,x),this._m=E}}}])})(Q),Zr=(function(){function o(){p(this,o)}return S(o,null,[{key:"measures",value:function(t){return t instanceof gi?0:t instanceof $i||t instanceof _s?1:0}},{key:"dimension",value:function(t){return t instanceof gi?2:t instanceof $i?3:t instanceof _s?4:3}},{key:"create",value:function(){if(arguments.length===1){var t=arguments[0];return o.create(t,0)}if(arguments.length===2){var e=arguments[0],s=arguments[1];return e===2?new gi:e===3&&s===0?new Q:e===3&&s===1?new $i:e===4&&s===1?new _s:new Q}}}])})(),dr=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"getCoordinate",value:function(e){return this.get(e)}},{key:"addAll",value:function(){if(arguments.length===2&&typeof arguments[1]=="boolean"&&ne(arguments[0],ye)){for(var e=arguments[1],s=!1,l=arguments[0].iterator();l.hasNext();)this.add(l.next(),e),s=!0;return s}return rt(t,"addAll",this,1).apply(this,arguments)}},{key:"clone",value:function(){for(var e=rt(t,"clone",this,1).call(this),s=0;s<this.size();s++)e.add(s,this.get(s).clone());return e}},{key:"toCoordinateArray",value:function(){if(arguments.length===0)return this.toArray(t.coordArrayType);if(arguments.length===1){if(arguments[0])return this.toArray(t.coordArrayType);for(var e=this.size(),s=new Array(e).fill(null),l=0;l<e;l++)s[l]=this.get(e-l-1);return s}}},{key:"add",value:function(){if(arguments.length===1){var e=arguments[0];return rt(t,"add",this,1).call(this,e)}if(arguments.length===2){if(arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var s=arguments[0],l=arguments[1];return this.add(s,l,!0),!0}if(arguments[0]instanceof Q&&typeof arguments[1]=="boolean"){var d=arguments[0];if(!arguments[1]&&this.size()>=1&&this.get(this.size()-1).equals2D(d))return null;rt(t,"add",this,1).call(this,d)}else if(arguments[0]instanceof Object&&typeof arguments[1]=="boolean"){var x=arguments[0],E=arguments[1];return this.add(x,E),!0}}else if(arguments.length===3){if(typeof arguments[2]=="boolean"&&arguments[0]instanceof Array&&typeof arguments[1]=="boolean"){var N=arguments[0],M=arguments[1];if(arguments[2])for(var tt=0;tt<N.length;tt++)this.add(N[tt],M);else for(var ot=N.length-1;ot>=0;ot--)this.add(N[ot],M);return!0}if(typeof arguments[2]=="boolean"&&Number.isInteger(arguments[0])&&arguments[1]instanceof Q){var mt=arguments[0],Ot=arguments[1];if(!arguments[2]){var zt=this.size();if(zt>0&&(mt>0&&this.get(mt-1).equals2D(Ot)||mt<zt&&this.get(mt).equals2D(Ot)))return null}rt(t,"add",this,1).call(this,mt,Ot)}}else if(arguments.length===4){var qt=arguments[0],ce=arguments[1],se=arguments[2],pe=arguments[3],Ne=1;se>pe&&(Ne=-1);for(var $e=se;$e!==pe;$e+=Ne)this.add(qt[$e],ce);return!0}}},{key:"closeRing",value:function(){if(this.size()>0){var e=this.get(0).copy();this.add(e,!1)}}}],[{key:"constructor_",value:function(){if(arguments.length!==0){if(arguments.length===1){var e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.ensureCapacity(s.length),this.add(s,l)}}}}])})(Xt);dr.coordArrayType=new Array(0).fill(null);var Me=(function(){function o(){p(this,o)}return S(o,null,[{key:"isRing",value:function(t){return!(t.length<4)&&!!t[0].equals2D(t[t.length-1])}},{key:"ptNotInList",value:function(t,e){for(var s=0;s<t.length;s++){var l=t[s];if(o.indexOf(l,e)<0)return l}return null}},{key:"scroll",value:function(t,e){var s=o.indexOf(e,t);if(s<0)return null;var l=new Array(t.length).fill(null);fn.arraycopy(t,s,l,0,t.length-s),fn.arraycopy(t,0,l,t.length-s,s),fn.arraycopy(l,0,t,0,t.length)}},{key:"equals",value:function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(t===null||e===null||t.length!==e.length)return!1;for(var s=0;s<t.length;s++)if(!t[s].equals(e[s]))return!1;return!0}if(arguments.length===3){var l=arguments[0],d=arguments[1],x=arguments[2];if(l===d)return!0;if(l===null||d===null||l.length!==d.length)return!1;for(var E=0;E<l.length;E++)if(x.compare(l[E],d[E])!==0)return!1;return!0}}},{key:"intersection",value:function(t,e){for(var s=new dr,l=0;l<t.length;l++)e.intersects(t[l])&&s.add(t[l],!0);return s.toCoordinateArray()}},{key:"measures",value:function(t){if(t===null||t.length===0)return 0;var e,s=0,l=b(t);try{for(l.s();!(e=l.n()).done;){var d=e.value;s=Math.max(s,Zr.measures(d))}}catch(x){l.e(x)}finally{l.f()}return s}},{key:"hasRepeatedPoints",value:function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1}},{key:"removeRepeatedPoints",value:function(t){return o.hasRepeatedPoints(t)?new dr(t,!1).toCoordinateArray():t}},{key:"reverse",value:function(t){for(var e=t.length-1,s=Math.trunc(e/2),l=0;l<=s;l++){var d=t[l];t[l]=t[e-l],t[e-l]=d}}},{key:"removeNull",value:function(t){for(var e=0,s=0;s<t.length;s++)t[s]!==null&&e++;var l=new Array(e).fill(null);if(e===0)return l;for(var d=0,x=0;x<t.length;x++)t[x]!==null&&(l[d++]=t[x]);return l}},{key:"copyDeep",value:function(){if(arguments.length===1){for(var t=arguments[0],e=new Array(t.length).fill(null),s=0;s<t.length;s++)e[s]=t[s].copy();return e}if(arguments.length===5)for(var l=arguments[0],d=arguments[1],x=arguments[2],E=arguments[3],N=arguments[4],M=0;M<N;M++)x[E+M]=l[d+M].copy()}},{key:"isEqualReversed",value:function(t,e){for(var s=0;s<t.length;s++){var l=t[s],d=e[t.length-s-1];if(l.compareTo(d)!==0)return!1}return!0}},{key:"envelope",value:function(t){for(var e=new ee,s=0;s<t.length;s++)e.expandToInclude(t[s]);return e}},{key:"toCoordinateArray",value:function(t){return t.toArray(o.coordArrayType)}},{key:"dimension",value:function(t){if(t===null||t.length===0)return 3;var e,s=0,l=b(t);try{for(l.s();!(e=l.n()).done;){var d=e.value;s=Math.max(s,Zr.dimension(d))}}catch(x){l.e(x)}finally{l.f()}return s}},{key:"atLeastNCoordinatesOrNothing",value:function(t,e){return e.length>=t?e:[]}},{key:"indexOf",value:function(t,e){for(var s=0;s<e.length;s++)if(t.equals(e[s]))return s;return-1}},{key:"increasingDirection",value:function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var s=t.length-1-e,l=t[e].compareTo(t[s]);if(l!==0)return l}return 1}},{key:"compare",value:function(t,e){for(var s=0;s<t.length&&s<e.length;){var l=t[s].compareTo(e[s]);if(l!==0)return l;s++}return s<e.length?-1:s<t.length?1:0}},{key:"minCoordinate",value:function(t){for(var e=null,s=0;s<t.length;s++)(e===null||e.compareTo(t[s])>0)&&(e=t[s]);return e}},{key:"extract",value:function(t,e,s){e=Si.clamp(e,0,t.length);var l=(s=Si.clamp(s,-1,t.length))-e+1;s<0&&(l=0),e>=t.length&&(l=0),s<e&&(l=0);var d=new Array(l).fill(null);if(l===0)return d;for(var x=0,E=e;E<=s;E++)d[x++]=t[E];return d}}])})(),ga=(function(){return S((function o(){p(this,o)}),[{key:"compare",value:function(o,t){var e=o,s=t;return Me.compare(e,s)}},{key:"interfaces_",get:function(){return[z]}}])})(),ys=(function(){return S((function o(){p(this,o)}),[{key:"compare",value:function(o,t){var e=o,s=t;if(e.length<s.length)return-1;if(e.length>s.length)return 1;if(e.length===0)return 0;var l=Me.compare(e,s);return Me.isEqualReversed(e,s)?0:l}},{key:"OLDcompare",value:function(o,t){var e=o,s=t;if(e.length<s.length)return-1;if(e.length>s.length)return 1;if(e.length===0)return 0;for(var l=Me.increasingDirection(e),d=Me.increasingDirection(s),x=l>0?0:e.length-1,E=d>0?0:e.length-1,N=0;N<e.length;N++){var M=e[x].compareTo(s[E]);if(M!==0)return M;x+=l,E+=d}return 0}},{key:"interfaces_",get:function(){return[z]}}])})();Me.ForwardComparator=ga,Me.BidirectionalComparator=ys,Me.coordArrayType=new Array(0).fill(null);var Ie=(function(){return S((function o(t){p(this,o),this.str=t}),[{key:"append",value:function(o){this.str+=o}},{key:"setCharAt",value:function(o,t){this.str=this.str.substr(0,o)+t+this.str.substr(o+1)}},{key:"toString",value:function(){return this.str}}])})(),Ur=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"getM",value:function(t){return this.hasM()?this._coordinates[t].getM():H.NaN}},{key:"setOrdinate",value:function(t,e,s){switch(e){case oe.X:this._coordinates[t].x=s;break;case oe.Y:this._coordinates[t].y=s;break;default:this._coordinates[t].setOrdinate(e,s)}}},{key:"getZ",value:function(t){return this.hasZ()?this._coordinates[t].getZ():H.NaN}},{key:"size",value:function(){return this._coordinates.length}},{key:"getOrdinate",value:function(t,e){switch(e){case oe.X:return this._coordinates[t].x;case oe.Y:return this._coordinates[t].y;default:return this._coordinates[t].getOrdinate(e)}}},{key:"getCoordinate",value:function(){if(arguments.length===1){var t=arguments[0];return this._coordinates[t]}if(arguments.length===2){var e=arguments[0];arguments[1].setCoordinate(this._coordinates[e])}}},{key:"getCoordinateCopy",value:function(t){var e=this.createCoordinate();return e.setCoordinate(this._coordinates[t]),e}},{key:"createCoordinate",value:function(){return Zr.create(this.getDimension(),this.getMeasures())}},{key:"getDimension",value:function(){return this._dimension}},{key:"getX",value:function(t){return this._coordinates[t].x}},{key:"getMeasures",value:function(){return this._measures}},{key:"expandEnvelope",value:function(t){for(var e=0;e<this._coordinates.length;e++)t.expandToInclude(this._coordinates[e]);return t}},{key:"copy",value:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this._coordinates.length;e++){var s=this.createCoordinate();s.setCoordinate(this._coordinates[e]),t[e]=s}return new o(t,this._dimension,this._measures)}},{key:"toString",value:function(){if(this._coordinates.length>0){var t=new Ie(17*this._coordinates.length);t.append("("),t.append(this._coordinates[0]);for(var e=1;e<this._coordinates.length;e++)t.append(", "),t.append(this._coordinates[e]);return t.append(")"),t.toString()}return"()"}},{key:"getY",value:function(t){return this._coordinates[t].y}},{key:"toCoordinateArray",value:function(){return this._coordinates}},{key:"interfaces_",get:function(){return[oe,O]}}],[{key:"constructor_",value:function(){if(this._dimension=3,this._measures=0,this._coordinates=null,arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];o.constructor_.call(this,t,Me.dimension(t),Me.measures(t))}else if(Number.isInteger(arguments[0])){var e=arguments[0];this._coordinates=new Array(e).fill(null);for(var s=0;s<e;s++)this._coordinates[s]=new Q}else if(ne(arguments[0],oe)){var l=arguments[0];if(l===null)return this._coordinates=new Array(0).fill(null),null;this._dimension=l.getDimension(),this._measures=l.getMeasures(),this._coordinates=new Array(l.size()).fill(null);for(var d=0;d<this._coordinates.length;d++)this._coordinates[d]=l.getCoordinateCopy(d)}}else if(arguments.length===2){if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var x=arguments[0],E=arguments[1];o.constructor_.call(this,x,E,Me.measures(x))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var N=arguments[0],M=arguments[1];this._coordinates=new Array(N).fill(null),this._dimension=M;for(var tt=0;tt<N;tt++)this._coordinates[tt]=Zr.create(M)}}else if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var ot=arguments[0],mt=arguments[1],Ot=arguments[2];this._dimension=mt,this._measures=Ot,this._coordinates=ot===null?new Array(0).fill(null):ot}else if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var zt=arguments[0],qt=arguments[1],ce=arguments[2];this._coordinates=new Array(zt).fill(null),this._dimension=qt,this._measures=ce;for(var se=0;se<zt;se++)this._coordinates[se]=this.createCoordinate()}}}}])})(),qr=(function(){function o(){p(this,o)}return S(o,[{key:"readResolve",value:function(){return o.instance()}},{key:"create",value:function(){if(arguments.length===1){if(arguments[0]instanceof Array)return new Ur(arguments[0]);if(ne(arguments[0],oe))return new Ur(arguments[0])}else{if(arguments.length===2){var t=arguments[1];return t>3&&(t=3),t<2&&(t=2),new Ur(arguments[0],t)}if(arguments.length===3){var e=arguments[2],s=arguments[1]-e;return e>1&&(e=1),s>3&&(s=3),s<2&&(s=2),new Ur(arguments[0],s+e,e)}}}},{key:"interfaces_",get:function(){return[Li,O]}}],[{key:"instance",value:function(){return o.instanceObject}}])})();qr.instanceObject=new qr;var xs=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),s=0;s<e.length;s++)e[s]=this._geometries[s].copy();return new t(e,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof At){var e=arguments[0],s=arguments[1];return!!this.isEquivalentClass(e)&&rt(t,"equalsExact",this,1).call(this,e,s)}return rt(t,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return 1}},{key:"getTypeCode",value:function(){return At.TYPECODE_MULTIPOLYGON}},{key:"getDimension",value:function(){return 2}},{key:"getBoundary",value:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var e=new Xt,s=0;s<this._geometries.length;s++)for(var l=this._geometries[s].getBoundary(),d=0;d<l.getNumGeometries();d++)e.add(l.getGeometryN(d));var x=new Array(e.size()).fill(null);return this.getFactory().createMultiLineString(e.toArray(x))}},{key:"getGeometryType",value:function(){return At.TYPENAME_MULTIPOLYGON}},{key:"interfaces_",get:function(){return[Gt]}}],[{key:"constructor_",value:function(){var e=arguments[0],s=arguments[1];on.constructor_.call(this,e,s)}}])})(on),Yr=(function(){return S((function o(){p(this,o)}),[{key:"get",value:function(){}},{key:"put",value:function(){}},{key:"size",value:function(){}},{key:"values",value:function(){}},{key:"entrySet",value:function(){}}])})(),so=(function(o){function t(){var e;return p(this,t),(e=y(this,t)).map=new Map,e}return D(t,o),S(t,[{key:"get",value:function(e){return this.map.get(e)||null}},{key:"put",value:function(e,s){return this.map.set(e,s),s}},{key:"values",value:function(){for(var e=new Xt,s=this.map.values(),l=s.next();!l.done;)e.add(l.value),l=s.next();return e}},{key:"entrySet",value:function(){var e=new Hi;return this.map.entries().forEach((function(s){return e.add(s)})),e}},{key:"size",value:function(){return this.map.size()}}])})(Yr),nn=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"equals",value:function(t){if(!(t instanceof o))return!1;var e=t;return this._modelType===e._modelType&&this._scale===e._scale}},{key:"compareTo",value:function(t){var e=t,s=this.getMaximumSignificantDigits(),l=e.getMaximumSignificantDigits();return Wi.compare(s,l)}},{key:"getScale",value:function(){return this._scale}},{key:"isFloating",value:function(){return this._modelType===o.FLOATING||this._modelType===o.FLOATING_SINGLE}},{key:"getType",value:function(){return this._modelType}},{key:"toString",value:function(){var t="UNKNOWN";return this._modelType===o.FLOATING?t="Floating":this._modelType===o.FLOATING_SINGLE?t="Floating-Single":this._modelType===o.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t}},{key:"makePrecise",value:function(){if(typeof arguments[0]=="number"){var t=arguments[0];return H.isNaN(t)||this._modelType===o.FLOATING_SINGLE?t:this._modelType===o.FIXED?Math.round(t*this._scale)/this._scale:t}if(arguments[0]instanceof Q){var e=arguments[0];if(this._modelType===o.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}}},{key:"getMaximumSignificantDigits",value:function(){var t=16;return this._modelType===o.FLOATING?t=16:this._modelType===o.FLOATING_SINGLE?t=6:this._modelType===o.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t}},{key:"setScale",value:function(t){this._scale=Math.abs(t)}},{key:"interfaces_",get:function(){return[O,Rt]}}],[{key:"constructor_",value:function(){if(this._modelType=null,this._scale=null,arguments.length===0)this._modelType=o.FLOATING;else if(arguments.length===1){if(arguments[0]instanceof Jn){var t=arguments[0];this._modelType=t,t===o.FIXED&&this.setScale(1)}else if(typeof arguments[0]=="number"){var e=arguments[0];this._modelType=o.FIXED,this.setScale(e)}else if(arguments[0]instanceof o){var s=arguments[0];this._modelType=s._modelType,this._scale=s._scale}}}},{key:"mostPrecise",value:function(t,e){return t.compareTo(e)>=0?t:e}}])})(),Jn=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"readResolve",value:function(){return o.nameToTypeMap.get(this._name)}},{key:"toString",value:function(){return this._name}},{key:"interfaces_",get:function(){return[O]}}],[{key:"constructor_",value:function(){this._name=null;var t=arguments[0];this._name=t,o.nameToTypeMap.put(t,this)}}])})();Jn.nameToTypeMap=new so,nn.Type=Jn,nn.FIXED=new Jn("FIXED"),nn.FLOATING=new Jn("FLOATING"),nn.FLOATING_SINGLE=new Jn("FLOATING SINGLE"),nn.maximumPreciseValue=9007199254740992;var yn=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"copyInternal",value:function(){for(var e=new Array(this._geometries.length).fill(null),s=0;s<e.length;s++)e[s]=this._geometries[s].copy();return new t(e,this._factory)}},{key:"equalsExact",value:function(){if(arguments.length===2&&typeof arguments[1]=="number"&&arguments[0]instanceof At){var e=arguments[0],s=arguments[1];return!!this.isEquivalentClass(e)&&rt(t,"equalsExact",this,1).call(this,e,s)}return rt(t,"equalsExact",this,1).apply(this,arguments)}},{key:"getBoundaryDimension",value:function(){return this.isClosed()?Pt.FALSE:0}},{key:"isClosed",value:function(){if(this.isEmpty())return!1;for(var e=0;e<this._geometries.length;e++)if(!this._geometries[e].isClosed())return!1;return!0}},{key:"getTypeCode",value:function(){return At.TYPECODE_MULTILINESTRING}},{key:"getDimension",value:function(){return 1}},{key:"getBoundary",value:function(){throw new ge}},{key:"getGeometryType",value:function(){return At.TYPENAME_MULTILINESTRING}},{key:"interfaces_",get:function(){return[io]}}],[{key:"constructor_",value:function(){var e=arguments[0],s=arguments[1];on.constructor_.call(this,e,s)}}])})(on),ti=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"createEmpty",value:function(t){switch(t){case-1:return this.createGeometryCollection();case 0:return this.createPoint();case 1:return this.createLineString();case 2:return this.createPolygon();default:throw new Ct("Invalid dimension: "+t)}}},{key:"toGeometry",value:function(t){return t.isNull()?this.createPoint():t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new Q(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new Q(t.getMinX(),t.getMinY()),new Q(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new Q(t.getMinX(),t.getMinY()),new Q(t.getMinX(),t.getMaxY()),new Q(t.getMaxX(),t.getMaxY()),new Q(t.getMaxX(),t.getMinY()),new Q(t.getMinX(),t.getMinY())]),null)}},{key:"createLineString",value:function(){if(arguments.length===0)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLineString(t!==null?this.getCoordinateSequenceFactory().create(t):null)}if(ne(arguments[0],oe))return new di(arguments[0],this)}}},{key:"createMultiLineString",value:function(){return arguments.length===0?new yn(null,this):arguments.length===1?new yn(arguments[0],this):void 0}},{key:"buildGeometry",value:function(t){for(var e=null,s=!1,l=!1,d=t.iterator();d.hasNext();){var x=d.next(),E=x.getTypeCode();e===null&&(e=E),E!==e&&(s=!0),x instanceof on&&(l=!0)}if(e===null)return this.createGeometryCollection();if(s||l)return this.createGeometryCollection(o.toGeometryArray(t));var N=t.iterator().next();if(t.size()>1){if(N instanceof Ni)return this.createMultiPolygon(o.toPolygonArray(t));if(N instanceof di)return this.createMultiLineString(o.toLineStringArray(t));if(N instanceof Ki)return this.createMultiPoint(o.toPointArray(t));gt.shouldNeverReachHere("Unhandled geometry type: "+N.getGeometryType())}return N}},{key:"createMultiPointFromCoords",value:function(t){return this.createMultiPoint(t!==null?this.getCoordinateSequenceFactory().create(t):null)}},{key:"createPoint",value:function(){if(arguments.length===0)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Q){var t=arguments[0];return this.createPoint(t!==null?this.getCoordinateSequenceFactory().create([t]):null)}if(ne(arguments[0],oe))return new Ki(arguments[0],this)}}},{key:"getCoordinateSequenceFactory",value:function(){return this._coordinateSequenceFactory}},{key:"createPolygon",value:function(){if(arguments.length===0)return this.createPolygon(null,null);if(arguments.length===1){if(ne(arguments[0],oe)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Fn){var s=arguments[0];return this.createPolygon(s,null)}}else if(arguments.length===2)return new Ni(arguments[0],arguments[1],this)}},{key:"getSRID",value:function(){return this._SRID}},{key:"createGeometryCollection",value:function(){return arguments.length===0?new on(null,this):arguments.length===1?new on(arguments[0],this):void 0}},{key:"getPrecisionModel",value:function(){return this._precisionModel}},{key:"createLinearRing",value:function(){if(arguments.length===0)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(t!==null?this.getCoordinateSequenceFactory().create(t):null)}if(ne(arguments[0],oe))return new Fn(arguments[0],this)}}},{key:"createMultiPolygon",value:function(){return arguments.length===0?new xs(null,this):arguments.length===1?new xs(arguments[0],this):void 0}},{key:"createMultiPoint",value:function(){if(arguments.length===0)return new Qn(null,this);if(arguments.length===1){if(arguments[0]instanceof Array)return new Qn(arguments[0],this);if(ne(arguments[0],oe)){var t=arguments[0];if(t===null)return this.createMultiPoint(new Array(0).fill(null));for(var e=new Array(t.size()).fill(null),s=0;s<t.size();s++){var l=this.getCoordinateSequenceFactory().create(1,t.getDimension(),t.getMeasures());Ii.copy(t,s,l,0,1),e[s]=this.createPoint(l)}return this.createMultiPoint(e)}}}},{key:"interfaces_",get:function(){return[O]}}],[{key:"constructor_",value:function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,arguments.length===0)o.constructor_.call(this,new nn,0);else if(arguments.length===1){if(ne(arguments[0],Li)){var t=arguments[0];o.constructor_.call(this,new nn,0,t)}else if(arguments[0]instanceof nn){var e=arguments[0];o.constructor_.call(this,e,0,o.getDefaultCoordinateSequenceFactory())}}else if(arguments.length===2){var s=arguments[0],l=arguments[1];o.constructor_.call(this,s,l,o.getDefaultCoordinateSequenceFactory())}else if(arguments.length===3){var d=arguments[0],x=arguments[1],E=arguments[2];this._precisionModel=d,this._coordinateSequenceFactory=E,this._SRID=x}}},{key:"toMultiPolygonArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toGeometryArray",value:function(t){if(t===null)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"getDefaultCoordinateSequenceFactory",value:function(){return qr.instance()}},{key:"toMultiLineStringArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toLineStringArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toMultiPointArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toLinearRingArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toPointArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"toPolygonArray",value:function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)}},{key:"createPointFromInternalCoord",value:function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)}}])})(),te="XY",Ce="XYZ",ks="XYM",gr="XYZM",ei={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"},Qi="EMPTY",Qt=1,me=2,ni=3,Hr=4,Ze=5,Zo=6;for(var mr in ei)ei[mr].toUpperCase();var Bn=(function(){return S((function o(t){p(this,o),this.wkt=t,this.index_=-1}),[{key:"isAlpha_",value:function(o){return o>="a"&&o<="z"||o>="A"&&o<="Z"}},{key:"isNumeric_",value:function(o,t){return o>="0"&&o<="9"||o=="."&&!(t!==void 0&&t)}},{key:"isWhiteSpace_",value:function(o){return o==" "||o=="	"||o=="\r"||o==`
`}},{key:"nextChar_",value:function(){return this.wkt.charAt(++this.index_)}},{key:"nextToken",value:function(){var o,t=this.nextChar_(),e=this.index_,s=t;if(t=="(")o=me;else if(t==",")o=Ze;else if(t==")")o=ni;else if(this.isNumeric_(t)||t=="-")o=Hr,s=this.readNumber_();else if(this.isAlpha_(t))o=Qt,s=this.readText_();else{if(this.isWhiteSpace_(t))return this.nextToken();if(t!=="")throw new Error("Unexpected character: "+t);o=Zo}return{position:e,value:s,type:o}}},{key:"readNumber_",value:function(){var o,t=this.index_,e=!1,s=!1;do o=="."?e=!0:o!="e"&&o!="E"||(s=!0),o=this.nextChar_();while(this.isNumeric_(o,e)||!s&&(o=="e"||o=="E")||s&&(o=="-"||o=="+"));return parseFloat(this.wkt.substring(t,this.index_--))}},{key:"readText_",value:function(){var o,t=this.index_;do o=this.nextChar_();while(this.isAlpha_(o));return this.wkt.substring(t,this.index_--).toUpperCase()}}])})(),Fe=(function(){return S((function o(t,e){p(this,o),this.lexer_=t,this.token_,this.layout_=te,this.factory=e}),[{key:"consume_",value:function(){this.token_=this.lexer_.nextToken()}},{key:"isTokenType",value:function(o){return this.token_.type==o}},{key:"match",value:function(o){var t=this.isTokenType(o);return t&&this.consume_(),t}},{key:"parse",value:function(){return this.consume_(),this.parseGeometry_()}},{key:"parseGeometryLayout_",value:function(){var o=te,t=this.token_;if(this.isTokenType(Qt)){var e=t.value;e==="Z"?o=Ce:e==="M"?o=ks:e==="ZM"&&(o=gr),o!==te&&this.consume_()}return o}},{key:"parseGeometryCollectionText_",value:function(){if(this.match(me)){var o=[];do o.push(this.parseGeometry_());while(this.match(Ze));if(this.match(ni))return o}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePointText_",value:function(){if(this.match(me)){var o=this.parsePoint_();if(this.match(ni))return o}else if(this.isEmptyGeometry_())return null;throw new Error(this.formatErrorMessage_())}},{key:"parseLineStringText_",value:function(){if(this.match(me)){var o=this.parsePointList_();if(this.match(ni))return o}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePolygonText_",value:function(){if(this.match(me)){var o=this.parseLineStringTextList_();if(this.match(ni))return o}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPointText_",value:function(){var o;if(this.match(me)){if(o=this.token_.type==me?this.parsePointTextList_():this.parsePointList_(),this.match(ni))return o}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiLineStringText_",value:function(){if(this.match(me)){var o=this.parseLineStringTextList_();if(this.match(ni))return o}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parseMultiPolygonText_",value:function(){if(this.match(me)){var o=this.parsePolygonTextList_();if(this.match(ni))return o}else if(this.isEmptyGeometry_())return[];throw new Error(this.formatErrorMessage_())}},{key:"parsePoint_",value:function(){for(var o=[],t=this.layout_.length,e=0;e<t;++e){var s=this.token_;if(!this.match(Hr))break;o.push(s.value)}if(o.length==t)return o;throw new Error(this.formatErrorMessage_())}},{key:"parsePointList_",value:function(){for(var o=[this.parsePoint_()];this.match(Ze);)o.push(this.parsePoint_());return o}},{key:"parsePointTextList_",value:function(){for(var o=[this.parsePointText_()];this.match(Ze);)o.push(this.parsePointText_());return o}},{key:"parseLineStringTextList_",value:function(){for(var o=[this.parseLineStringText_()];this.match(Ze);)o.push(this.parseLineStringText_());return o}},{key:"parsePolygonTextList_",value:function(){for(var o=[this.parsePolygonText_()];this.match(Ze);)o.push(this.parsePolygonText_());return o}},{key:"isEmptyGeometry_",value:function(){var o=this.isTokenType(Qt)&&this.token_.value==Qi;return o&&this.consume_(),o}},{key:"formatErrorMessage_",value:function(){return"Unexpected `"+this.token_.value+"` at position "+this.token_.position+" in `"+this.lexer_.wkt+"`"}},{key:"parseGeometry_",value:function(){var o=this.factory,t=function(qt){return C(Q,pt(qt))},e=function(qt){var ce=qt.map((function(se){return o.createLinearRing(se.map(t))}));return ce.length>1?o.createPolygon(ce[0],ce.slice(1)):o.createPolygon(ce[0])},s=this.token_;if(this.match(Qt)){var l=s.value;if(this.layout_=this.parseGeometryLayout_(),l=="GEOMETRYCOLLECTION"){var d=this.parseGeometryCollectionText_();return o.createGeometryCollection(d)}switch(l){case"POINT":var x=this.parsePointText_();return x?o.createPoint(C(Q,pt(x))):o.createPoint();case"LINESTRING":var E=this.parseLineStringText_().map(t);return o.createLineString(E);case"LINEARRING":var N=this.parseLineStringText_().map(t);return o.createLinearRing(N);case"POLYGON":var M=this.parsePolygonText_();return M&&M.length!==0?e(M):o.createPolygon();case"MULTIPOINT":var tt=this.parseMultiPointText_();if(!tt||tt.length===0)return o.createMultiPoint();var ot=tt.map(t).map((function(qt){return o.createPoint(qt)}));return o.createMultiPoint(ot);case"MULTILINESTRING":var mt=this.parseMultiLineStringText_().map((function(qt){return o.createLineString(qt.map(t))}));return o.createMultiLineString(mt);case"MULTIPOLYGON":var Ot=this.parseMultiPolygonText_();if(!Ot||Ot.length===0)return o.createMultiPolygon();var zt=Ot.map(e);return o.createMultiPolygon(zt);default:throw new Error("Invalid geometry type: "+l)}}throw new Error(this.formatErrorMessage_())}}])})();function ii(o){if(o.isEmpty())return"";var t=o.getCoordinate(),e=[t.x,t.y];return t.z===void 0||Number.isNaN(t.z)||e.push(t.z),t.m===void 0||Number.isNaN(t.m)||e.push(t.m),e.join(" ")}function le(o){for(var t=o.getCoordinates().map((function(d){var x=[d.x,d.y];return d.z===void 0||Number.isNaN(d.z)||x.push(d.z),d.m===void 0||Number.isNaN(d.m)||x.push(d.m),x})),e=[],s=0,l=t.length;s<l;++s)e.push(t[s].join(" "));return e.join(", ")}function Ji(o){var t=[];t.push("("+le(o.getExteriorRing())+")");for(var e=0,s=o.getNumInteriorRing();e<s;++e)t.push("("+le(o.getInteriorRingN(e))+")");return t.join(", ")}var ws={Point:ii,LineString:le,LinearRing:le,Polygon:Ji,MultiPoint:function(o){for(var t=[],e=0,s=o.getNumGeometries();e<s;++e)t.push("("+ii(o.getGeometryN(e))+")");return t.join(", ")},MultiLineString:function(o){for(var t=[],e=0,s=o.getNumGeometries();e<s;++e)t.push("("+le(o.getGeometryN(e))+")");return t.join(", ")},MultiPolygon:function(o){for(var t=[],e=0,s=o.getNumGeometries();e<s;++e)t.push("("+Ji(o.getGeometryN(e))+")");return t.join(", ")},GeometryCollection:function(o){for(var t=[],e=0,s=o.getNumGeometries();e<s;++e)t.push(Ti(o.getGeometryN(e)));return t.join(", ")}};function Ti(o){var t=o.getGeometryType(),e=ws[t];t=t.toUpperCase();var s=(function(l){var d="";if(l.isEmpty())return d;var x=l.getCoordinate();return x.z===void 0||Number.isNaN(x.z)||(d+="Z"),x.m===void 0||Number.isNaN(x.m)||(d+="M"),d})(o);return s.length>0&&(t+=" "+s),o.isEmpty()?t+" "+Qi:t+" ("+e(o)+")"}var Es=(function(){return S((function o(t){p(this,o),this.geometryFactory=t||new ti,this.precisionModel=this.geometryFactory.getPrecisionModel()}),[{key:"read",value:function(o){var t=new Bn(o);return new Fe(t,this.geometryFactory).parse()}},{key:"write",value:function(o){return Ti(o)}}])})(),pr=(function(){return S((function o(t){p(this,o),this.parser=new Es(t)}),[{key:"write",value:function(o){return this.parser.write(o)}}],[{key:"toLineString",value:function(o,t){if(arguments.length!==2)throw new Error("Not implemented");return"LINESTRING ( "+o.x+" "+o.y+", "+t.x+" "+t.y+" )"}}])})(),xe=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"getIndexAlongSegment",value:function(t,e){return this.computeIntLineIndex(),this._intLineIndex[t][e]}},{key:"getTopologySummary",value:function(){var t=new Ie;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()}},{key:"computeIntersection",value:function(t,e,s,l){this._inputLines[0][0]=t,this._inputLines[0][1]=e,this._inputLines[1][0]=s,this._inputLines[1][1]=l,this._result=this.computeIntersect(t,e,s,l)}},{key:"getIntersectionNum",value:function(){return this._result}},{key:"computeIntLineIndex",value:function(){if(arguments.length===0)this._intLineIndex===null&&(this._intLineIndex=Array(2).fill().map((function(){return Array(2)})),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(arguments.length===1){var t=arguments[0];this.getEdgeDistance(t,0)>this.getEdgeDistance(t,1)?(this._intLineIndex[t][0]=0,this._intLineIndex[t][1]=1):(this._intLineIndex[t][0]=1,this._intLineIndex[t][1]=0)}}},{key:"isProper",value:function(){return this.hasIntersection()&&this._isProper}},{key:"setPrecisionModel",value:function(t){this._precisionModel=t}},{key:"isInteriorIntersection",value:function(){if(arguments.length===0)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(arguments.length===1){for(var t=arguments[0],e=0;e<this._result;e++)if(!this._intPt[e].equals2D(this._inputLines[t][0])&&!this._intPt[e].equals2D(this._inputLines[t][1]))return!0;return!1}}},{key:"getIntersection",value:function(t){return this._intPt[t]}},{key:"isEndPoint",value:function(){return this.hasIntersection()&&!this._isProper}},{key:"hasIntersection",value:function(){return this._result!==o.NO_INTERSECTION}},{key:"getEdgeDistance",value:function(t,e){return o.computeEdgeDistance(this._intPt[e],this._inputLines[t][0],this._inputLines[t][1])}},{key:"isCollinear",value:function(){return this._result===o.COLLINEAR_INTERSECTION}},{key:"toString",value:function(){return pr.toLineString(this._inputLines[0][0],this._inputLines[0][1])+" - "+pr.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}},{key:"getEndpoint",value:function(t,e){return this._inputLines[t][e]}},{key:"isIntersection",value:function(t){for(var e=0;e<this._result;e++)if(this._intPt[e].equals2D(t))return!0;return!1}},{key:"getIntersectionAlongSegment",value:function(t,e){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[t][e]]}}],[{key:"constructor_",value:function(){this._result=null,this._inputLines=Array(2).fill().map((function(){return Array(2)})),this._intPt=new Array(2).fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new Q,this._intPt[1]=new Q,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0}},{key:"computeEdgeDistance",value:function(t,e,s){var l=Math.abs(s.x-e.x),d=Math.abs(s.y-e.y),x=-1;if(t.equals(e))x=0;else if(t.equals(s))x=l>d?l:d;else{var E=Math.abs(t.x-e.x),N=Math.abs(t.y-e.y);(x=l>d?E:N)!==0||t.equals(e)||(x=Math.max(E,N))}return gt.isTrue(!(x===0&&!t.equals(e)),"Bad distance calculation"),x}},{key:"nonRobustComputeEdgeDistance",value:function(t,e,s){var l=t.x-e.x,d=t.y-e.y,x=Math.sqrt(l*l+d*d);return gt.isTrue(!(x===0&&!t.equals(e)),"Invalid distance calculation"),x}}])})();xe.DONT_INTERSECT=0,xe.DO_INTERSECT=1,xe.COLLINEAR=2,xe.NO_INTERSECTION=0,xe.POINT_INTERSECTION=1,xe.COLLINEAR_INTERSECTION=2;var Gn=(function(o){function t(){return p(this,t),y(this,t)}return D(t,o),S(t,[{key:"isInSegmentEnvelopes",value:function(e){var s=new ee(this._inputLines[0][0],this._inputLines[0][1]),l=new ee(this._inputLines[1][0],this._inputLines[1][1]);return s.contains(e)&&l.contains(e)}},{key:"computeIntersection",value:function(){if(arguments.length!==3)return rt(t,"computeIntersection",this,1).apply(this,arguments);var e=arguments[0],s=arguments[1],l=arguments[2];if(this._isProper=!1,ee.intersects(s,l,e)&&Wt.index(s,l,e)===0&&Wt.index(l,s,e)===0)return this._isProper=!0,(e.equals(s)||e.equals(l))&&(this._isProper=!1),this._result=xe.POINT_INTERSECTION,null;this._result=xe.NO_INTERSECTION}},{key:"intersection",value:function(e,s,l,d){var x=this.intersectionSafe(e,s,l,d);return this.isInSegmentEnvelopes(x)||(x=new Q(t.nearestEndpoint(e,s,l,d))),this._precisionModel!==null&&this._precisionModel.makePrecise(x),x}},{key:"checkDD",value:function(e,s,l,d,x){var E=gs.intersection(e,s,l,d),N=this.isInSegmentEnvelopes(E);fn.out.println("DD in env = "+N+"  --------------------- "+E),x.distance(E)>1e-4&&fn.out.println("Distance = "+x.distance(E))}},{key:"intersectionSafe",value:function(e,s,l,d){var x=Br.intersection(e,s,l,d);return x===null&&(x=t.nearestEndpoint(e,s,l,d)),x}},{key:"computeCollinearIntersection",value:function(e,s,l,d){var x=ee.intersects(e,s,l),E=ee.intersects(e,s,d),N=ee.intersects(l,d,e),M=ee.intersects(l,d,s);return x&&E?(this._intPt[0]=l,this._intPt[1]=d,xe.COLLINEAR_INTERSECTION):N&&M?(this._intPt[0]=e,this._intPt[1]=s,xe.COLLINEAR_INTERSECTION):x&&N?(this._intPt[0]=l,this._intPt[1]=e,!l.equals(e)||E||M?xe.COLLINEAR_INTERSECTION:xe.POINT_INTERSECTION):x&&M?(this._intPt[0]=l,this._intPt[1]=s,!l.equals(s)||E||N?xe.COLLINEAR_INTERSECTION:xe.POINT_INTERSECTION):E&&N?(this._intPt[0]=d,this._intPt[1]=e,!d.equals(e)||x||M?xe.COLLINEAR_INTERSECTION:xe.POINT_INTERSECTION):E&&M?(this._intPt[0]=d,this._intPt[1]=s,!d.equals(s)||x||N?xe.COLLINEAR_INTERSECTION:xe.POINT_INTERSECTION):xe.NO_INTERSECTION}},{key:"computeIntersect",value:function(e,s,l,d){if(this._isProper=!1,!ee.intersects(e,s,l,d))return xe.NO_INTERSECTION;var x=Wt.index(e,s,l),E=Wt.index(e,s,d);if(x>0&&E>0||x<0&&E<0)return xe.NO_INTERSECTION;var N=Wt.index(l,d,e),M=Wt.index(l,d,s);return N>0&&M>0||N<0&&M<0?xe.NO_INTERSECTION:x===0&&E===0&&N===0&&M===0?this.computeCollinearIntersection(e,s,l,d):(x===0||E===0||N===0||M===0?(this._isProper=!1,e.equals2D(l)||e.equals2D(d)?this._intPt[0]=e:s.equals2D(l)||s.equals2D(d)?this._intPt[0]=s:x===0?this._intPt[0]=new Q(l):E===0?this._intPt[0]=new Q(d):N===0?this._intPt[0]=new Q(e):M===0&&(this._intPt[0]=new Q(s))):(this._isProper=!0,this._intPt[0]=this.intersection(e,s,l,d)),xe.POINT_INTERSECTION)}}],[{key:"nearestEndpoint",value:function(e,s,l,d){var x=e,E=en.pointToSegment(e,l,d),N=en.pointToSegment(s,l,d);return N<E&&(E=N,x=s),(N=en.pointToSegment(l,e,s))<E&&(E=N,x=l),(N=en.pointToSegment(d,e,s))<E&&(E=N,x=d),x}}])})(xe),vr=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"countSegment",value:function(t,e){if(t.x<this._p.x&&e.x<this._p.x)return null;if(this._p.x===e.x&&this._p.y===e.y)return this._isPointOnSegment=!0,null;if(t.y===this._p.y&&e.y===this._p.y){var s=t.x,l=e.x;return s>l&&(s=e.x,l=t.x),this._p.x>=s&&this._p.x<=l&&(this._isPointOnSegment=!0),null}if(t.y>this._p.y&&e.y<=this._p.y||e.y>this._p.y&&t.y<=this._p.y){var d=Wt.index(t,e,this._p);if(d===Wt.COLLINEAR)return this._isPointOnSegment=!0,null;e.y<t.y&&(d=-d),d===Wt.LEFT&&this._crossingCount++}}},{key:"isPointInPolygon",value:function(){return this.getLocation()!==B.EXTERIOR}},{key:"getLocation",value:function(){return this._isPointOnSegment?B.BOUNDARY:this._crossingCount%2==1?B.INTERIOR:B.EXTERIOR}},{key:"isOnSegment",value:function(){return this._isPointOnSegment}}],[{key:"constructor_",value:function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;var t=arguments[0];this._p=t}},{key:"locatePointInRing",value:function(){if(arguments[0]instanceof Q&&ne(arguments[1],oe)){for(var t=arguments[1],e=new o(arguments[0]),s=new Q,l=new Q,d=1;d<t.size();d++)if(t.getCoordinate(d,s),t.getCoordinate(d-1,l),e.countSegment(s,l),e.isOnSegment())return e.getLocation();return e.getLocation()}if(arguments[0]instanceof Q&&arguments[1]instanceof Array){for(var x=arguments[1],E=new o(arguments[0]),N=1;N<x.length;N++){var M=x[N],tt=x[N-1];if(E.countSegment(M,tt),E.isOnSegment())return E.getLocation()}return E.getLocation()}}}])})(),xn=(function(){function o(){p(this,o)}return S(o,null,[{key:"isOnLine",value:function(){if(arguments[0]instanceof Q&&ne(arguments[1],oe)){for(var t=arguments[0],e=arguments[1],s=new Gn,l=new Q,d=new Q,x=e.size(),E=1;E<x;E++)if(e.getCoordinate(E-1,l),e.getCoordinate(E,d),s.computeIntersection(t,l,d),s.hasIntersection())return!0;return!1}if(arguments[0]instanceof Q&&arguments[1]instanceof Array){for(var N=arguments[0],M=arguments[1],tt=new Gn,ot=1;ot<M.length;ot++){var mt=M[ot-1],Ot=M[ot];if(tt.computeIntersection(N,mt,Ot),tt.hasIntersection())return!0}return!1}}},{key:"locateInRing",value:function(t,e){return vr.locatePointInRing(t,e)}},{key:"isInRing",value:function(t,e){return o.locateInRing(t,e)!==B.EXTERIOR}}])})(),Be=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"setAllLocations",value:function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t}},{key:"isNull",value:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==B.NONE)return!1;return!0}},{key:"setAllLocationsIfNull",value:function(t){for(var e=0;e<this.location.length;e++)this.location[e]===B.NONE&&(this.location[e]=t)}},{key:"isLine",value:function(){return this.location.length===1}},{key:"merge",value:function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[Lt.ON]=this.location[Lt.ON],e[Lt.LEFT]=B.NONE,e[Lt.RIGHT]=B.NONE,this.location=e}for(var s=0;s<this.location.length;s++)this.location[s]===B.NONE&&s<t.location.length&&(this.location[s]=t.location[s])}},{key:"getLocations",value:function(){return this.location}},{key:"flip",value:function(){if(this.location.length<=1)return null;var t=this.location[Lt.LEFT];this.location[Lt.LEFT]=this.location[Lt.RIGHT],this.location[Lt.RIGHT]=t}},{key:"toString",value:function(){var t=new hr;return this.location.length>1&&t.append(B.toLocationSymbol(this.location[Lt.LEFT])),t.append(B.toLocationSymbol(this.location[Lt.ON])),this.location.length>1&&t.append(B.toLocationSymbol(this.location[Lt.RIGHT])),t.toString()}},{key:"setLocations",value:function(t,e,s){this.location[Lt.ON]=t,this.location[Lt.LEFT]=e,this.location[Lt.RIGHT]=s}},{key:"get",value:function(t){return t<this.location.length?this.location[t]:B.NONE}},{key:"isArea",value:function(){return this.location.length>1}},{key:"isAnyNull",value:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===B.NONE)return!0;return!1}},{key:"setLocation",value:function(){if(arguments.length===1){var t=arguments[0];this.setLocation(Lt.ON,t)}else if(arguments.length===2){var e=arguments[0],s=arguments[1];this.location[e]=s}}},{key:"init",value:function(t){this.location=new Array(t).fill(null),this.setAllLocations(B.NONE)}},{key:"isEqualOnSide",value:function(t,e){return this.location[e]===t.location[e]}},{key:"allPositionsEqual",value:function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0}}],[{key:"constructor_",value:function(){if(this.location=null,arguments.length===1){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.init(1),this.location[Lt.ON]=e}else if(arguments[0]instanceof o){var s=arguments[0];if(this.init(s.location.length),s!==null)for(var l=0;l<this.location.length;l++)this.location[l]=s.location[l]}}else if(arguments.length===3){var d=arguments[0],x=arguments[1],E=arguments[2];this.init(3),this.location[Lt.ON]=d,this.location[Lt.LEFT]=x,this.location[Lt.RIGHT]=E}}}])})(),Ae=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"getGeometryCount",value:function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t}},{key:"setAllLocations",value:function(t,e){this.elt[t].setAllLocations(e)}},{key:"isNull",value:function(t){return this.elt[t].isNull()}},{key:"setAllLocationsIfNull",value:function(){if(arguments.length===1){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(arguments.length===2){var e=arguments[0],s=arguments[1];this.elt[e].setAllLocationsIfNull(s)}}},{key:"isLine",value:function(t){return this.elt[t].isLine()}},{key:"merge",value:function(t){for(var e=0;e<2;e++)this.elt[e]===null&&t.elt[e]!==null?this.elt[e]=new Be(t.elt[e]):this.elt[e].merge(t.elt[e])}},{key:"flip",value:function(){this.elt[0].flip(),this.elt[1].flip()}},{key:"getLocation",value:function(){if(arguments.length===1){var t=arguments[0];return this.elt[t].get(Lt.ON)}if(arguments.length===2){var e=arguments[0],s=arguments[1];return this.elt[e].get(s)}}},{key:"toString",value:function(){var t=new hr;return this.elt[0]!==null&&(t.append("A:"),t.append(this.elt[0].toString())),this.elt[1]!==null&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()}},{key:"isArea",value:function(){if(arguments.length===0)return this.elt[0].isArea()||this.elt[1].isArea();if(arguments.length===1){var t=arguments[0];return this.elt[t].isArea()}}},{key:"isAnyNull",value:function(t){return this.elt[t].isAnyNull()}},{key:"setLocation",value:function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(Lt.ON,e)}else if(arguments.length===3){var s=arguments[0],l=arguments[1],d=arguments[2];this.elt[s].setLocation(l,d)}}},{key:"isEqualOnSide",value:function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)}},{key:"allPositionsEqual",value:function(t,e){return this.elt[t].allPositionsEqual(e)}},{key:"toLine",value:function(t){this.elt[t].isArea()&&(this.elt[t]=new Be(this.elt[t].location[0]))}}],[{key:"constructor_",value:function(){if(this.elt=new Array(2).fill(null),arguments.length===1){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new Be(t),this.elt[1]=new Be(t)}else if(arguments[0]instanceof o){var e=arguments[0];this.elt[0]=new Be(e.elt[0]),this.elt[1]=new Be(e.elt[1])}}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.elt[0]=new Be(B.NONE),this.elt[1]=new Be(B.NONE),this.elt[s].setLocation(l)}else if(arguments.length===3){var d=arguments[0],x=arguments[1],E=arguments[2];this.elt[0]=new Be(d,x,E),this.elt[1]=new Be(d,x,E)}else if(arguments.length===4){var N=arguments[0],M=arguments[1],tt=arguments[2],ot=arguments[3];this.elt[0]=new Be(B.NONE,B.NONE,B.NONE),this.elt[1]=new Be(B.NONE,B.NONE,B.NONE),this.elt[N].setLocations(M,tt,ot)}}},{key:"toLineLabel",value:function(t){for(var e=new o(B.NONE),s=0;s<2;s++)e.setLocation(s,t.getLocation(s));return e}}])})(),Ci=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"computeRing",value:function(){if(this._ring!==null)return null;for(var o=new Array(this._pts.size()).fill(null),t=0;t<this._pts.size();t++)o[t]=this._pts.get(t);this._ring=this._geometryFactory.createLinearRing(o),this._isHole=Wt.isCCW(this._ring.getCoordinates())}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"computePoints",value:function(o){this._startDe=o;var t=o,e=!0;do{if(t===null)throw new bn("Found null DirectedEdge");if(t.getEdgeRing()===this)throw new bn("Directed Edge visited twice during ring-building at "+t.getCoordinate());this._edges.add(t);var s=t.getLabel();gt.isTrue(s.isArea()),this.mergeLabel(s),this.addPoints(t.getEdge(),t.isForward(),e),e=!1,this.setEdgeRing(t,this),t=this.getNext(t)}while(t!==this._startDe)}},{key:"getLinearRing",value:function(){return this._ring}},{key:"getCoordinate",value:function(o){return this._pts.get(o)}},{key:"computeMaxNodeDegree",value:function(){this._maxNodeDegree=0;var o=this._startDe;do{var t=o.getNode().getEdges().getOutgoingDegree(this);t>this._maxNodeDegree&&(this._maxNodeDegree=t),o=this.getNext(o)}while(o!==this._startDe);this._maxNodeDegree*=2}},{key:"addPoints",value:function(o,t,e){var s=o.getCoordinates();if(t){var l=1;e&&(l=0);for(var d=l;d<s.length;d++)this._pts.add(s[d])}else{var x=s.length-2;e&&(x=s.length-1);for(var E=x;E>=0;E--)this._pts.add(s[E])}}},{key:"isHole",value:function(){return this._isHole}},{key:"setInResult",value:function(){var o=this._startDe;do o.getEdge().setInResult(!0),o=o.getNext();while(o!==this._startDe)}},{key:"containsPoint",value:function(o){var t=this.getLinearRing();if(!t.getEnvelopeInternal().contains(o)||!xn.isInRing(o,t.getCoordinates()))return!1;for(var e=this._holes.iterator();e.hasNext();)if(e.next().containsPoint(o))return!1;return!0}},{key:"addHole",value:function(o){this._holes.add(o)}},{key:"isShell",value:function(){return this._shell===null}},{key:"getLabel",value:function(){return this._label}},{key:"getEdges",value:function(){return this._edges}},{key:"getMaxNodeDegree",value:function(){return this._maxNodeDegree<0&&this.computeMaxNodeDegree(),this._maxNodeDegree}},{key:"getShell",value:function(){return this._shell}},{key:"mergeLabel",value:function(){if(arguments.length===1){var o=arguments[0];this.mergeLabel(o,0),this.mergeLabel(o,1)}else if(arguments.length===2){var t=arguments[1],e=arguments[0].getLocation(t,Lt.RIGHT);if(e===B.NONE)return null;if(this._label.getLocation(t)===B.NONE)return this._label.setLocation(t,e),null}}},{key:"setShell",value:function(o){this._shell=o,o!==null&&o.addHole(this)}},{key:"toPolygon",value:function(o){for(var t=new Array(this._holes.size()).fill(null),e=0;e<this._holes.size();e++)t[e]=this._holes.get(e).getLinearRing();return o.createPolygon(this.getLinearRing(),t)}}],[{key:"constructor_",value:function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new Xt,this._pts=new Xt,this._label=new Ae(B.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new Xt,this._geometryFactory=null,arguments.length!==0){if(arguments.length===2){var o=arguments[0],t=arguments[1];this._geometryFactory=t,this.computePoints(o),this.computeRing()}}}}])})(),Jt=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"setEdgeRing",value:function(e,s){e.setMinEdgeRing(s)}},{key:"getNext",value:function(e){return e.getNextMin()}}],[{key:"constructor_",value:function(){var e=arguments[0],s=arguments[1];Ci.constructor_.call(this,e,s)}}])})(Ci),Je=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"buildMinimalRings",value:function(){var e=new Xt,s=this._startDe;do{if(s.getMinEdgeRing()===null){var l=new Jt(s,this._geometryFactory);e.add(l)}s=s.getNext()}while(s!==this._startDe);return e}},{key:"setEdgeRing",value:function(e,s){e.setEdgeRing(s)}},{key:"linkDirectedEdgesForMinimalEdgeRings",value:function(){var e=this._startDe;do e.getNode().getEdges().linkMinimalDirectedEdges(this),e=e.getNext();while(e!==this._startDe)}},{key:"getNext",value:function(e){return e.getNext()}}],[{key:"constructor_",value:function(){var e=arguments[0],s=arguments[1];Ci.constructor_.call(this,e,s)}}])})(Ci),Ee=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"setVisited",value:function(o){this._isVisited=o}},{key:"setInResult",value:function(o){this._isInResult=o}},{key:"isCovered",value:function(){return this._isCovered}},{key:"isCoveredSet",value:function(){return this._isCoveredSet}},{key:"setLabel",value:function(o){this._label=o}},{key:"getLabel",value:function(){return this._label}},{key:"setCovered",value:function(o){this._isCovered=o,this._isCoveredSet=!0}},{key:"updateIM",value:function(o){gt.isTrue(this._label.getGeometryCount()>=2,"found partial label"),this.computeIM(o)}},{key:"isInResult",value:function(){return this._isInResult}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,arguments.length!==0){if(arguments.length===1){var o=arguments[0];this._label=o}}}}])})(),_r=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"isIncidentEdgeInResult",value:function(){for(var e=this.getEdges().getEdges().iterator();e.hasNext();)if(e.next().getEdge().isInResult())return!0;return!1}},{key:"isIsolated",value:function(){return this._label.getGeometryCount()===1}},{key:"getCoordinate",value:function(){return this._coord}},{key:"print",value:function(e){e.println("node "+this._coord+" lbl: "+this._label)}},{key:"computeIM",value:function(e){}},{key:"computeMergedLocation",value:function(e,s){var l=B.NONE;if(l=this._label.getLocation(s),!e.isNull(s)){var d=e.getLocation(s);l!==B.BOUNDARY&&(l=d)}return l}},{key:"setLabel",value:function(){if(arguments.length!==2||!Number.isInteger(arguments[1])||!Number.isInteger(arguments[0]))return rt(t,"setLabel",this,1).apply(this,arguments);var e=arguments[0],s=arguments[1];this._label===null?this._label=new Ae(e,s):this._label.setLocation(e,s)}},{key:"getEdges",value:function(){return this._edges}},{key:"mergeLabel",value:function(){if(arguments[0]instanceof t){var e=arguments[0];this.mergeLabel(e._label)}else if(arguments[0]instanceof Ae)for(var s=arguments[0],l=0;l<2;l++){var d=this.computeMergedLocation(s,l);this._label.getLocation(l)===B.NONE&&this._label.setLocation(l,d)}}},{key:"add",value:function(e){this._edges.insert(e),e.setNode(this)}},{key:"setLabelBoundary",value:function(e){if(this._label===null)return null;var s=B.NONE;this._label!==null&&(s=this._label.getLocation(e));var l=null;switch(s){case B.BOUNDARY:l=B.INTERIOR;break;case B.INTERIOR:default:l=B.BOUNDARY}this._label.setLocation(e,l)}}],[{key:"constructor_",value:function(){this._coord=null,this._edges=null;var e=arguments[0],s=arguments[1];this._coord=e,this._edges=s,this._label=new Ae(0,B.NONE)}}])})(Ee),tr=(function(o){function t(){return p(this,t),y(this,t,arguments)}return D(t,o),S(t)})(Yr);function Ss(o){return o==null?0:o.color}function fe(o){return o==null?null:o.parent}function Ue(o,t){o!==null&&(o.color=t)}function yr(o){return o==null?null:o.left}function xr(o){return o==null?null:o.right}var Le=(function(o){function t(){var e;return p(this,t),(e=y(this,t)).root_=null,e.size_=0,e}return D(t,o),S(t,[{key:"get",value:function(e){for(var s=this.root_;s!==null;){var l=e.compareTo(s.key);if(l<0)s=s.left;else{if(!(l>0))return s.value;s=s.right}}return null}},{key:"put",value:function(e,s){if(this.root_===null)return this.root_={key:e,value:s,left:null,right:null,parent:null,color:0,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var l,d,x=this.root_;do if(l=x,(d=e.compareTo(x.key))<0)x=x.left;else{if(!(d>0)){var E=x.value;return x.value=s,E}x=x.right}while(x!==null);var N={key:e,left:null,right:null,value:s,parent:l,color:0,getValue:function(){return this.value},getKey:function(){return this.key}};return d<0?l.left=N:l.right=N,this.fixAfterInsertion(N),this.size_++,null}},{key:"fixAfterInsertion",value:function(e){var s;for(e.color=1;e!=null&&e!==this.root_&&e.parent.color===1;)fe(e)===yr(fe(fe(e)))?Ss(s=xr(fe(fe(e))))===1?(Ue(fe(e),0),Ue(s,0),Ue(fe(fe(e)),1),e=fe(fe(e))):(e===xr(fe(e))&&(e=fe(e),this.rotateLeft(e)),Ue(fe(e),0),Ue(fe(fe(e)),1),this.rotateRight(fe(fe(e)))):Ss(s=yr(fe(fe(e))))===1?(Ue(fe(e),0),Ue(s,0),Ue(fe(fe(e)),1),e=fe(fe(e))):(e===yr(fe(e))&&(e=fe(e),this.rotateRight(e)),Ue(fe(e),0),Ue(fe(fe(e)),1),this.rotateLeft(fe(fe(e))));this.root_.color=0}},{key:"values",value:function(){var e=new Xt,s=this.getFirstEntry();if(s!==null)for(e.add(s.value);(s=t.successor(s))!==null;)e.add(s.value);return e}},{key:"entrySet",value:function(){var e=new Hi,s=this.getFirstEntry();if(s!==null)for(e.add(s);(s=t.successor(s))!==null;)e.add(s);return e}},{key:"rotateLeft",value:function(e){if(e!=null){var s=e.right;e.right=s.left,s.left!=null&&(s.left.parent=e),s.parent=e.parent,e.parent==null?this.root_=s:e.parent.left===e?e.parent.left=s:e.parent.right=s,s.left=e,e.parent=s}}},{key:"rotateRight",value:function(e){if(e!=null){var s=e.left;e.left=s.right,s.right!=null&&(s.right.parent=e),s.parent=e.parent,e.parent==null?this.root_=s:e.parent.right===e?e.parent.right=s:e.parent.left=s,s.right=e,e.parent=s}}},{key:"getFirstEntry",value:function(){var e=this.root_;if(e!=null)for(;e.left!=null;)e=e.left;return e}},{key:"size",value:function(){return this.size_}},{key:"containsKey",value:function(e){for(var s=this.root_;s!==null;){var l=e.compareTo(s.key);if(l<0)s=s.left;else{if(!(l>0))return!0;s=s.right}}return!1}}],[{key:"successor",value:function(e){var s;if(e===null)return null;if(e.right!==null){for(s=e.right;s.left!==null;)s=s.left;return s}s=e.parent;for(var l=e;s!==null&&l===s.right;)l=s,s=s.parent;return s}}])})(tr),Nn=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"find",value:function(o){return this.nodeMap.get(o)}},{key:"addNode",value:function(){if(arguments[0]instanceof Q){var o=arguments[0],t=this.nodeMap.get(o);return t===null&&(t=this.nodeFact.createNode(o),this.nodeMap.put(o,t)),t}if(arguments[0]instanceof _r){var e=arguments[0],s=this.nodeMap.get(e.getCoordinate());return s===null?(this.nodeMap.put(e.getCoordinate(),e),e):(s.mergeLabel(e),s)}}},{key:"print",value:function(o){for(var t=this.iterator();t.hasNext();)t.next().print(o)}},{key:"iterator",value:function(){return this.nodeMap.values().iterator()}},{key:"values",value:function(){return this.nodeMap.values()}},{key:"getBoundaryNodes",value:function(o){for(var t=new Xt,e=this.iterator();e.hasNext();){var s=e.next();s.getLabel().getLocation(o)===B.BOUNDARY&&t.add(s)}return t}},{key:"add",value:function(o){var t=o.getCoordinate();this.addNode(t).add(o)}}],[{key:"constructor_",value:function(){this.nodeMap=new Le,this.nodeFact=null;var o=arguments[0];this.nodeFact=o}}])})(),De=(function(){function o(){p(this,o)}return S(o,null,[{key:"isNorthern",value:function(t){return t===o.NE||t===o.NW}},{key:"isOpposite",value:function(t,e){return t!==e&&(t-e+4)%4===2}},{key:"commonHalfPlane",value:function(t,e){if(t===e)return t;if((t-e+4)%4===2)return-1;var s=t<e?t:e;return s===0&&(t>e?t:e)===3?3:s}},{key:"isInHalfPlane",value:function(t,e){return e===o.SE?t===o.SE||t===o.SW:t===e||t===e+1}},{key:"quadrant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],e=arguments[1];if(t===0&&e===0)throw new Ct("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?o.NE:o.SE:e>=0?o.NW:o.SW}if(arguments[0]instanceof Q&&arguments[1]instanceof Q){var s=arguments[0],l=arguments[1];if(l.x===s.x&&l.y===s.y)throw new Ct("Cannot compute the quadrant for two identical points "+s);return l.x>=s.x?l.y>=s.y?o.NE:o.SE:l.y>=s.y?o.NW:o.SW}}}])})();De.NE=0,De.NW=1,De.SW=2,De.SE=3;var kr=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"compareDirection",value:function(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:Wt.index(t._p0,t._p1,this._p1)}},{key:"getDy",value:function(){return this._dy}},{key:"getCoordinate",value:function(){return this._p0}},{key:"setNode",value:function(t){this._node=t}},{key:"print",value:function(t){var e=Math.atan2(this._dy,this._dx),s=this.getClass().getName(),l=s.lastIndexOf("."),d=s.substring(l+1);t.print("  "+d+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+e+"   "+this._label)}},{key:"compareTo",value:function(t){var e=t;return this.compareDirection(e)}},{key:"getDirectedCoordinate",value:function(){return this._p1}},{key:"getDx",value:function(){return this._dx}},{key:"getLabel",value:function(){return this._label}},{key:"getEdge",value:function(){return this._edge}},{key:"getQuadrant",value:function(){return this._quadrant}},{key:"getNode",value:function(){return this._node}},{key:"toString",value:function(){var t=Math.atan2(this._dy,this._dx),e=this.getClass().getName(),s=e.lastIndexOf(".");return"  "+e.substring(s+1)+": "+this._p0+" - "+this._p1+" "+this._quadrant+":"+t+"   "+this._label}},{key:"computeLabel",value:function(t){}},{key:"init",value:function(t,e){this._p0=t,this._p1=e,this._dx=e.x-t.x,this._dy=e.y-t.y,this._quadrant=De.quadrant(this._dx,this._dy),gt.isTrue(!(this._dx===0&&this._dy===0),"EdgeEnd with identical endpoints found")}},{key:"interfaces_",get:function(){return[Rt]}}],[{key:"constructor_",value:function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,arguments.length===1){var t=arguments[0];this._edge=t}else if(arguments.length===3){var e=arguments[0],s=arguments[1],l=arguments[2];o.constructor_.call(this,e,s,l,null)}else if(arguments.length===4){var d=arguments[0],x=arguments[1],E=arguments[2],N=arguments[3];o.constructor_.call(this,d),this.init(x,E),this._label=N}}}])})(),oo=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"getNextMin",value:function(){return this._nextMin}},{key:"getDepth",value:function(e){return this._depth[e]}},{key:"setVisited",value:function(e){this._isVisited=e}},{key:"computeDirectedLabel",value:function(){this._label=new Ae(this._edge.getLabel()),this._isForward||this._label.flip()}},{key:"getNext",value:function(){return this._next}},{key:"setDepth",value:function(e,s){if(this._depth[e]!==-999&&this._depth[e]!==s)throw new bn("assigned depths do not match",this.getCoordinate());this._depth[e]=s}},{key:"isInteriorAreaEdge",value:function(){for(var e=!0,s=0;s<2;s++)this._label.isArea(s)&&this._label.getLocation(s,Lt.LEFT)===B.INTERIOR&&this._label.getLocation(s,Lt.RIGHT)===B.INTERIOR||(e=!1);return e}},{key:"setNextMin",value:function(e){this._nextMin=e}},{key:"print",value:function(e){rt(t,"print",this,1).call(this,e),e.print(" "+this._depth[Lt.LEFT]+"/"+this._depth[Lt.RIGHT]),e.print(" ("+this.getDepthDelta()+")"),this._isInResult&&e.print(" inResult")}},{key:"setMinEdgeRing",value:function(e){this._minEdgeRing=e}},{key:"isLineEdge",value:function(){var e=this._label.isLine(0)||this._label.isLine(1),s=!this._label.isArea(0)||this._label.allPositionsEqual(0,B.EXTERIOR),l=!this._label.isArea(1)||this._label.allPositionsEqual(1,B.EXTERIOR);return e&&s&&l}},{key:"setEdgeRing",value:function(e){this._edgeRing=e}},{key:"getMinEdgeRing",value:function(){return this._minEdgeRing}},{key:"getDepthDelta",value:function(){var e=this._edge.getDepthDelta();return this._isForward||(e=-e),e}},{key:"setInResult",value:function(e){this._isInResult=e}},{key:"getSym",value:function(){return this._sym}},{key:"isForward",value:function(){return this._isForward}},{key:"getEdge",value:function(){return this._edge}},{key:"printEdge",value:function(e){this.print(e),e.print(" "),this._isForward?this._edge.print(e):this._edge.printReverse(e)}},{key:"setSym",value:function(e){this._sym=e}},{key:"setVisitedEdge",value:function(e){this.setVisited(e),this._sym.setVisited(e)}},{key:"setEdgeDepths",value:function(e,s){var l=this.getEdge().getDepthDelta();this._isForward||(l=-l);var d=1;e===Lt.LEFT&&(d=-1);var x=Lt.opposite(e),E=s+l*d;this.setDepth(e,s),this.setDepth(x,E)}},{key:"getEdgeRing",value:function(){return this._edgeRing}},{key:"isInResult",value:function(){return this._isInResult}},{key:"setNext",value:function(e){this._next=e}},{key:"isVisited",value:function(){return this._isVisited}}],[{key:"constructor_",value:function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];var e=arguments[0],s=arguments[1];if(kr.constructor_.call(this,e),this._isForward=s,s)this.init(e.getCoordinate(0),e.getCoordinate(1));else{var l=e.getNumPoints()-1;this.init(e.getCoordinate(l),e.getCoordinate(l-1))}this.computeDirectedLabel()}},{key:"depthFactor",value:function(e,s){return e===B.EXTERIOR&&s===B.INTERIOR?1:e===B.INTERIOR&&s===B.EXTERIOR?-1:0}}])})(kr),ao=(function(){return S((function o(){p(this,o)}),[{key:"createNode",value:function(o){return new _r(o,null)}}])})(),wr=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"printEdges",value:function(o){o.println("Edges:");for(var t=0;t<this._edges.size();t++){o.println("edge "+t+":");var e=this._edges.get(t);e.print(o),e.eiList.print(o)}}},{key:"find",value:function(o){return this._nodes.find(o)}},{key:"addNode",value:function(){if(arguments[0]instanceof _r){var o=arguments[0];return this._nodes.addNode(o)}if(arguments[0]instanceof Q){var t=arguments[0];return this._nodes.addNode(t)}}},{key:"getNodeIterator",value:function(){return this._nodes.iterator()}},{key:"linkResultDirectedEdges",value:function(){for(var o=this._nodes.iterator();o.hasNext();)o.next().getEdges().linkResultDirectedEdges()}},{key:"debugPrintln",value:function(o){fn.out.println(o)}},{key:"isBoundaryNode",value:function(o,t){var e=this._nodes.find(t);if(e===null)return!1;var s=e.getLabel();return s!==null&&s.getLocation(o)===B.BOUNDARY}},{key:"linkAllDirectedEdges",value:function(){for(var o=this._nodes.iterator();o.hasNext();)o.next().getEdges().linkAllDirectedEdges()}},{key:"matchInSameDirection",value:function(o,t,e,s){return!!o.equals(e)&&Wt.index(o,t,s)===Wt.COLLINEAR&&De.quadrant(o,t)===De.quadrant(e,s)}},{key:"getEdgeEnds",value:function(){return this._edgeEndList}},{key:"debugPrint",value:function(o){fn.out.print(o)}},{key:"getEdgeIterator",value:function(){return this._edges.iterator()}},{key:"findEdgeInSameDirection",value:function(o,t){for(var e=0;e<this._edges.size();e++){var s=this._edges.get(e),l=s.getCoordinates();if(this.matchInSameDirection(o,t,l[0],l[1])||this.matchInSameDirection(o,t,l[l.length-1],l[l.length-2]))return s}return null}},{key:"insertEdge",value:function(o){this._edges.add(o)}},{key:"findEdgeEnd",value:function(o){for(var t=this.getEdgeEnds().iterator();t.hasNext();){var e=t.next();if(e.getEdge()===o)return e}return null}},{key:"addEdges",value:function(o){for(var t=o.iterator();t.hasNext();){var e=t.next();this._edges.add(e);var s=new oo(e,!0),l=new oo(e,!1);s.setSym(l),l.setSym(s),this.add(s),this.add(l)}}},{key:"add",value:function(o){this._nodes.add(o),this._edgeEndList.add(o)}},{key:"getNodes",value:function(){return this._nodes.values()}},{key:"findEdge",value:function(o,t){for(var e=0;e<this._edges.size();e++){var s=this._edges.get(e),l=s.getCoordinates();if(o.equals(l[0])&&t.equals(l[1]))return s}return null}}],[{key:"constructor_",value:function(){if(this._edges=new Xt,this._nodes=null,this._edgeEndList=new Xt,arguments.length===0)this._nodes=new Nn(new ao);else if(arguments.length===1){var o=arguments[0];this._nodes=new Nn(o)}}},{key:"linkResultDirectedEdges",value:function(o){for(var t=o.iterator();t.hasNext();)t.next().getEdges().linkResultDirectedEdges()}}])})(),Ls=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"sortShellsAndHoles",value:function(t,e,s){for(var l=t.iterator();l.hasNext();){var d=l.next();d.isHole()?s.add(d):e.add(d)}}},{key:"computePolygons",value:function(t){for(var e=new Xt,s=t.iterator();s.hasNext();){var l=s.next().toPolygon(this._geometryFactory);e.add(l)}return e}},{key:"placeFreeHoles",value:function(t,e){for(var s=e.iterator();s.hasNext();){var l=s.next();if(l.getShell()===null){var d=o.findEdgeRingContaining(l,t);if(d===null)throw new bn("unable to assign hole to a shell",l.getCoordinate(0));l.setShell(d)}}}},{key:"buildMinimalEdgeRings",value:function(t,e,s){for(var l=new Xt,d=t.iterator();d.hasNext();){var x=d.next();if(x.getMaxNodeDegree()>2){x.linkDirectedEdgesForMinimalEdgeRings();var E=x.buildMinimalRings(),N=this.findShell(E);N!==null?(this.placePolygonHoles(N,E),e.add(N)):s.addAll(E)}else l.add(x)}return l}},{key:"buildMaximalEdgeRings",value:function(t){for(var e=new Xt,s=t.iterator();s.hasNext();){var l=s.next();if(l.isInResult()&&l.getLabel().isArea()&&l.getEdgeRing()===null){var d=new Je(l,this._geometryFactory);e.add(d),d.setInResult()}}return e}},{key:"placePolygonHoles",value:function(t,e){for(var s=e.iterator();s.hasNext();){var l=s.next();l.isHole()&&l.setShell(t)}}},{key:"getPolygons",value:function(){return this.computePolygons(this._shellList)}},{key:"findShell",value:function(t){for(var e=0,s=null,l=t.iterator();l.hasNext();){var d=l.next();d.isHole()||(s=d,e++)}return gt.isTrue(e<=1,"found two shells in MinimalEdgeRing list"),s}},{key:"add",value:function(){if(arguments.length===1){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(arguments.length===2){var e=arguments[0],s=arguments[1];wr.linkResultDirectedEdges(s);var l=this.buildMaximalEdgeRings(e),d=new Xt,x=this.buildMinimalEdgeRings(l,this._shellList,d);this.sortShellsAndHoles(x,this._shellList,d),this.placeFreeHoles(this._shellList,d)}}}],[{key:"constructor_",value:function(){this._geometryFactory=null,this._shellList=new Xt;var t=arguments[0];this._geometryFactory=t}},{key:"findEdgeRingContaining",value:function(t,e){for(var s=t.getLinearRing(),l=s.getEnvelopeInternal(),d=s.getCoordinateN(0),x=null,E=null,N=e.iterator();N.hasNext();){var M=N.next(),tt=M.getLinearRing(),ot=tt.getEnvelopeInternal();if(!ot.equals(l)&&ot.contains(l)){d=Me.ptNotInList(s.getCoordinates(),tt.getCoordinates());var mt=!1;xn.isInRing(d,tt.getCoordinates())&&(mt=!0),mt&&(x===null||E.contains(ot))&&(E=(x=M).getLinearRing().getEnvelopeInternal())}}return x}}])})(),Vr=(function(){return S((function o(){p(this,o)}),[{key:"getBounds",value:function(){}}])})(),ie=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"getItem",value:function(){return this._item}},{key:"getBounds",value:function(){return this._bounds}},{key:"interfaces_",get:function(){return[Vr,O]}}],[{key:"constructor_",value:function(){this._bounds=null,this._item=null;var o=arguments[0],t=arguments[1];this._bounds=o,this._item=t}}])})(),Zn=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"poll",value:function(){if(this.isEmpty())return null;var o=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),o}},{key:"size",value:function(){return this._size}},{key:"reorder",value:function(o){for(var t=null,e=this._items.get(o);2*o<=this._size&&((t=2*o)!==this._size&&this._items.get(t+1).compareTo(this._items.get(t))<0&&t++,this._items.get(t).compareTo(e)<0);o=t)this._items.set(o,this._items.get(t));this._items.set(o,e)}},{key:"clear",value:function(){this._size=0,this._items.clear()}},{key:"peek",value:function(){return this.isEmpty()?null:this._items.get(1)}},{key:"isEmpty",value:function(){return this._size===0}},{key:"add",value:function(o){this._items.add(null),this._size+=1;var t=this._size;for(this._items.set(0,o);o.compareTo(this._items.get(Math.trunc(t/2)))<0;t/=2)this._items.set(t,this._items.get(Math.trunc(t/2)));this._items.set(t,o)}}],[{key:"constructor_",value:function(){this._size=null,this._items=null,this._size=0,this._items=new Xt,this._items.add(null)}}])})(),kn=(function(){return S((function o(){p(this,o)}),[{key:"insert",value:function(o,t){}},{key:"remove",value:function(o,t){}},{key:"query",value:function(){}}])})(),qe=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"getLevel",value:function(){return this._level}},{key:"size",value:function(){return this._childBoundables.size()}},{key:"getChildBoundables",value:function(){return this._childBoundables}},{key:"addChildBoundable",value:function(o){gt.isTrue(this._bounds===null),this._childBoundables.add(o)}},{key:"isEmpty",value:function(){return this._childBoundables.isEmpty()}},{key:"getBounds",value:function(){return this._bounds===null&&(this._bounds=this.computeBounds()),this._bounds}},{key:"interfaces_",get:function(){return[Vr,O]}}],[{key:"constructor_",value:function(){if(this._childBoundables=new Xt,this._bounds=null,this._level=null,arguments.length!==0){if(arguments.length===1){var o=arguments[0];this._level=o}}}}])})(),Pi={reverseOrder:function(){return{compare:function(o,t){return t.compareTo(o)}}},min:function(o){return Pi.sort(o),o.get(0)},sort:function(o,t){var e=o.toArray();t?be.sort(e,t):be.sort(e);for(var s=o.iterator(),l=0,d=e.length;l<d;l++)s.next(),s.set(e[l])},singletonList:function(o){var t=new Xt;return t.add(o),t}},Is=(function(){function o(){p(this,o)}return S(o,null,[{key:"maxDistance",value:function(t,e,s,l,d,x,E,N){var M=o.distance(t,e,d,x);return M=Math.max(M,o.distance(t,e,E,N)),M=Math.max(M,o.distance(s,l,d,x)),M=Math.max(M,o.distance(s,l,E,N))}},{key:"distance",value:function(t,e,s,l){var d=s-t,x=l-e;return Math.sqrt(d*d+x*x)}},{key:"maximumDistance",value:function(t,e){var s=Math.min(t.getMinX(),e.getMinX()),l=Math.min(t.getMinY(),e.getMinY()),d=Math.max(t.getMaxX(),e.getMaxX()),x=Math.max(t.getMaxY(),e.getMaxY());return o.distance(s,l,d,x)}},{key:"minMaxDistance",value:function(t,e){var s=t.getMinX(),l=t.getMinY(),d=t.getMaxX(),x=t.getMaxY(),E=e.getMinX(),N=e.getMinY(),M=e.getMaxX(),tt=e.getMaxY(),ot=o.maxDistance(s,l,s,x,E,N,E,tt);return ot=Math.min(ot,o.maxDistance(s,l,s,x,E,N,M,N)),ot=Math.min(ot,o.maxDistance(s,l,s,x,M,tt,E,tt)),ot=Math.min(ot,o.maxDistance(s,l,s,x,M,tt,M,N)),ot=Math.min(ot,o.maxDistance(s,l,d,l,E,N,E,tt)),ot=Math.min(ot,o.maxDistance(s,l,d,l,E,N,M,N)),ot=Math.min(ot,o.maxDistance(s,l,d,l,M,tt,E,tt)),ot=Math.min(ot,o.maxDistance(s,l,d,l,M,tt,M,N)),ot=Math.min(ot,o.maxDistance(d,x,s,x,E,N,E,tt)),ot=Math.min(ot,o.maxDistance(d,x,s,x,E,N,M,N)),ot=Math.min(ot,o.maxDistance(d,x,s,x,M,tt,E,tt)),ot=Math.min(ot,o.maxDistance(d,x,s,x,M,tt,M,N)),ot=Math.min(ot,o.maxDistance(d,x,d,l,E,N,E,tt)),ot=Math.min(ot,o.maxDistance(d,x,d,l,E,N,M,N)),ot=Math.min(ot,o.maxDistance(d,x,d,l,M,tt,E,tt)),ot=Math.min(ot,o.maxDistance(d,x,d,l,M,tt,M,N))}}])})(),Un=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"maximumDistance",value:function(){return Is.maximumDistance(this._boundable1.getBounds(),this._boundable2.getBounds())}},{key:"expandToQueue",value:function(t,e){var s=o.isComposite(this._boundable1),l=o.isComposite(this._boundable2);if(s&&l)return o.area(this._boundable1)>o.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,!1,t,e),null):(this.expand(this._boundable2,this._boundable1,!0,t,e),null);if(s)return this.expand(this._boundable1,this._boundable2,!1,t,e),null;if(l)return this.expand(this._boundable2,this._boundable1,!0,t,e),null;throw new Ct("neither boundable is composite")}},{key:"isLeaves",value:function(){return!(o.isComposite(this._boundable1)||o.isComposite(this._boundable2))}},{key:"compareTo",value:function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0}},{key:"expand",value:function(t,e,s,l,d){for(var x=t.getChildBoundables().iterator();x.hasNext();){var E=x.next(),N=null;(N=s?new o(e,E,this._itemDistance):new o(E,e,this._itemDistance)).getDistance()<d&&l.add(N)}}},{key:"getBoundable",value:function(t){return t===0?this._boundable1:this._boundable2}},{key:"getDistance",value:function(){return this._distance}},{key:"distance",value:function(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}},{key:"interfaces_",get:function(){return[Rt]}}],[{key:"constructor_",value:function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;var t=arguments[0],e=arguments[1],s=arguments[2];this._boundable1=t,this._boundable2=e,this._itemDistance=s,this._distance=this.distance()}},{key:"area",value:function(t){return t.getBounds().getArea()}},{key:"isComposite",value:function(t){return t instanceof qe}}])})(),uo=(function(){return S((function o(){p(this,o)}),[{key:"visitItem",value:function(o){}}])})(),Ye=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"queryInternal",value:function(){if(ne(arguments[2],uo)&&arguments[0]instanceof Object&&arguments[1]instanceof qe)for(var t=arguments[0],e=arguments[2],s=arguments[1].getChildBoundables(),l=0;l<s.size();l++){var d=s.get(l);this.getIntersectsOp().intersects(d.getBounds(),t)&&(d instanceof qe?this.queryInternal(t,d,e):d instanceof ie?e.visitItem(d.getItem()):gt.shouldNeverReachHere())}else if(ne(arguments[2],$n)&&arguments[0]instanceof Object&&arguments[1]instanceof qe)for(var x=arguments[0],E=arguments[2],N=arguments[1].getChildBoundables(),M=0;M<N.size();M++){var tt=N.get(M);this.getIntersectsOp().intersects(tt.getBounds(),x)&&(tt instanceof qe?this.queryInternal(x,tt,E):tt instanceof ie?E.add(tt.getItem()):gt.shouldNeverReachHere())}}},{key:"getNodeCapacity",value:function(){return this._nodeCapacity}},{key:"lastNode",value:function(t){return t.get(t.size()-1)}},{key:"size",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.size(this._root));if(arguments.length===1){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var s=e.next();s instanceof qe?t+=this.size(s):s instanceof ie&&(t+=1)}return t}}},{key:"removeItem",value:function(t,e){for(var s=null,l=t.getChildBoundables().iterator();l.hasNext();){var d=l.next();d instanceof ie&&d.getItem()===e&&(s=d)}return s!==null&&(t.getChildBoundables().remove(s),!0)}},{key:"itemsTree",value:function(){if(arguments.length===0){this.build();var t=this.itemsTree(this._root);return t===null?new Xt:t}if(arguments.length===1){for(var e=arguments[0],s=new Xt,l=e.getChildBoundables().iterator();l.hasNext();){var d=l.next();if(d instanceof qe){var x=this.itemsTree(d);x!==null&&s.add(x)}else d instanceof ie?s.add(d.getItem()):gt.shouldNeverReachHere()}return s.size()<=0?null:s}}},{key:"insert",value:function(t,e){gt.isTrue(!this._built,"Cannot insert items into an STR packed R-tree after it has been built."),this._itemBoundables.add(new ie(t,e))}},{key:"boundablesAtLevel",value:function(){if(arguments.length===1){var t=arguments[0],e=new Xt;return this.boundablesAtLevel(t,this._root,e),e}if(arguments.length===3){var s=arguments[0],l=arguments[1],d=arguments[2];if(gt.isTrue(s>-2),l.getLevel()===s)return d.add(l),null;for(var x=l.getChildBoundables().iterator();x.hasNext();){var E=x.next();E instanceof qe?this.boundablesAtLevel(s,E,d):(gt.isTrue(E instanceof ie),s===-1&&d.add(E))}return null}}},{key:"query",value:function(){if(arguments.length===1){var t=arguments[0];this.build();var e=new Xt;return this.isEmpty()||this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.queryInternal(t,this._root,e),e}if(arguments.length===2){var s=arguments[0],l=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),s)&&this.queryInternal(s,this._root,l)}}},{key:"build",value:function(){if(this._built)return null;this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0}},{key:"getRoot",value:function(){return this.build(),this._root}},{key:"remove",value:function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),t)&&this.remove(t,this._root,e)}if(arguments.length===3){var s=arguments[0],l=arguments[1],d=arguments[2],x=this.removeItem(l,d);if(x)return!0;for(var E=null,N=l.getChildBoundables().iterator();N.hasNext();){var M=N.next();if(this.getIntersectsOp().intersects(M.getBounds(),s)&&M instanceof qe&&(x=this.remove(s,M,d))){E=M;break}}return E!==null&&E.getChildBoundables().isEmpty()&&l.getChildBoundables().remove(E),x}}},{key:"createHigherLevels",value:function(t,e){gt.isTrue(!t.isEmpty());var s=this.createParentBoundables(t,e+1);return s.size()===1?s.get(0):this.createHigherLevels(s,e+1)}},{key:"depth",value:function(){if(arguments.length===0)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(arguments.length===1){for(var t=0,e=arguments[0].getChildBoundables().iterator();e.hasNext();){var s=e.next();if(s instanceof qe){var l=this.depth(s);l>t&&(t=l)}}return t+1}}},{key:"createParentBoundables",value:function(t,e){gt.isTrue(!t.isEmpty());var s=new Xt;s.add(this.createNode(e));var l=new Xt(t);Pi.sort(l,this.getComparator());for(var d=l.iterator();d.hasNext();){var x=d.next();this.lastNode(s).getChildBoundables().size()===this.getNodeCapacity()&&s.add(this.createNode(e)),this.lastNode(s).addChildBoundable(x)}return s}},{key:"isEmpty",value:function(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}},{key:"interfaces_",get:function(){return[O]}}],[{key:"constructor_",value:function(){if(this._root=null,this._built=!1,this._itemBoundables=new Xt,this._nodeCapacity=null,arguments.length===0)o.constructor_.call(this,o.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var t=arguments[0];gt.isTrue(t>1,"Node capacity must be greater than 1"),this._nodeCapacity=t}}},{key:"compareDoubles",value:function(t,e){return t>e?1:t<e?-1:0}}])})();Ye.IntersectsOp=function(){},Ye.DEFAULT_NODE_CAPACITY=10;var Er=(function(){return S((function o(){p(this,o)}),[{key:"distance",value:function(o,t){}}])})(),Tn=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"createParentBoundablesFromVerticalSlices",value:function(e,s){gt.isTrue(e.length>0);for(var l=new Xt,d=0;d<e.length;d++)l.addAll(this.createParentBoundablesFromVerticalSlice(e[d],s));return l}},{key:"nearestNeighbourK",value:function(){if(arguments.length===2){var e=arguments[0],s=arguments[1];return this.nearestNeighbourK(e,H.POSITIVE_INFINITY,s)}if(arguments.length===3){var l=arguments[0],d=arguments[2],x=arguments[1],E=new Zn;E.add(l);for(var N=new Zn;!E.isEmpty()&&x>=0;){var M=E.poll(),tt=M.getDistance();if(tt>=x)break;M.isLeaves()?N.size()<d?N.add(M):(N.peek().getDistance()>tt&&(N.poll(),N.add(M)),x=N.peek().getDistance()):M.expandToQueue(E,x)}return t.getItems(N)}}},{key:"createNode",value:function(e){return new Oi(e)}},{key:"size",value:function(){return arguments.length===0?rt(t,"size",this,1).call(this):rt(t,"size",this,1).apply(this,arguments)}},{key:"insert",value:function(){if(!(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof ee))return rt(t,"insert",this,1).apply(this,arguments);var e=arguments[0],s=arguments[1];if(e.isNull())return null;rt(t,"insert",this,1).call(this,e,s)}},{key:"getIntersectsOp",value:function(){return t.intersectsOp}},{key:"verticalSlices",value:function(e,s){for(var l=Math.trunc(Math.ceil(e.size()/s)),d=new Array(s).fill(null),x=e.iterator(),E=0;E<s;E++){d[E]=new Xt;for(var N=0;x.hasNext()&&N<l;){var M=x.next();d[E].add(M),N++}}return d}},{key:"query",value:function(){if(arguments.length===1){var e=arguments[0];return rt(t,"query",this,1).call(this,e)}if(arguments.length===2){var s=arguments[0],l=arguments[1];rt(t,"query",this,1).call(this,s,l)}}},{key:"getComparator",value:function(){return t.yComparator}},{key:"createParentBoundablesFromVerticalSlice",value:function(e,s){return rt(t,"createParentBoundables",this,1).call(this,e,s)}},{key:"remove",value:function(){if(arguments.length===2&&arguments[1]instanceof Object&&arguments[0]instanceof ee){var e=arguments[0],s=arguments[1];return rt(t,"remove",this,1).call(this,e,s)}return rt(t,"remove",this,1).apply(this,arguments)}},{key:"depth",value:function(){return arguments.length===0?rt(t,"depth",this,1).call(this):rt(t,"depth",this,1).apply(this,arguments)}},{key:"createParentBoundables",value:function(e,s){gt.isTrue(!e.isEmpty());var l=Math.trunc(Math.ceil(e.size()/this.getNodeCapacity())),d=new Xt(e);Pi.sort(d,t.xComparator);var x=this.verticalSlices(d,Math.trunc(Math.ceil(Math.sqrt(l))));return this.createParentBoundablesFromVerticalSlices(x,s)}},{key:"nearestNeighbour",value:function(){if(arguments.length===1){if(ne(arguments[0],Er)){var e=arguments[0];if(this.isEmpty())return null;var s=new Un(this.getRoot(),this.getRoot(),e);return this.nearestNeighbour(s)}if(arguments[0]instanceof Un){var l=arguments[0],d=H.POSITIVE_INFINITY,x=null,E=new Zn;for(E.add(l);!E.isEmpty()&&d>0;){var N=E.poll(),M=N.getDistance();if(M>=d)break;N.isLeaves()?(d=M,x=N):N.expandToQueue(E,d)}return x===null?null:[x.getBoundable(0).getItem(),x.getBoundable(1).getItem()]}}else{if(arguments.length===2){var tt=arguments[0],ot=arguments[1];if(this.isEmpty()||tt.isEmpty())return null;var mt=new Un(this.getRoot(),tt.getRoot(),ot);return this.nearestNeighbour(mt)}if(arguments.length===3){var Ot=arguments[2],zt=new ie(arguments[0],arguments[1]),qt=new Un(this.getRoot(),zt,Ot);return this.nearestNeighbour(qt)[0]}if(arguments.length===4){var ce=arguments[2],se=arguments[3],pe=new ie(arguments[0],arguments[1]),Ne=new Un(this.getRoot(),pe,ce);return this.nearestNeighbourK(Ne,se)}}}},{key:"isWithinDistance",value:function(){if(arguments.length===2){var e=arguments[0],s=arguments[1],l=H.POSITIVE_INFINITY,d=new Zn;for(d.add(e);!d.isEmpty();){var x=d.poll(),E=x.getDistance();if(E>s)return!1;if(x.maximumDistance()<=s)return!0;if(x.isLeaves()){if((l=E)<=s)return!0}else x.expandToQueue(d,l)}return!1}if(arguments.length===3){var N=arguments[0],M=arguments[1],tt=arguments[2],ot=new Un(this.getRoot(),N.getRoot(),M);return this.isWithinDistance(ot,tt)}}},{key:"interfaces_",get:function(){return[kn,O]}}],[{key:"constructor_",value:function(){if(arguments.length===0)t.constructor_.call(this,t.DEFAULT_NODE_CAPACITY);else if(arguments.length===1){var e=arguments[0];Ye.constructor_.call(this,e)}}},{key:"centreX",value:function(e){return t.avg(e.getMinX(),e.getMaxX())}},{key:"avg",value:function(e,s){return(e+s)/2}},{key:"getItems",value:function(e){for(var s=new Array(e.size()).fill(null),l=0;!e.isEmpty();){var d=e.poll();s[l]=d.getBoundable(0).getItem(),l++}return s}},{key:"centreY",value:function(e){return t.avg(e.getMinY(),e.getMaxY())}}])})(Ye),Oi=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"computeBounds",value:function(){for(var e=null,s=this.getChildBoundables().iterator();s.hasNext();){var l=s.next();e===null?e=new ee(l.getBounds()):e.expandToInclude(l.getBounds())}return e}}],[{key:"constructor_",value:function(){var e=arguments[0];qe.constructor_.call(this,e)}}])})(qe);Tn.STRtreeNode=Oi,Tn.xComparator=new((function(){return S((function o(){p(this,o)}),[{key:"interfaces_",get:function(){return[z]}},{key:"compare",value:function(o,t){return Ye.compareDoubles(Tn.centreX(o.getBounds()),Tn.centreX(t.getBounds()))}}])})()),Tn.yComparator=new((function(){return S((function o(){p(this,o)}),[{key:"interfaces_",get:function(){return[z]}},{key:"compare",value:function(o,t){return Ye.compareDoubles(Tn.centreY(o.getBounds()),Tn.centreY(t.getBounds()))}}])})()),Tn.intersectsOp=new((function(){return S((function o(){p(this,o)}),[{key:"interfaces_",get:function(){return[IntersectsOp]}},{key:"intersects",value:function(o,t){return o.intersects(t)}}])})()),Tn.DEFAULT_NODE_CAPACITY=10;var ma=(function(){function o(){p(this,o)}return S(o,null,[{key:"relativeSign",value:function(t,e){return t<e?-1:t>e?1:0}},{key:"compare",value:function(t,e,s){if(e.equals2D(s))return 0;var l=o.relativeSign(e.x,s.x),d=o.relativeSign(e.y,s.y);switch(t){case 0:return o.compareValue(l,d);case 1:return o.compareValue(d,l);case 2:return o.compareValue(d,-l);case 3:return o.compareValue(-l,d);case 4:return o.compareValue(-l,-d);case 5:return o.compareValue(-d,-l);case 6:return o.compareValue(-d,l);case 7:return o.compareValue(l,-d)}return gt.shouldNeverReachHere("invalid octant value"),0}},{key:"compareValue",value:function(t,e){return t<0?-1:t>0?1:e<0?-1:e>0?1:0}}])})(),Cn=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(o){o.print(this.coord),o.print(" seg # = "+this.segmentIndex)}},{key:"compareTo",value:function(o){var t=o;return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:this._isInterior?t._isInterior?ma.compare(this._segmentOctant,this.coord,t.coord):1:-1}},{key:"isEndPoint",value:function(o){return this.segmentIndex===0&&!this._isInterior||this.segmentIndex===o}},{key:"toString",value:function(){return this.segmentIndex+":"+this.coord.toString()}},{key:"isInterior",value:function(){return this._isInterior}},{key:"interfaces_",get:function(){return[Rt]}}],[{key:"constructor_",value:function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;var o=arguments[0],t=arguments[1],e=arguments[2],s=arguments[3];this._segString=o,this.coord=new Q(t),this.segmentIndex=e,this._segmentOctant=s,this._isInterior=!t.equals2D(o.getCoordinate(e))}}])})(),lo=(function(){return S((function o(){p(this,o)}),[{key:"hasNext",value:function(){}},{key:"next",value:function(){}},{key:"remove",value:function(){}}])})(),Sr=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"getSplitCoordinates",value:function(){var o=new dr;this.addEndpoints();for(var t=this.iterator(),e=t.next();t.hasNext();){var s=t.next();this.addEdgeCoordinates(e,s,o),e=s}return o.toCoordinateArray()}},{key:"addCollapsedNodes",value:function(){var o=new Xt;this.findCollapsesFromInsertedNodes(o),this.findCollapsesFromExistingVertices(o);for(var t=o.iterator();t.hasNext();){var e=t.next().intValue();this.add(this._edge.getCoordinate(e),e)}}},{key:"createSplitEdgePts",value:function(o,t){var e=t.segmentIndex-o.segmentIndex+2;if(e===2)return[new Q(o.coord),new Q(t.coord)];var s=this._edge.getCoordinate(t.segmentIndex),l=t.isInterior()||!t.coord.equals2D(s);l||e--;var d=new Array(e).fill(null),x=0;d[x++]=new Q(o.coord);for(var E=o.segmentIndex+1;E<=t.segmentIndex;E++)d[x++]=this._edge.getCoordinate(E);return l&&(d[x]=new Q(t.coord)),d}},{key:"print",value:function(o){o.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(o)}},{key:"findCollapsesFromExistingVertices",value:function(o){for(var t=0;t<this._edge.size()-2;t++){var e=this._edge.getCoordinate(t);this._edge.getCoordinate(t+1);var s=this._edge.getCoordinate(t+2);e.equals2D(s)&&o.add(Wi.valueOf(t+1))}}},{key:"addEdgeCoordinates",value:function(o,t,e){var s=this.createSplitEdgePts(o,t);e.add(s,!1)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(o){this.addEndpoints(),this.addCollapsedNodes();for(var t=this.iterator(),e=t.next();t.hasNext();){var s=t.next(),l=this.createSplitEdge(e,s);o.add(l),e=s}}},{key:"findCollapseIndex",value:function(o,t,e){if(!o.coord.equals2D(t.coord))return!1;var s=t.segmentIndex-o.segmentIndex;return t.isInterior()||s--,s===1&&(e[0]=o.segmentIndex+1,!0)}},{key:"findCollapsesFromInsertedNodes",value:function(o){for(var t=new Array(1).fill(null),e=this.iterator(),s=e.next();e.hasNext();){var l=e.next();this.findCollapseIndex(s,l,t)&&o.add(Wi.valueOf(t[0])),s=l}}},{key:"getEdge",value:function(){return this._edge}},{key:"addEndpoints",value:function(){var o=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(o),o)}},{key:"createSplitEdge",value:function(o,t){var e=this.createSplitEdgePts(o,t);return new mi(e,this._edge.getData())}},{key:"add",value:function(o,t){var e=new Cn(this._edge,o,t,this._edge.getSegmentOctant(t)),s=this._nodeMap.get(e);return s!==null?(gt.isTrue(s.coord.equals2D(o),"Found equal nodes with different coordinates"),s):(this._nodeMap.put(e,e),e)}},{key:"checkSplitEdgesCorrectness",value:function(o){var t=this._edge.getCoordinates(),e=o.get(0).getCoordinate(0);if(!e.equals2D(t[0]))throw new st("bad split edge start point at "+e);var s=o.get(o.size()-1).getCoordinates(),l=s[s.length-1];if(!l.equals2D(t[t.length-1]))throw new st("bad split edge end point at "+l)}}],[{key:"constructor_",value:function(){this._nodeMap=new Le,this._edge=null;var o=arguments[0];this._edge=o}}])})(),qn=(function(){function o(){p(this,o)}return S(o,null,[{key:"octant",value:function(){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var t=arguments[0],e=arguments[1];if(t===0&&e===0)throw new Ct("Cannot compute the octant for point ( "+t+", "+e+" )");var s=Math.abs(t),l=Math.abs(e);return t>=0?e>=0?s>=l?0:1:s>=l?7:6:e>=0?s>=l?3:2:s>=l?4:5}if(arguments[0]instanceof Q&&arguments[1]instanceof Q){var d=arguments[0],x=arguments[1],E=x.x-d.x,N=x.y-d.y;if(E===0&&N===0)throw new Ct("Cannot compute the octant for two identical points "+d);return o.octant(E,N)}}}])})(),ho=(function(){return S((function o(){p(this,o)}),[{key:"getCoordinates",value:function(){}},{key:"size",value:function(){}},{key:"getCoordinate",value:function(o){}},{key:"isClosed",value:function(){}},{key:"setData",value:function(o){}},{key:"getData",value:function(){}}])})(),Uo=(function(){return S((function o(){p(this,o)}),[{key:"addIntersection",value:function(o,t){}},{key:"interfaces_",get:function(){return[ho]}}])})(),mi=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"getCoordinates",value:function(){return this._pts}},{key:"size",value:function(){return this._pts.length}},{key:"getCoordinate",value:function(t){return this._pts[t]}},{key:"isClosed",value:function(){return this._pts[0].equals(this._pts[this._pts.length-1])}},{key:"getSegmentOctant",value:function(t){return t===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))}},{key:"setData",value:function(t){this._data=t}},{key:"safeOctant",value:function(t,e){return t.equals2D(e)?0:qn.octant(t,e)}},{key:"getData",value:function(){return this._data}},{key:"addIntersection",value:function(){if(arguments.length===2){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(arguments.length===4){var s=arguments[1],l=arguments[3],d=new Q(arguments[0].getIntersection(l));this.addIntersection(d,s)}}},{key:"toString",value:function(){return pr.toLineString(new Ur(this._pts))}},{key:"getNodeList",value:function(){return this._nodeList}},{key:"addIntersectionNode",value:function(t,e){var s=e,l=s+1;if(l<this._pts.length){var d=this._pts[l];t.equals2D(d)&&(s=l)}return this._nodeList.add(t,s)}},{key:"addIntersections",value:function(t,e,s){for(var l=0;l<t.getIntersectionNum();l++)this.addIntersection(t,e,s,l)}},{key:"interfaces_",get:function(){return[Uo]}}],[{key:"constructor_",value:function(){this._nodeList=new Sr(this),this._pts=null,this._data=null;var t=arguments[0],e=arguments[1];this._pts=t,this._data=e}},{key:"getNodedSubstrings",value:function(){if(arguments.length===1){var t=arguments[0],e=new Xt;return o.getNodedSubstrings(t,e),e}if(arguments.length===2)for(var s=arguments[1],l=arguments[0].iterator();l.hasNext();)l.next().getNodeList().addSplitEdges(s)}}])})(),wn=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"minX",value:function(){return Math.min(this.p0.x,this.p1.x)}},{key:"orientationIndex",value:function(){if(arguments[0]instanceof o){var t=arguments[0],e=Wt.index(this.p0,this.p1,t.p0),s=Wt.index(this.p0,this.p1,t.p1);return e>=0&&s>=0||e<=0&&s<=0?Math.max(e,s):0}if(arguments[0]instanceof Q){var l=arguments[0];return Wt.index(this.p0,this.p1,l)}}},{key:"toGeometry",value:function(t){return t.createLineString([this.p0,this.p1])}},{key:"isVertical",value:function(){return this.p0.x===this.p1.x}},{key:"equals",value:function(t){if(!(t instanceof o))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)}},{key:"intersection",value:function(t){var e=new Gn;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null}},{key:"project",value:function(){if(arguments[0]instanceof Q){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new Q(t);var e=this.projectionFactor(t),s=new Q;return s.x=this.p0.x+e*(this.p1.x-this.p0.x),s.y=this.p0.y+e*(this.p1.y-this.p0.y),s}if(arguments[0]instanceof o){var l=arguments[0],d=this.projectionFactor(l.p0),x=this.projectionFactor(l.p1);if(d>=1&&x>=1||d<=0&&x<=0)return null;var E=this.project(l.p0);d<0&&(E=this.p0),d>1&&(E=this.p1);var N=this.project(l.p1);return x<0&&(N=this.p0),x>1&&(N=this.p1),new o(E,N)}}},{key:"normalize",value:function(){this.p1.compareTo(this.p0)<0&&this.reverse()}},{key:"angle",value:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}},{key:"getCoordinate",value:function(t){return t===0?this.p0:this.p1}},{key:"distancePerpendicular",value:function(t){return en.pointToLinePerpendicular(t,this.p0,this.p1)}},{key:"minY",value:function(){return Math.min(this.p0.y,this.p1.y)}},{key:"midPoint",value:function(){return o.midPoint(this.p0,this.p1)}},{key:"projectionFactor",value:function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,s=this.p1.y-this.p0.y,l=e*e+s*s;return l<=0?H.NaN:((t.x-this.p0.x)*e+(t.y-this.p0.y)*s)/l}},{key:"closestPoints",value:function(t){var e=this.intersection(t);if(e!==null)return[e,e];var s=new Array(2).fill(null),l=H.MAX_VALUE,d=null,x=this.closestPoint(t.p0);l=x.distance(t.p0),s[0]=x,s[1]=t.p0;var E=this.closestPoint(t.p1);(d=E.distance(t.p1))<l&&(l=d,s[0]=E,s[1]=t.p1);var N=t.closestPoint(this.p0);(d=N.distance(this.p0))<l&&(l=d,s[0]=this.p0,s[1]=N);var M=t.closestPoint(this.p1);return(d=M.distance(this.p1))<l&&(l=d,s[0]=this.p1,s[1]=M),s}},{key:"closestPoint",value:function(t){var e=this.projectionFactor(t);return e>0&&e<1?this.project(t):this.p0.distance(t)<this.p1.distance(t)?this.p0:this.p1}},{key:"maxX",value:function(){return Math.max(this.p0.x,this.p1.x)}},{key:"getLength",value:function(){return this.p0.distance(this.p1)}},{key:"compareTo",value:function(t){var e=t,s=this.p0.compareTo(e.p0);return s!==0?s:this.p1.compareTo(e.p1)}},{key:"reverse",value:function(){var t=this.p0;this.p0=this.p1,this.p1=t}},{key:"equalsTopo",value:function(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)}},{key:"lineIntersection",value:function(t){return Br.intersection(this.p0,this.p1,t.p0,t.p1)}},{key:"maxY",value:function(){return Math.max(this.p0.y,this.p1.y)}},{key:"pointAlongOffset",value:function(t,e){var s=this.p0.x+t*(this.p1.x-this.p0.x),l=this.p0.y+t*(this.p1.y-this.p0.y),d=this.p1.x-this.p0.x,x=this.p1.y-this.p0.y,E=Math.sqrt(d*d+x*x),N=0,M=0;if(e!==0){if(E<=0)throw new IllegalStateException("Cannot compute offset from zero-length line segment");N=e*d/E,M=e*x/E}return new Q(s-M,l+N)}},{key:"setCoordinates",value:function(){if(arguments.length===1){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(arguments.length===2){var e=arguments[0],s=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=s.x,this.p1.y=s.y}}},{key:"segmentFraction",value:function(t){var e=this.projectionFactor(t);return e<0?e=0:(e>1||H.isNaN(e))&&(e=1),e}},{key:"toString",value:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"}},{key:"isHorizontal",value:function(){return this.p0.y===this.p1.y}},{key:"reflect",value:function(t){var e=this.p1.getY()-this.p0.getY(),s=this.p0.getX()-this.p1.getX(),l=this.p0.getY()*(this.p1.getX()-this.p0.getX())-this.p0.getX()*(this.p1.getY()-this.p0.getY()),d=e*e+s*s,x=e*e-s*s,E=t.getX(),N=t.getY();return new Q((-x*E-2*e*s*N-2*e*l)/d,(x*N-2*e*s*E-2*s*l)/d)}},{key:"distance",value:function(){if(arguments[0]instanceof o){var t=arguments[0];return en.segmentToSegment(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof Q){var e=arguments[0];return en.pointToSegment(e,this.p0,this.p1)}}},{key:"pointAlong",value:function(t){var e=new Q;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e}},{key:"hashCode",value:function(){var t=H.doubleToLongBits(this.p0.x);t^=31*H.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),s=H.doubleToLongBits(this.p1.x);return s^=31*H.doubleToLongBits(this.p1.y),e^(Math.trunc(s)^Math.trunc(s>>32))}},{key:"interfaces_",get:function(){return[Rt,O]}}],[{key:"constructor_",value:function(){if(this.p0=null,this.p1=null,arguments.length===0)o.constructor_.call(this,new Q,new Q);else if(arguments.length===1){var t=arguments[0];o.constructor_.call(this,t.p0,t.p1)}else if(arguments.length===2){var e=arguments[0],s=arguments[1];this.p0=e,this.p1=s}else if(arguments.length===4){var l=arguments[0],d=arguments[1],x=arguments[2],E=arguments[3];o.constructor_.call(this,new Q(l,d),new Q(x,E))}}},{key:"midPoint",value:function(t,e){return new Q((t.x+e.x)/2,(t.y+e.y)/2)}}])})(),Ns=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"overlap",value:function(){if(arguments.length!==2){if(arguments.length===4){var o=arguments[1],t=arguments[2],e=arguments[3];arguments[0].getLineSegment(o,this._overlapSeg1),t.getLineSegment(e,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}}}],[{key:"constructor_",value:function(){this._overlapSeg1=new wn,this._overlapSeg2=new wn}}])})(),co=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"getLineSegment",value:function(o,t){t.p0=this._pts[o],t.p1=this._pts[o+1]}},{key:"computeSelect",value:function(o,t,e,s){var l=this._pts[t],d=this._pts[e];if(e-t==1)return s.select(this,t),null;if(!o.intersects(l,d))return null;var x=Math.trunc((t+e)/2);t<x&&this.computeSelect(o,t,x,s),x<e&&this.computeSelect(o,x,e,s)}},{key:"getCoordinates",value:function(){for(var o=new Array(this._end-this._start+1).fill(null),t=0,e=this._start;e<=this._end;e++)o[t++]=this._pts[e];return o}},{key:"computeOverlaps",value:function(){if(arguments.length===2){var o=arguments[0],t=arguments[1];this.computeOverlaps(this._start,this._end,o,o._start,o._end,t)}else if(arguments.length===6){var e=arguments[0],s=arguments[1],l=arguments[2],d=arguments[3],x=arguments[4],E=arguments[5];if(s-e==1&&x-d==1)return E.overlap(this,e,l,d),null;if(!this.overlaps(e,s,l,d,x))return null;var N=Math.trunc((e+s)/2),M=Math.trunc((d+x)/2);e<N&&(d<M&&this.computeOverlaps(e,N,l,d,M,E),M<x&&this.computeOverlaps(e,N,l,M,x,E)),N<s&&(d<M&&this.computeOverlaps(N,s,l,d,M,E),M<x&&this.computeOverlaps(N,s,l,M,x,E))}}},{key:"setId",value:function(o){this._id=o}},{key:"select",value:function(o,t){this.computeSelect(o,this._start,this._end,t)}},{key:"getEnvelope",value:function(){if(this._env===null){var o=this._pts[this._start],t=this._pts[this._end];this._env=new ee(o,t)}return this._env}},{key:"overlaps",value:function(o,t,e,s,l){return ee.intersects(this._pts[o],this._pts[t],e._pts[s],e._pts[l])}},{key:"getEndIndex",value:function(){return this._end}},{key:"getStartIndex",value:function(){return this._start}},{key:"getContext",value:function(){return this._context}},{key:"getId",value:function(){return this._id}}],[{key:"constructor_",value:function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;var o=arguments[0],t=arguments[1],e=arguments[2],s=arguments[3];this._pts=o,this._start=t,this._end=e,this._context=s}}])})(),pa=(function(){function o(){p(this,o)}return S(o,null,[{key:"findChainEnd",value:function(t,e){for(var s=e;s<t.length-1&&t[s].equals2D(t[s+1]);)s++;if(s>=t.length-1)return t.length-1;for(var l=De.quadrant(t[s],t[s+1]),d=e+1;d<t.length&&!(!t[d-1].equals2D(t[d])&&De.quadrant(t[d-1],t[d])!==l);)d++;return d-1}},{key:"getChains",value:function(){if(arguments.length===1){var t=arguments[0];return o.getChains(t,null)}if(arguments.length===2){var e=arguments[0],s=arguments[1],l=new Xt,d=0;do{var x=o.findChainEnd(e,d),E=new co(e,d,x,s);l.add(E),d=x}while(d<e.length-1);return l}}}])})(),fo=(function(){return S((function o(){p(this,o)}),[{key:"computeNodes",value:function(o){}},{key:"getNodedSubstrings",value:function(){}}])})(),Ts=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"setSegmentIntersector",value:function(o){this._segInt=o}},{key:"interfaces_",get:function(){return[fo]}}],[{key:"constructor_",value:function(){if(this._segInt=null,arguments.length!==0){if(arguments.length===1){var o=arguments[0];this.setSegmentIntersector(o)}}}}])})(),go=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"getMonotoneChains",value:function(){return this._monoChains}},{key:"getNodedSubstrings",value:function(){return mi.getNodedSubstrings(this._nodedSegStrings)}},{key:"getIndex",value:function(){return this._index}},{key:"add",value:function(e){for(var s=pa.getChains(e.getCoordinates(),e).iterator();s.hasNext();){var l=s.next();l.setId(this._idCounter++),this._index.insert(l.getEnvelope(),l),this._monoChains.add(l)}}},{key:"computeNodes",value:function(e){this._nodedSegStrings=e;for(var s=e.iterator();s.hasNext();)this.add(s.next());this.intersectChains()}},{key:"intersectChains",value:function(){for(var e=new Cs(this._segInt),s=this._monoChains.iterator();s.hasNext();)for(var l=s.next(),d=this._index.query(l.getEnvelope()).iterator();d.hasNext();){var x=d.next();if(x.getId()>l.getId()&&(l.computeOverlaps(x,e),this._nOverlaps++),this._segInt.isDone())return null}}}],[{key:"constructor_",value:function(){if(this._monoChains=new Xt,this._index=new Tn,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,arguments.length!==0){if(arguments.length===1){var e=arguments[0];Ts.constructor_.call(this,e)}}}}])})(Ts),Cs=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"overlap",value:function(){if(arguments.length!==4)return rt(t,"overlap",this,1).apply(this,arguments);var e=arguments[1],s=arguments[2],l=arguments[3],d=arguments[0].getContext(),x=s.getContext();this._si.processIntersections(d,e,x,l)}}],[{key:"constructor_",value:function(){this._si=null;var e=arguments[0];this._si=e}}])})(Ns);go.SegmentOverlapAction=Cs;var Pn=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"isDeletable",value:function(t,e,s,l){var d=this._inputLine[t],x=this._inputLine[e],E=this._inputLine[s];return!!this.isConcave(d,x,E)&&!!this.isShallow(d,x,E,l)&&this.isShallowSampled(d,x,t,s,l)}},{key:"deleteShallowConcavities",value:function(){for(var t=1,e=this.findNextNonDeletedIndex(t),s=this.findNextNonDeletedIndex(e),l=!1;s<this._inputLine.length;){var d=!1;this.isDeletable(t,e,s,this._distanceTol)&&(this._isDeleted[e]=o.DELETE,d=!0,l=!0),t=d?s:e,e=this.findNextNonDeletedIndex(t),s=this.findNextNonDeletedIndex(e)}return l}},{key:"isShallowConcavity",value:function(t,e,s,l){return Wt.index(t,e,s)===this._angleOrientation&&en.pointToSegment(e,t,s)<l}},{key:"isShallowSampled",value:function(t,e,s,l,d){var x=Math.trunc((l-s)/o.NUM_PTS_TO_CHECK);x<=0&&(x=1);for(var E=s;E<l;E+=x)if(!this.isShallow(t,e,this._inputLine[E],d))return!1;return!0}},{key:"isConcave",value:function(t,e,s){var l=Wt.index(t,e,s)===this._angleOrientation;return l}},{key:"simplify",value:function(t){this._distanceTol=Math.abs(t),t<0&&(this._angleOrientation=Wt.CLOCKWISE),this._isDeleted=new Array(this._inputLine.length).fill(null);var e=!1;do e=this.deleteShallowConcavities();while(e);return this.collapseLine()}},{key:"findNextNonDeletedIndex",value:function(t){for(var e=t+1;e<this._inputLine.length&&this._isDeleted[e]===o.DELETE;)e++;return e}},{key:"isShallow",value:function(t,e,s,l){return en.pointToSegment(e,t,s)<l}},{key:"collapseLine",value:function(){for(var t=new dr,e=0;e<this._inputLine.length;e++)this._isDeleted[e]!==o.DELETE&&t.add(this._inputLine[e]);return t.toCoordinateArray()}}],[{key:"constructor_",value:function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=Wt.COUNTERCLOCKWISE;var t=arguments[0];this._inputLine=t}},{key:"simplify",value:function(t,e){return new o(t).simplify(e)}}])})();Pn.INIT=0,Pn.DELETE=1,Pn.KEEP=1,Pn.NUM_PTS_TO_CHECK=10;var Wr=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"getCoordinates",value:function(){return this._ptList.toArray(o.COORDINATE_ARRAY_TYPE)}},{key:"setPrecisionModel",value:function(t){this._precisionModel=t}},{key:"addPt",value:function(t){var e=new Q(t);if(this._precisionModel.makePrecise(e),this.isRedundant(e))return null;this._ptList.add(e)}},{key:"reverse",value:function(){}},{key:"addPts",value:function(t,e){if(e)for(var s=0;s<t.length;s++)this.addPt(t[s]);else for(var l=t.length-1;l>=0;l--)this.addPt(t[l])}},{key:"isRedundant",value:function(t){if(this._ptList.size()<1)return!1;var e=this._ptList.get(this._ptList.size()-1);return t.distance(e)<this._minimimVertexDistance}},{key:"toString",value:function(){return new ti().createLineString(this.getCoordinates()).toString()}},{key:"closeRing",value:function(){if(this._ptList.size()<1)return null;var t=new Q(this._ptList.get(0)),e=this._ptList.get(this._ptList.size()-1);if(t.equals(e))return null;this._ptList.add(t)}},{key:"setMinimumVertexDistance",value:function(t){this._minimimVertexDistance=t}}],[{key:"constructor_",value:function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new Xt}}])})();Wr.COORDINATE_ARRAY_TYPE=new Array(0).fill(null);var He=(function(){function o(){p(this,o)}return S(o,null,[{key:"toDegrees",value:function(t){return 180*t/Math.PI}},{key:"normalize",value:function(t){for(;t>Math.PI;)t-=o.PI_TIMES_2;for(;t<=-Math.PI;)t+=o.PI_TIMES_2;return t}},{key:"angle",value:function(){if(arguments.length===1){var t=arguments[0];return Math.atan2(t.y,t.x)}if(arguments.length===2){var e=arguments[0],s=arguments[1],l=s.x-e.x,d=s.y-e.y;return Math.atan2(d,l)}}},{key:"isAcute",value:function(t,e,s){var l=t.x-e.x,d=t.y-e.y;return l*(s.x-e.x)+d*(s.y-e.y)>0}},{key:"isObtuse",value:function(t,e,s){var l=t.x-e.x,d=t.y-e.y;return l*(s.x-e.x)+d*(s.y-e.y)<0}},{key:"interiorAngle",value:function(t,e,s){var l=o.angle(e,t),d=o.angle(e,s);return Math.abs(d-l)}},{key:"normalizePositive",value:function(t){if(t<0){for(;t<0;)t+=o.PI_TIMES_2;t>=o.PI_TIMES_2&&(t=0)}else{for(;t>=o.PI_TIMES_2;)t-=o.PI_TIMES_2;t<0&&(t=0)}return t}},{key:"angleBetween",value:function(t,e,s){var l=o.angle(e,t),d=o.angle(e,s);return o.diff(l,d)}},{key:"diff",value:function(t,e){var s=null;return(s=t<e?e-t:t-e)>Math.PI&&(s=2*Math.PI-s),s}},{key:"toRadians",value:function(t){return t*Math.PI/180}},{key:"getTurn",value:function(t,e){var s=Math.sin(e-t);return s>0?o.COUNTERCLOCKWISE:s<0?o.CLOCKWISE:o.NONE}},{key:"angleBetweenOriented",value:function(t,e,s){var l=o.angle(e,t),d=o.angle(e,s)-l;return d<=-Math.PI?d+o.PI_TIMES_2:d>Math.PI?d-o.PI_TIMES_2:d}}])})();He.PI_TIMES_2=2*Math.PI,He.PI_OVER_2=Math.PI/2,He.PI_OVER_4=Math.PI/4,He.COUNTERCLOCKWISE=Wt.COUNTERCLOCKWISE,He.CLOCKWISE=Wt.CLOCKWISE,He.NONE=Wt.COLLINEAR;var Xr=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"addNextSegment",value:function(t,e){if(this._s0=this._s1,this._s1=this._s2,this._s2=t,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;var s=Wt.index(this._s0,this._s1,this._s2),l=s===Wt.CLOCKWISE&&this._side===Lt.LEFT||s===Wt.COUNTERCLOCKWISE&&this._side===Lt.RIGHT;s===0?this.addCollinear(e):l?this.addOutsideTurn(s,e):this.addInsideTurn(s,e)}},{key:"addLineEndCap",value:function(t,e){var s=new wn(t,e),l=new wn;this.computeOffsetSegment(s,Lt.LEFT,this._distance,l);var d=new wn;this.computeOffsetSegment(s,Lt.RIGHT,this._distance,d);var x=e.x-t.x,E=e.y-t.y,N=Math.atan2(E,x);switch(this._bufParams.getEndCapStyle()){case xt.CAP_ROUND:this._segList.addPt(l.p1),this.addDirectedFillet(e,N+Math.PI/2,N-Math.PI/2,Wt.CLOCKWISE,this._distance),this._segList.addPt(d.p1);break;case xt.CAP_FLAT:this._segList.addPt(l.p1),this._segList.addPt(d.p1);break;case xt.CAP_SQUARE:var M=new Q;M.x=Math.abs(this._distance)*Math.cos(N),M.y=Math.abs(this._distance)*Math.sin(N);var tt=new Q(l.p1.x+M.x,l.p1.y+M.y),ot=new Q(d.p1.x+M.x,d.p1.y+M.y);this._segList.addPt(tt),this._segList.addPt(ot)}}},{key:"getCoordinates",value:function(){return this._segList.getCoordinates()}},{key:"addMitreJoin",value:function(t,e,s,l){var d=Br.intersection(e.p0,e.p1,s.p0,s.p1);if(d!==null&&(l<=0?1:d.distance(t)/Math.abs(l))<=this._bufParams.getMitreLimit())return this._segList.addPt(d),null;this.addLimitedMitreJoin(e,s,l,this._bufParams.getMitreLimit())}},{key:"addOutsideTurn",value:function(t,e){if(this._offset0.p1.distance(this._offset1.p0)<this._distance*o.OFFSET_SEGMENT_SEPARATION_FACTOR)return this._segList.addPt(this._offset0.p1),null;this._bufParams.getJoinStyle()===xt.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===xt.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(e&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,t,this._distance),this._segList.addPt(this._offset1.p0))}},{key:"createSquare",value:function(t){this._segList.addPt(new Q(t.x+this._distance,t.y+this._distance)),this._segList.addPt(new Q(t.x+this._distance,t.y-this._distance)),this._segList.addPt(new Q(t.x-this._distance,t.y-this._distance)),this._segList.addPt(new Q(t.x-this._distance,t.y+this._distance)),this._segList.closeRing()}},{key:"addSegments",value:function(t,e){this._segList.addPts(t,e)}},{key:"addFirstSegment",value:function(){this._segList.addPt(this._offset1.p0)}},{key:"addCornerFillet",value:function(t,e,s,l,d){var x=e.x-t.x,E=e.y-t.y,N=Math.atan2(E,x),M=s.x-t.x,tt=s.y-t.y,ot=Math.atan2(tt,M);l===Wt.CLOCKWISE?N<=ot&&(N+=2*Math.PI):N>=ot&&(N-=2*Math.PI),this._segList.addPt(e),this.addDirectedFillet(t,N,ot,l,d),this._segList.addPt(s)}},{key:"addLastSegment",value:function(){this._segList.addPt(this._offset1.p1)}},{key:"initSideSegments",value:function(t,e,s){this._s1=t,this._s2=e,this._side=s,this._seg1.setCoordinates(t,e),this.computeOffsetSegment(this._seg1,s,this._distance,this._offset1)}},{key:"addLimitedMitreJoin",value:function(t,e,s,l){var d=this._seg0.p1,x=He.angle(d,this._seg0.p0),E=He.angleBetweenOriented(this._seg0.p0,d,this._seg1.p1)/2,N=He.normalize(x+E),M=He.normalize(N+Math.PI),tt=l*s,ot=s-tt*Math.abs(Math.sin(E)),mt=d.x+tt*Math.cos(M),Ot=d.y+tt*Math.sin(M),zt=new Q(mt,Ot),qt=new wn(d,zt),ce=qt.pointAlongOffset(1,ot),se=qt.pointAlongOffset(1,-ot);this._side===Lt.LEFT?(this._segList.addPt(ce),this._segList.addPt(se)):(this._segList.addPt(se),this._segList.addPt(ce))}},{key:"addDirectedFillet",value:function(t,e,s,l,d){var x=l===Wt.CLOCKWISE?-1:1,E=Math.abs(e-s),N=Math.trunc(E/this._filletAngleQuantum+.5);if(N<1)return null;for(var M=E/N,tt=new Q,ot=0;ot<N;ot++){var mt=e+x*ot*M;tt.x=t.x+d*Math.cos(mt),tt.y=t.y+d*Math.sin(mt),this._segList.addPt(tt)}}},{key:"computeOffsetSegment",value:function(t,e,s,l){var d=e===Lt.LEFT?1:-1,x=t.p1.x-t.p0.x,E=t.p1.y-t.p0.y,N=Math.sqrt(x*x+E*E),M=d*s*x/N,tt=d*s*E/N;l.p0.x=t.p0.x-tt,l.p0.y=t.p0.y+M,l.p1.x=t.p1.x-tt,l.p1.y=t.p1.y+M}},{key:"addInsideTurn",value:function(t,e){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*o.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),this._closingSegLengthFactor>0){var s=new Q((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(s);var l=new Q((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(l)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}},{key:"createCircle",value:function(t){var e=new Q(t.x+this._distance,t.y);this._segList.addPt(e),this.addDirectedFillet(t,0,2*Math.PI,-1,this._distance),this._segList.closeRing()}},{key:"addBevelJoin",value:function(t,e){this._segList.addPt(t.p1),this._segList.addPt(e.p0)}},{key:"init",value:function(t){this._distance=t,this._maxCurveSegmentError=t*(1-Math.cos(this._filletAngleQuantum/2)),this._segList=new Wr,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(t*o.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}},{key:"addCollinear",value:function(t){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2),this._li.getIntersectionNum()>=2&&(this._bufParams.getJoinStyle()===xt.JOIN_BEVEL||this._bufParams.getJoinStyle()===xt.JOIN_MITRE?(t&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,Wt.CLOCKWISE,this._distance))}},{key:"closeRing",value:function(){this._segList.closeRing()}},{key:"hasNarrowConcaveAngle",value:function(){return this._hasNarrowConcaveAngle}}],[{key:"constructor_",value:function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new wn,this._seg1=new wn,this._offset0=new wn,this._offset1=new wn,this._side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],e=arguments[1],s=arguments[2];this._precisionModel=t,this._bufParams=e,this._li=new Gn,this._filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),e.getQuadrantSegments()>=8&&e.getJoinStyle()===xt.JOIN_ROUND&&(this._closingSegLengthFactor=o.MAX_CLOSING_SEG_LEN_FACTOR),this.init(s)}}])})();Xr.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Xr.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Xr.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Xr.MAX_CLOSING_SEG_LEN_FACTOR=80;var er=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"getOffsetCurve",value:function(t,e){if(this._distance=e,e===0)return null;var s=e<0,l=Math.abs(e),d=this.getSegGen(l);t.length<=1?this.computePointCurve(t[0],d):this.computeOffsetCurve(t,s,d);var x=d.getCoordinates();return s&&Me.reverse(x),x}},{key:"computeSingleSidedBufferCurve",value:function(t,e,s){var l=this.simplifyTolerance(this._distance);if(e){s.addSegments(t,!0);var d=Pn.simplify(t,-l),x=d.length-1;s.initSideSegments(d[x],d[x-1],Lt.LEFT),s.addFirstSegment();for(var E=x-2;E>=0;E--)s.addNextSegment(d[E],!0)}else{s.addSegments(t,!1);var N=Pn.simplify(t,l),M=N.length-1;s.initSideSegments(N[0],N[1],Lt.LEFT),s.addFirstSegment();for(var tt=2;tt<=M;tt++)s.addNextSegment(N[tt],!0)}s.addLastSegment(),s.closeRing()}},{key:"computeRingBufferCurve",value:function(t,e,s){var l=this.simplifyTolerance(this._distance);e===Lt.RIGHT&&(l=-l);var d=Pn.simplify(t,l),x=d.length-1;s.initSideSegments(d[x-1],d[0],e);for(var E=1;E<=x;E++){var N=E!==1;s.addNextSegment(d[E],N)}s.closeRing()}},{key:"computeLineBufferCurve",value:function(t,e){var s=this.simplifyTolerance(this._distance),l=Pn.simplify(t,s),d=l.length-1;e.initSideSegments(l[0],l[1],Lt.LEFT);for(var x=2;x<=d;x++)e.addNextSegment(l[x],!0);e.addLastSegment(),e.addLineEndCap(l[d-1],l[d]);var E=Pn.simplify(t,-s),N=E.length-1;e.initSideSegments(E[N],E[N-1],Lt.LEFT);for(var M=N-2;M>=0;M--)e.addNextSegment(E[M],!0);e.addLastSegment(),e.addLineEndCap(E[1],E[0]),e.closeRing()}},{key:"computePointCurve",value:function(t,e){switch(this._bufParams.getEndCapStyle()){case xt.CAP_ROUND:e.createCircle(t);break;case xt.CAP_SQUARE:e.createSquare(t)}}},{key:"getLineCurve",value:function(t,e){if(this._distance=e,this.isLineOffsetEmpty(e))return null;var s=Math.abs(e),l=this.getSegGen(s);if(t.length<=1)this.computePointCurve(t[0],l);else if(this._bufParams.isSingleSided()){var d=e<0;this.computeSingleSidedBufferCurve(t,d,l)}else this.computeLineBufferCurve(t,l);return l.getCoordinates()}},{key:"getBufferParameters",value:function(){return this._bufParams}},{key:"simplifyTolerance",value:function(t){return t*this._bufParams.getSimplifyFactor()}},{key:"getRingCurve",value:function(t,e,s){if(this._distance=s,t.length<=2)return this.getLineCurve(t,s);if(s===0)return o.copyCoordinates(t);var l=this.getSegGen(s);return this.computeRingBufferCurve(t,e,l),l.getCoordinates()}},{key:"computeOffsetCurve",value:function(t,e,s){var l=this.simplifyTolerance(this._distance);if(e){var d=Pn.simplify(t,-l),x=d.length-1;s.initSideSegments(d[x],d[x-1],Lt.LEFT),s.addFirstSegment();for(var E=x-2;E>=0;E--)s.addNextSegment(d[E],!0)}else{var N=Pn.simplify(t,l),M=N.length-1;s.initSideSegments(N[0],N[1],Lt.LEFT),s.addFirstSegment();for(var tt=2;tt<=M;tt++)s.addNextSegment(N[tt],!0)}s.addLastSegment()}},{key:"isLineOffsetEmpty",value:function(t){return t===0||t<0&&!this._bufParams.isSingleSided()}},{key:"getSegGen",value:function(t){return new Xr(this._precisionModel,this._bufParams,t)}}],[{key:"constructor_",value:function(){this._distance=0,this._precisionModel=null,this._bufParams=null;var t=arguments[0],e=arguments[1];this._precisionModel=t,this._bufParams=e}},{key:"copyCoordinates",value:function(t){for(var e=new Array(t.length).fill(null),s=0;s<e.length;s++)e[s]=new Q(t[s]);return e}}])})(),En=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"findStabbedSegments",value:function(){if(arguments.length===1){for(var o=arguments[0],t=new Xt,e=this._subgraphs.iterator();e.hasNext();){var s=e.next(),l=s.getEnvelope();o.y<l.getMinY()||o.y>l.getMaxY()||this.findStabbedSegments(o,s.getDirectedEdges(),t)}return t}if(arguments.length===3){if(ne(arguments[2],$n)&&arguments[0]instanceof Q&&arguments[1]instanceof oo){for(var d=arguments[0],x=arguments[1],E=arguments[2],N=x.getEdge().getCoordinates(),M=0;M<N.length-1;M++)if(this._seg.p0=N[M],this._seg.p1=N[M+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse(),!(Math.max(this._seg.p0.x,this._seg.p1.x)<d.x||this._seg.isHorizontal()||d.y<this._seg.p0.y||d.y>this._seg.p1.y||Wt.index(this._seg.p0,this._seg.p1,d)===Wt.RIGHT)){var tt=x.getDepth(Lt.LEFT);this._seg.p0.equals(N[M])||(tt=x.getDepth(Lt.RIGHT));var ot=new mo(this._seg,tt);E.add(ot)}}else if(ne(arguments[2],$n)&&arguments[0]instanceof Q&&ne(arguments[1],$n))for(var mt=arguments[0],Ot=arguments[2],zt=arguments[1].iterator();zt.hasNext();){var qt=zt.next();qt.isForward()&&this.findStabbedSegments(mt,qt,Ot)}}}},{key:"getDepth",value:function(o){var t=this.findStabbedSegments(o);return t.size()===0?0:Pi.min(t)._leftDepth}}],[{key:"constructor_",value:function(){this._subgraphs=null,this._seg=new wn;var o=arguments[0];this._subgraphs=o}}])})(),mo=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"compareTo",value:function(o){var t=o;if(this._upwardSeg.minX()>=t._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=t._upwardSeg.minX())return-1;var e=this._upwardSeg.orientationIndex(t._upwardSeg);return e!==0||(e=-1*t._upwardSeg.orientationIndex(this._upwardSeg))!==0?e:this._upwardSeg.compareTo(t._upwardSeg)}},{key:"compareX",value:function(o,t){var e=o.p0.compareTo(t.p0);return e!==0?e:o.p1.compareTo(t.p1)}},{key:"toString",value:function(){return this._upwardSeg.toString()}},{key:"interfaces_",get:function(){return[Rt]}}],[{key:"constructor_",value:function(){this._upwardSeg=null,this._leftDepth=null;var o=arguments[0],t=arguments[1];this._upwardSeg=new wn(o),this._leftDepth=t}}])})();En.DepthSegment=mo;var po=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,null,[{key:"constructor_",value:function(){Mt.constructor_.call(this,"Projective point not representable on the Cartesian plane.")}}])})(Mt),Ps=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"getY",value:function(){var t=this.y/this.w;if(H.isNaN(t)||H.isInfinite(t))throw new po;return t}},{key:"getX",value:function(){var t=this.x/this.w;if(H.isNaN(t)||H.isInfinite(t))throw new po;return t}},{key:"getCoordinate",value:function(){var t=new Q;return t.x=this.getX(),t.y=this.getY(),t}}],[{key:"constructor_",value:function(){if(this.x=null,this.y=null,this.w=null,arguments.length===0)this.x=0,this.y=0,this.w=1;else if(arguments.length===1){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(arguments.length===2){if(typeof arguments[0]=="number"&&typeof arguments[1]=="number"){var e=arguments[0],s=arguments[1];this.x=e,this.y=s,this.w=1}else if(arguments[0]instanceof o&&arguments[1]instanceof o){var l=arguments[0],d=arguments[1];this.x=l.y*d.w-d.y*l.w,this.y=d.x*l.w-l.x*d.w,this.w=l.x*d.y-d.x*l.y}else if(arguments[0]instanceof Q&&arguments[1]instanceof Q){var x=arguments[0],E=arguments[1];this.x=x.y-E.y,this.y=E.x-x.x,this.w=x.x*E.y-E.x*x.y}}else if(arguments.length===3){var N=arguments[0],M=arguments[1],tt=arguments[2];this.x=N,this.y=M,this.w=tt}else if(arguments.length===4){var ot=arguments[0],mt=arguments[1],Ot=arguments[2],zt=arguments[3],qt=ot.y-mt.y,ce=mt.x-ot.x,se=ot.x*mt.y-mt.x*ot.y,pe=Ot.y-zt.y,Ne=zt.x-Ot.x,$e=Ot.x*zt.y-zt.x*Ot.y;this.x=ce*$e-Ne*se,this.y=pe*se-qt*$e,this.w=qt*Ne-pe*ce}}}])})(),vo=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"area",value:function(){return o.area(this.p0,this.p1,this.p2)}},{key:"signedArea",value:function(){return o.signedArea(this.p0,this.p1,this.p2)}},{key:"interpolateZ",value:function(t){if(t===null)throw new Ct("Supplied point is null.");return o.interpolateZ(t,this.p0,this.p1,this.p2)}},{key:"longestSideLength",value:function(){return o.longestSideLength(this.p0,this.p1,this.p2)}},{key:"isAcute",value:function(){return o.isAcute(this.p0,this.p1,this.p2)}},{key:"circumcentre",value:function(){return o.circumcentre(this.p0,this.p1,this.p2)}},{key:"area3D",value:function(){return o.area3D(this.p0,this.p1,this.p2)}},{key:"centroid",value:function(){return o.centroid(this.p0,this.p1,this.p2)}},{key:"inCentre",value:function(){return o.inCentre(this.p0,this.p1,this.p2)}}],[{key:"constructor_",value:function(){this.p0=null,this.p1=null,this.p2=null;var t=arguments[0],e=arguments[1],s=arguments[2];this.p0=t,this.p1=e,this.p2=s}},{key:"area",value:function(t,e,s){return Math.abs(((s.x-t.x)*(e.y-t.y)-(e.x-t.x)*(s.y-t.y))/2)}},{key:"signedArea",value:function(t,e,s){return((s.x-t.x)*(e.y-t.y)-(e.x-t.x)*(s.y-t.y))/2}},{key:"det",value:function(t,e,s,l){return t*l-e*s}},{key:"interpolateZ",value:function(t,e,s,l){var d=e.x,x=e.y,E=s.x-d,N=l.x-d,M=s.y-x,tt=l.y-x,ot=E*tt-N*M,mt=t.x-d,Ot=t.y-x,zt=(tt*mt-N*Ot)/ot,qt=(-M*mt+E*Ot)/ot;return e.getZ()+zt*(s.getZ()-e.getZ())+qt*(l.getZ()-e.getZ())}},{key:"longestSideLength",value:function(t,e,s){var l=t.distance(e),d=e.distance(s),x=s.distance(t),E=l;return d>E&&(E=d),x>E&&(E=x),E}},{key:"circumcentreDD",value:function(t,e,s){var l=Vt.valueOf(t.x).subtract(s.x),d=Vt.valueOf(t.y).subtract(s.y),x=Vt.valueOf(e.x).subtract(s.x),E=Vt.valueOf(e.y).subtract(s.y),N=Vt.determinant(l,d,x,E).multiply(2),M=l.sqr().add(d.sqr()),tt=x.sqr().add(E.sqr()),ot=Vt.determinant(d,M,E,tt),mt=Vt.determinant(l,M,x,tt),Ot=Vt.valueOf(s.x).subtract(ot.divide(N)).doubleValue(),zt=Vt.valueOf(s.y).add(mt.divide(N)).doubleValue();return new Q(Ot,zt)}},{key:"isAcute",value:function(t,e,s){return!!He.isAcute(t,e,s)&&!!He.isAcute(e,s,t)&&!!He.isAcute(s,t,e)}},{key:"circumcentre",value:function(t,e,s){var l=s.x,d=s.y,x=t.x-l,E=t.y-d,N=e.x-l,M=e.y-d,tt=2*o.det(x,E,N,M),ot=o.det(E,x*x+E*E,M,N*N+M*M),mt=o.det(x,x*x+E*E,N,N*N+M*M);return new Q(l-ot/tt,d+mt/tt)}},{key:"perpendicularBisector",value:function(t,e){var s=e.x-t.x,l=e.y-t.y,d=new Ps(t.x+s/2,t.y+l/2,1),x=new Ps(t.x-l+s/2,t.y+s+l/2,1);return new Ps(d,x)}},{key:"angleBisector",value:function(t,e,s){var l=e.distance(t),d=l/(l+e.distance(s)),x=s.x-t.x,E=s.y-t.y;return new Q(t.x+d*x,t.y+d*E)}},{key:"area3D",value:function(t,e,s){var l=e.x-t.x,d=e.y-t.y,x=e.getZ()-t.getZ(),E=s.x-t.x,N=s.y-t.y,M=s.getZ()-t.getZ(),tt=d*M-x*N,ot=x*E-l*M,mt=l*N-d*E,Ot=tt*tt+ot*ot+mt*mt,zt=Math.sqrt(Ot)/2;return zt}},{key:"centroid",value:function(t,e,s){var l=(t.x+e.x+s.x)/3,d=(t.y+e.y+s.y)/3;return new Q(l,d)}},{key:"inCentre",value:function(t,e,s){var l=e.distance(s),d=t.distance(s),x=t.distance(e),E=l+d+x,N=(l*t.x+d*e.x+x*s.x)/E,M=(l*t.y+d*e.y+x*s.y)/E;return new Q(N,M)}}])})(),_o=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"addRingSide",value:function(o,t,e,s,l){if(t===0&&o.length<Fn.MINIMUM_VALID_SIZE)return null;var d=s,x=l;o.length>=Fn.MINIMUM_VALID_SIZE&&Wt.isCCW(o)&&(d=l,x=s,e=Lt.opposite(e));var E=this._curveBuilder.getRingCurve(o,e,t);this.addCurve(E,d,x)}},{key:"addRingBothSides",value:function(o,t){this.addRingSide(o,t,Lt.LEFT,B.EXTERIOR,B.INTERIOR),this.addRingSide(o,t,Lt.RIGHT,B.INTERIOR,B.EXTERIOR)}},{key:"addPoint",value:function(o){if(this._distance<=0)return null;var t=o.getCoordinates(),e=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(e,B.EXTERIOR,B.INTERIOR)}},{key:"addPolygon",value:function(o){var t=this._distance,e=Lt.LEFT;this._distance<0&&(t=-this._distance,e=Lt.RIGHT);var s=o.getExteriorRing(),l=Me.removeRepeatedPoints(s.getCoordinates());if(this._distance<0&&this.isErodedCompletely(s,this._distance)||this._distance<=0&&l.length<3)return null;this.addRingSide(l,t,e,B.EXTERIOR,B.INTERIOR);for(var d=0;d<o.getNumInteriorRing();d++){var x=o.getInteriorRingN(d),E=Me.removeRepeatedPoints(x.getCoordinates());this._distance>0&&this.isErodedCompletely(x,-this._distance)||this.addRingSide(E,t,Lt.opposite(e),B.INTERIOR,B.EXTERIOR)}}},{key:"isTriangleErodedCompletely",value:function(o,t){var e=new vo(o[0],o[1],o[2]),s=e.inCentre();return en.pointToSegment(s,e.p0,e.p1)<Math.abs(t)}},{key:"addLineString",value:function(o){if(this._curveBuilder.isLineOffsetEmpty(this._distance))return null;var t=Me.removeRepeatedPoints(o.getCoordinates());if(Me.isRing(t)&&!this._curveBuilder.getBufferParameters().isSingleSided())this.addRingBothSides(t,this._distance);else{var e=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(e,B.EXTERIOR,B.INTERIOR)}}},{key:"addCurve",value:function(o,t,e){if(o===null||o.length<2)return null;var s=new mi(o,new Ae(0,B.BOUNDARY,t,e));this._curveList.add(s)}},{key:"getCurves",value:function(){return this.add(this._inputGeom),this._curveList}},{key:"add",value:function(o){if(o.isEmpty())return null;if(o instanceof Ni)this.addPolygon(o);else if(o instanceof di)this.addLineString(o);else if(o instanceof Ki)this.addPoint(o);else if(o instanceof Qn)this.addCollection(o);else if(o instanceof yn)this.addCollection(o);else if(o instanceof xs)this.addCollection(o);else{if(!(o instanceof on))throw new ge(o.getGeometryType());this.addCollection(o)}}},{key:"isErodedCompletely",value:function(o,t){var e=o.getCoordinates();if(e.length<4)return t<0;if(e.length===4)return this.isTriangleErodedCompletely(e,t);var s=o.getEnvelopeInternal(),l=Math.min(s.getHeight(),s.getWidth());return t<0&&2*Math.abs(t)>l}},{key:"addCollection",value:function(o){for(var t=0;t<o.getNumGeometries();t++){var e=o.getGeometryN(t);this.add(e)}}}],[{key:"constructor_",value:function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new Xt;var o=arguments[0],t=arguments[1],e=arguments[2];this._inputGeom=o,this._distance=t,this._curveBuilder=e}}])})(),va=(function(){return S((function o(){p(this,o)}),[{key:"locate",value:function(o){}}])})(),_a=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"next",value:function(){if(this._atStart)return this._atStart=!1,o.isAtomic(this._parent)&&this._index++,this._parent;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new Pe;var t=this._parent.getGeometryN(this._index++);return t instanceof on?(this._subcollectionIterator=new o(t),this._subcollectionIterator.next()):t}},{key:"remove",value:function(){throw new ge(this.getClass().getName())}},{key:"hasNext",value:function(){if(this._atStart)return!0;if(this._subcollectionIterator!==null){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}},{key:"interfaces_",get:function(){return[lo]}}],[{key:"constructor_",value:function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;var t=arguments[0];this._parent=t,this._atStart=!0,this._index=0,this._max=t.getNumGeometries()}},{key:"isAtomic",value:function(t){return!(t instanceof on)}}])})(),qo=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"locate",value:function(t){return o.locate(t,this._geom)}},{key:"interfaces_",get:function(){return[va]}}],[{key:"constructor_",value:function(){this._geom=null;var t=arguments[0];this._geom=t}},{key:"locatePointInPolygon",value:function(t,e){if(e.isEmpty())return B.EXTERIOR;var s=e.getExteriorRing(),l=o.locatePointInRing(t,s);if(l!==B.INTERIOR)return l;for(var d=0;d<e.getNumInteriorRing();d++){var x=e.getInteriorRingN(d),E=o.locatePointInRing(t,x);if(E===B.BOUNDARY)return B.BOUNDARY;if(E===B.INTERIOR)return B.EXTERIOR}return B.INTERIOR}},{key:"locatePointInRing",value:function(t,e){return e.getEnvelopeInternal().intersects(t)?xn.locateInRing(t,e.getCoordinates()):B.EXTERIOR}},{key:"containsPointInPolygon",value:function(t,e){return B.EXTERIOR!==o.locatePointInPolygon(t,e)}},{key:"locateInGeometry",value:function(t,e){if(e instanceof Ni)return o.locatePointInPolygon(t,e);if(e instanceof on)for(var s=new _a(e);s.hasNext();){var l=s.next();if(l!==e){var d=o.locateInGeometry(t,l);if(d!==B.EXTERIOR)return d}}return B.EXTERIOR}},{key:"isContained",value:function(t,e){return B.EXTERIOR!==o.locate(t,e)}},{key:"locate",value:function(t,e){return e.isEmpty()?B.EXTERIOR:e.getEnvelopeInternal().intersects(t)?o.locateInGeometry(t,e):B.EXTERIOR}}])})(),ya=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"getNextCW",value:function(o){this.getEdges();var t=this._edgeList.indexOf(o),e=t-1;return t===0&&(e=this._edgeList.size()-1),this._edgeList.get(e)}},{key:"propagateSideLabels",value:function(o){for(var t=B.NONE,e=this.iterator();e.hasNext();){var s=e.next().getLabel();s.isArea(o)&&s.getLocation(o,Lt.LEFT)!==B.NONE&&(t=s.getLocation(o,Lt.LEFT))}if(t===B.NONE)return null;for(var l=t,d=this.iterator();d.hasNext();){var x=d.next(),E=x.getLabel();if(E.getLocation(o,Lt.ON)===B.NONE&&E.setLocation(o,Lt.ON,l),E.isArea(o)){var N=E.getLocation(o,Lt.LEFT),M=E.getLocation(o,Lt.RIGHT);if(M!==B.NONE){if(M!==l)throw new bn("side location conflict",x.getCoordinate());N===B.NONE&&gt.shouldNeverReachHere("found single null side (at "+x.getCoordinate()+")"),l=N}else gt.isTrue(E.getLocation(o,Lt.LEFT)===B.NONE,"found single null side"),E.setLocation(o,Lt.RIGHT,l),E.setLocation(o,Lt.LEFT,l)}}}},{key:"getCoordinate",value:function(){var o=this.iterator();return o.hasNext()?o.next().getCoordinate():null}},{key:"print",value:function(o){fn.out.println("EdgeEndStar:   "+this.getCoordinate());for(var t=this.iterator();t.hasNext();)t.next().print(o)}},{key:"isAreaLabelsConsistent",value:function(o){return this.computeEdgeEndLabels(o.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}},{key:"checkAreaLabelsConsistent",value:function(o){var t=this.getEdges();if(t.size()<=0)return!0;var e=t.size()-1,s=t.get(e).getLabel().getLocation(o,Lt.LEFT);gt.isTrue(s!==B.NONE,"Found unlabelled area edge");for(var l=s,d=this.iterator();d.hasNext();){var x=d.next().getLabel();gt.isTrue(x.isArea(o),"Found non-area edge");var E=x.getLocation(o,Lt.LEFT),N=x.getLocation(o,Lt.RIGHT);if(E===N||N!==l)return!1;l=E}return!0}},{key:"findIndex",value:function(o){this.iterator();for(var t=0;t<this._edgeList.size();t++)if(this._edgeList.get(t)===o)return t;return-1}},{key:"iterator",value:function(){return this.getEdges().iterator()}},{key:"getEdges",value:function(){return this._edgeList===null&&(this._edgeList=new Xt(this._edgeMap.values())),this._edgeList}},{key:"getLocation",value:function(o,t,e){return this._ptInAreaLocation[o]===B.NONE&&(this._ptInAreaLocation[o]=qo.locate(t,e[o].getGeometry())),this._ptInAreaLocation[o]}},{key:"toString",value:function(){var o=new hr;o.append("EdgeEndStar:   "+this.getCoordinate()),o.append(`
`);for(var t=this.iterator();t.hasNext();){var e=t.next();o.append(e),o.append(`
`)}return o.toString()}},{key:"computeEdgeEndLabels",value:function(o){for(var t=this.iterator();t.hasNext();)t.next().computeLabel(o)}},{key:"computeLabelling",value:function(o){this.computeEdgeEndLabels(o[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var t=[!1,!1],e=this.iterator();e.hasNext();)for(var s=e.next().getLabel(),l=0;l<2;l++)s.isLine(l)&&s.getLocation(l)===B.BOUNDARY&&(t[l]=!0);for(var d=this.iterator();d.hasNext();)for(var x=d.next(),E=x.getLabel(),N=0;N<2;N++)if(E.isAnyNull(N)){var M=B.NONE;if(t[N])M=B.EXTERIOR;else{var tt=x.getCoordinate();M=this.getLocation(N,tt,o)}E.setAllLocationsIfNull(N,M)}}},{key:"getDegree",value:function(){return this._edgeMap.size()}},{key:"insertEdgeEnd",value:function(o,t){this._edgeMap.put(o,t),this._edgeList=null}}],[{key:"constructor_",value:function(){this._edgeMap=new Le,this._edgeList=null,this._ptInAreaLocation=[B.NONE,B.NONE]}}])})(),Yn=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"linkResultDirectedEdges",value:function(){this.getResultAreaEdges();for(var e=null,s=null,l=this._SCANNING_FOR_INCOMING,d=0;d<this._resultAreaEdgeList.size();d++){var x=this._resultAreaEdgeList.get(d),E=x.getSym();if(x.getLabel().isArea())switch(e===null&&x.isInResult()&&(e=x),l){case this._SCANNING_FOR_INCOMING:if(!E.isInResult())continue;s=E,l=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!x.isInResult())continue;s.setNext(x),l=this._SCANNING_FOR_INCOMING}}if(l===this._LINKING_TO_OUTGOING){if(e===null)throw new bn("no outgoing dirEdge found",this.getCoordinate());gt.isTrue(e.isInResult(),"unable to link last incoming dirEdge"),s.setNext(e)}}},{key:"insert",value:function(e){var s=e;this.insertEdgeEnd(s,s)}},{key:"getRightmostEdge",value:function(){var e=this.getEdges(),s=e.size();if(s<1)return null;var l=e.get(0);if(s===1)return l;var d=e.get(s-1),x=l.getQuadrant(),E=d.getQuadrant();return De.isNorthern(x)&&De.isNorthern(E)?l:De.isNorthern(x)||De.isNorthern(E)?l.getDy()!==0?l:d.getDy()!==0?d:(gt.shouldNeverReachHere("found two horizontal edges incident on node"),null):d}},{key:"print",value:function(e){fn.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var s=this.iterator();s.hasNext();){var l=s.next();e.print("out "),l.print(e),e.println(),e.print("in "),l.getSym().print(e),e.println()}}},{key:"getResultAreaEdges",value:function(){if(this._resultAreaEdgeList!==null)return this._resultAreaEdgeList;this._resultAreaEdgeList=new Xt;for(var e=this.iterator();e.hasNext();){var s=e.next();(s.isInResult()||s.getSym().isInResult())&&this._resultAreaEdgeList.add(s)}return this._resultAreaEdgeList}},{key:"updateLabelling",value:function(e){for(var s=this.iterator();s.hasNext();){var l=s.next().getLabel();l.setAllLocationsIfNull(0,e.getLocation(0)),l.setAllLocationsIfNull(1,e.getLocation(1))}}},{key:"linkAllDirectedEdges",value:function(){this.getEdges();for(var e=null,s=null,l=this._edgeList.size()-1;l>=0;l--){var d=this._edgeList.get(l),x=d.getSym();s===null&&(s=x),e!==null&&x.setNext(e),e=d}s.setNext(e)}},{key:"computeDepths",value:function(){if(arguments.length===1){var e=arguments[0],s=this.findIndex(e),l=e.getDepth(Lt.LEFT),d=e.getDepth(Lt.RIGHT),x=this.computeDepths(s+1,this._edgeList.size(),l);if(this.computeDepths(0,s,x)!==d)throw new bn("depth mismatch at "+e.getCoordinate())}else if(arguments.length===3){for(var E=arguments[1],N=arguments[2],M=arguments[0];M<E;M++){var tt=this._edgeList.get(M);tt.setEdgeDepths(Lt.RIGHT,N),N=tt.getDepth(Lt.LEFT)}return N}}},{key:"mergeSymLabels",value:function(){for(var e=this.iterator();e.hasNext();){var s=e.next();s.getLabel().merge(s.getSym().getLabel())}}},{key:"linkMinimalDirectedEdges",value:function(e){for(var s=null,l=null,d=this._SCANNING_FOR_INCOMING,x=this._resultAreaEdgeList.size()-1;x>=0;x--){var E=this._resultAreaEdgeList.get(x),N=E.getSym();switch(s===null&&E.getEdgeRing()===e&&(s=E),d){case this._SCANNING_FOR_INCOMING:if(N.getEdgeRing()!==e)continue;l=N,d=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(E.getEdgeRing()!==e)continue;l.setNextMin(E),d=this._SCANNING_FOR_INCOMING}}d===this._LINKING_TO_OUTGOING&&(gt.isTrue(s!==null,"found null for first outgoing dirEdge"),gt.isTrue(s.getEdgeRing()===e,"unable to link last incoming dirEdge"),l.setNextMin(s))}},{key:"getOutgoingDegree",value:function(){if(arguments.length===0){for(var e=0,s=this.iterator();s.hasNext();)s.next().isInResult()&&e++;return e}if(arguments.length===1){for(var l=arguments[0],d=0,x=this.iterator();x.hasNext();)x.next().getEdgeRing()===l&&d++;return d}}},{key:"getLabel",value:function(){return this._label}},{key:"findCoveredLineEdges",value:function(){for(var e=B.NONE,s=this.iterator();s.hasNext();){var l=s.next(),d=l.getSym();if(!l.isLineEdge()){if(l.isInResult()){e=B.INTERIOR;break}if(d.isInResult()){e=B.EXTERIOR;break}}}if(e===B.NONE)return null;for(var x=e,E=this.iterator();E.hasNext();){var N=E.next(),M=N.getSym();N.isLineEdge()?N.getEdge().setCovered(x===B.INTERIOR):(N.isInResult()&&(x=B.EXTERIOR),M.isInResult()&&(x=B.INTERIOR))}}},{key:"computeLabelling",value:function(e){rt(t,"computeLabelling",this,1).call(this,e),this._label=new Ae(B.NONE);for(var s=this.iterator();s.hasNext();)for(var l=s.next().getEdge().getLabel(),d=0;d<2;d++){var x=l.getLocation(d);x!==B.INTERIOR&&x!==B.BOUNDARY||this._label.setLocation(d,B.INTERIOR)}}}],[{key:"constructor_",value:function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}}])})(ya),Ri=(function(o){function t(){return p(this,t),y(this,t)}return D(t,o),S(t,[{key:"createNode",value:function(e){return new _r(e,new Yn)}}])})(ao),Lr=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"compareTo",value:function(t){var e=t;return o.compareOriented(this._pts,this._orientation,e._pts,e._orientation)}},{key:"interfaces_",get:function(){return[Rt]}}],[{key:"constructor_",value:function(){this._pts=null,this._orientation=null;var t=arguments[0];this._pts=t,this._orientation=o.orientation(t)}},{key:"orientation",value:function(t){return Me.increasingDirection(t)===1}},{key:"compareOriented",value:function(t,e,s,l){for(var d=e?1:-1,x=l?1:-1,E=e?t.length:-1,N=l?s.length:-1,M=e?0:t.length-1,tt=l?0:s.length-1;;){var ot=t[M].compareTo(s[tt]);if(ot!==0)return ot;var mt=(M+=d)===E,Ot=(tt+=x)===N;if(mt&&!Ot)return-1;if(!mt&&Ot)return 1;if(mt&&Ot)return 0}}}])})(),pi=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"print",value:function(o){o.print("MULTILINESTRING ( ");for(var t=0;t<this._edges.size();t++){var e=this._edges.get(t);t>0&&o.print(","),o.print("(");for(var s=e.getCoordinates(),l=0;l<s.length;l++)l>0&&o.print(","),o.print(s[l].x+" "+s[l].y);o.println(")")}o.print(")  ")}},{key:"addAll",value:function(o){for(var t=o.iterator();t.hasNext();)this.add(t.next())}},{key:"findEdgeIndex",value:function(o){for(var t=0;t<this._edges.size();t++)if(this._edges.get(t).equals(o))return t;return-1}},{key:"iterator",value:function(){return this._edges.iterator()}},{key:"getEdges",value:function(){return this._edges}},{key:"get",value:function(o){return this._edges.get(o)}},{key:"findEqualEdge",value:function(o){var t=new Lr(o.getCoordinates());return this._ocaMap.get(t)}},{key:"add",value:function(o){this._edges.add(o);var t=new Lr(o.getCoordinates());this._ocaMap.put(t,o)}}],[{key:"constructor_",value:function(){this._edges=new Xt,this._ocaMap=new Le}}])})(),yo=(function(){return S((function o(){p(this,o)}),[{key:"processIntersections",value:function(o,t,e,s){}},{key:"isDone",value:function(){}}])})(),nr=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"isTrivialIntersection",value:function(t,e,s,l){if(t===s&&this._li.getIntersectionNum()===1){if(o.isAdjacentSegments(e,l))return!0;if(t.isClosed()){var d=t.size()-1;if(e===0&&l===d||l===0&&e===d)return!0}}return!1}},{key:"getProperIntersectionPoint",value:function(){return this._properIntersectionPoint}},{key:"hasProperInteriorIntersection",value:function(){return this._hasProperInterior}},{key:"getLineIntersector",value:function(){return this._li}},{key:"hasProperIntersection",value:function(){return this._hasProper}},{key:"processIntersections",value:function(t,e,s,l){if(t===s&&e===l)return null;this.numTests++;var d=t.getCoordinates()[e],x=t.getCoordinates()[e+1],E=s.getCoordinates()[l],N=s.getCoordinates()[l+1];this._li.computeIntersection(d,x,E,N),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),this.isTrivialIntersection(t,e,s,l)||(this._hasIntersection=!0,t.addIntersections(this._li,e,0),s.addIntersections(this._li,l,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}},{key:"hasIntersection",value:function(){return this._hasIntersection}},{key:"isDone",value:function(){return!1}},{key:"hasInteriorIntersection",value:function(){return this._hasInterior}},{key:"interfaces_",get:function(){return[yo]}}],[{key:"constructor_",value:function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this._li=t}},{key:"isAdjacentSegments",value:function(t,e){return Math.abs(t-e)===1}}])})(),Yo=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"getSegmentIndex",value:function(){return this.segmentIndex}},{key:"getCoordinate",value:function(){return this.coord}},{key:"print",value:function(o){o.print(this.coord),o.print(" seg # = "+this.segmentIndex),o.println(" dist = "+this.dist)}},{key:"compareTo",value:function(o){var t=o;return this.compare(t.segmentIndex,t.dist)}},{key:"isEndPoint",value:function(o){return this.segmentIndex===0&&this.dist===0||this.segmentIndex===o}},{key:"toString",value:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist}},{key:"getDistance",value:function(){return this.dist}},{key:"compare",value:function(o,t){return this.segmentIndex<o?-1:this.segmentIndex>o?1:this.dist<t?-1:this.dist>t?1:0}},{key:"interfaces_",get:function(){return[Rt]}}],[{key:"constructor_",value:function(){this.coord=null,this.segmentIndex=null,this.dist=null;var o=arguments[0],t=arguments[1],e=arguments[2];this.coord=new Q(o),this.segmentIndex=t,this.dist=e}}])})(),Ir=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"print",value:function(o){o.println("Intersections:");for(var t=this.iterator();t.hasNext();)t.next().print(o)}},{key:"iterator",value:function(){return this._nodeMap.values().iterator()}},{key:"addSplitEdges",value:function(o){this.addEndpoints();for(var t=this.iterator(),e=t.next();t.hasNext();){var s=t.next(),l=this.createSplitEdge(e,s);o.add(l),e=s}}},{key:"addEndpoints",value:function(){var o=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[o],o,0)}},{key:"createSplitEdge",value:function(o,t){var e=t.segmentIndex-o.segmentIndex+2,s=this.edge.pts[t.segmentIndex],l=t.dist>0||!t.coord.equals2D(s);l||e--;var d=new Array(e).fill(null),x=0;d[x++]=new Q(o.coord);for(var E=o.segmentIndex+1;E<=t.segmentIndex;E++)d[x++]=this.edge.pts[E];return l&&(d[x]=t.coord),new ko(d,new Ae(this.edge._label))}},{key:"add",value:function(o,t,e){var s=new Yo(o,t,e),l=this._nodeMap.get(s);return l!==null?l:(this._nodeMap.put(s,s),s)}},{key:"isIntersection",value:function(o){for(var t=this.iterator();t.hasNext();)if(t.next().coord.equals(o))return!0;return!1}}],[{key:"constructor_",value:function(){this._nodeMap=new Le,this.edge=null;var o=arguments[0];this.edge=o}}])})(),xo=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"isIntersects",value:function(){return!this.isDisjoint()}},{key:"isCovers",value:function(){return(o.isTrue(this._matrix[B.INTERIOR][B.INTERIOR])||o.isTrue(this._matrix[B.INTERIOR][B.BOUNDARY])||o.isTrue(this._matrix[B.BOUNDARY][B.INTERIOR])||o.isTrue(this._matrix[B.BOUNDARY][B.BOUNDARY]))&&this._matrix[B.EXTERIOR][B.INTERIOR]===Pt.FALSE&&this._matrix[B.EXTERIOR][B.BOUNDARY]===Pt.FALSE}},{key:"isCoveredBy",value:function(){return(o.isTrue(this._matrix[B.INTERIOR][B.INTERIOR])||o.isTrue(this._matrix[B.INTERIOR][B.BOUNDARY])||o.isTrue(this._matrix[B.BOUNDARY][B.INTERIOR])||o.isTrue(this._matrix[B.BOUNDARY][B.BOUNDARY]))&&this._matrix[B.INTERIOR][B.EXTERIOR]===Pt.FALSE&&this._matrix[B.BOUNDARY][B.EXTERIOR]===Pt.FALSE}},{key:"set",value:function(){if(arguments.length===1)for(var t=arguments[0],e=0;e<t.length;e++){var s=Math.trunc(e/3),l=e%3;this._matrix[s][l]=Pt.toDimensionValue(t.charAt(e))}else if(arguments.length===3){var d=arguments[0],x=arguments[1],E=arguments[2];this._matrix[d][x]=E}}},{key:"isContains",value:function(){return o.isTrue(this._matrix[B.INTERIOR][B.INTERIOR])&&this._matrix[B.EXTERIOR][B.INTERIOR]===Pt.FALSE&&this._matrix[B.EXTERIOR][B.BOUNDARY]===Pt.FALSE}},{key:"setAtLeast",value:function(){if(arguments.length===1)for(var t=arguments[0],e=0;e<t.length;e++){var s=Math.trunc(e/3),l=e%3;this.setAtLeast(s,l,Pt.toDimensionValue(t.charAt(e)))}else if(arguments.length===3){var d=arguments[0],x=arguments[1],E=arguments[2];this._matrix[d][x]<E&&(this._matrix[d][x]=E)}}},{key:"setAtLeastIfValid",value:function(t,e,s){t>=0&&e>=0&&this.setAtLeast(t,e,s)}},{key:"isWithin",value:function(){return o.isTrue(this._matrix[B.INTERIOR][B.INTERIOR])&&this._matrix[B.INTERIOR][B.EXTERIOR]===Pt.FALSE&&this._matrix[B.BOUNDARY][B.EXTERIOR]===Pt.FALSE}},{key:"isTouches",value:function(t,e){return t>e?this.isTouches(e,t):(t===Pt.A&&e===Pt.A||t===Pt.L&&e===Pt.L||t===Pt.L&&e===Pt.A||t===Pt.P&&e===Pt.A||t===Pt.P&&e===Pt.L)&&this._matrix[B.INTERIOR][B.INTERIOR]===Pt.FALSE&&(o.isTrue(this._matrix[B.INTERIOR][B.BOUNDARY])||o.isTrue(this._matrix[B.BOUNDARY][B.INTERIOR])||o.isTrue(this._matrix[B.BOUNDARY][B.BOUNDARY]))}},{key:"isOverlaps",value:function(t,e){return t===Pt.P&&e===Pt.P||t===Pt.A&&e===Pt.A?o.isTrue(this._matrix[B.INTERIOR][B.INTERIOR])&&o.isTrue(this._matrix[B.INTERIOR][B.EXTERIOR])&&o.isTrue(this._matrix[B.EXTERIOR][B.INTERIOR]):t===Pt.L&&e===Pt.L&&this._matrix[B.INTERIOR][B.INTERIOR]===1&&o.isTrue(this._matrix[B.INTERIOR][B.EXTERIOR])&&o.isTrue(this._matrix[B.EXTERIOR][B.INTERIOR])}},{key:"isEquals",value:function(t,e){return t===e&&o.isTrue(this._matrix[B.INTERIOR][B.INTERIOR])&&this._matrix[B.INTERIOR][B.EXTERIOR]===Pt.FALSE&&this._matrix[B.BOUNDARY][B.EXTERIOR]===Pt.FALSE&&this._matrix[B.EXTERIOR][B.INTERIOR]===Pt.FALSE&&this._matrix[B.EXTERIOR][B.BOUNDARY]===Pt.FALSE}},{key:"toString",value:function(){for(var t=new Ie("123456789"),e=0;e<3;e++)for(var s=0;s<3;s++)t.setCharAt(3*e+s,Pt.toDimensionSymbol(this._matrix[e][s]));return t.toString()}},{key:"setAll",value:function(t){for(var e=0;e<3;e++)for(var s=0;s<3;s++)this._matrix[e][s]=t}},{key:"get",value:function(t,e){return this._matrix[t][e]}},{key:"transpose",value:function(){var t=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=t,t=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=t,t=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=t,this}},{key:"matches",value:function(t){if(t.length!==9)throw new Ct("Should be length 9: "+t);for(var e=0;e<3;e++)for(var s=0;s<3;s++)if(!o.matches(this._matrix[e][s],t.charAt(3*e+s)))return!1;return!0}},{key:"add",value:function(t){for(var e=0;e<3;e++)for(var s=0;s<3;s++)this.setAtLeast(e,s,t.get(e,s))}},{key:"isDisjoint",value:function(){return this._matrix[B.INTERIOR][B.INTERIOR]===Pt.FALSE&&this._matrix[B.INTERIOR][B.BOUNDARY]===Pt.FALSE&&this._matrix[B.BOUNDARY][B.INTERIOR]===Pt.FALSE&&this._matrix[B.BOUNDARY][B.BOUNDARY]===Pt.FALSE}},{key:"isCrosses",value:function(t,e){return t===Pt.P&&e===Pt.L||t===Pt.P&&e===Pt.A||t===Pt.L&&e===Pt.A?o.isTrue(this._matrix[B.INTERIOR][B.INTERIOR])&&o.isTrue(this._matrix[B.INTERIOR][B.EXTERIOR]):t===Pt.L&&e===Pt.P||t===Pt.A&&e===Pt.P||t===Pt.A&&e===Pt.L?o.isTrue(this._matrix[B.INTERIOR][B.INTERIOR])&&o.isTrue(this._matrix[B.EXTERIOR][B.INTERIOR]):t===Pt.L&&e===Pt.L&&this._matrix[B.INTERIOR][B.INTERIOR]===0}},{key:"interfaces_",get:function(){return[P]}}],[{key:"constructor_",value:function(){if(this._matrix=null,arguments.length===0)this._matrix=Array(3).fill().map((function(){return Array(3)})),this.setAll(Pt.FALSE);else if(arguments.length===1){if(typeof arguments[0]=="string"){var t=arguments[0];o.constructor_.call(this),this.set(t)}else if(arguments[0]instanceof o){var e=arguments[0];o.constructor_.call(this),this._matrix[B.INTERIOR][B.INTERIOR]=e._matrix[B.INTERIOR][B.INTERIOR],this._matrix[B.INTERIOR][B.BOUNDARY]=e._matrix[B.INTERIOR][B.BOUNDARY],this._matrix[B.INTERIOR][B.EXTERIOR]=e._matrix[B.INTERIOR][B.EXTERIOR],this._matrix[B.BOUNDARY][B.INTERIOR]=e._matrix[B.BOUNDARY][B.INTERIOR],this._matrix[B.BOUNDARY][B.BOUNDARY]=e._matrix[B.BOUNDARY][B.BOUNDARY],this._matrix[B.BOUNDARY][B.EXTERIOR]=e._matrix[B.BOUNDARY][B.EXTERIOR],this._matrix[B.EXTERIOR][B.INTERIOR]=e._matrix[B.EXTERIOR][B.INTERIOR],this._matrix[B.EXTERIOR][B.BOUNDARY]=e._matrix[B.EXTERIOR][B.BOUNDARY],this._matrix[B.EXTERIOR][B.EXTERIOR]=e._matrix[B.EXTERIOR][B.EXTERIOR]}}}},{key:"matches",value:function(){if(Number.isInteger(arguments[0])&&typeof arguments[1]=="string"){var t=arguments[0],e=arguments[1];return e===Pt.SYM_DONTCARE||e===Pt.SYM_TRUE&&(t>=0||t===Pt.TRUE)||e===Pt.SYM_FALSE&&t===Pt.FALSE||e===Pt.SYM_P&&t===Pt.P||e===Pt.SYM_L&&t===Pt.L||e===Pt.SYM_A&&t===Pt.A}if(typeof arguments[0]=="string"&&typeof arguments[1]=="string"){var s=arguments[1];return new o(arguments[0]).matches(s)}}},{key:"isTrue",value:function(t){return t>=0||t===Pt.TRUE}}])})(),vi=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"size",value:function(){return this._size}},{key:"addAll",value:function(t){return t===null||t.length===0?null:(this.ensureCapacity(this._size+t.length),fn.arraycopy(t,0,this._data,this._size,t.length),void(this._size+=t.length))}},{key:"ensureCapacity",value:function(t){if(t<=this._data.length)return null;var e=Math.max(t,2*this._data.length);this._data=be.copyOf(this._data,e)}},{key:"toArray",value:function(){var t=new Array(this._size).fill(null);return fn.arraycopy(this._data,0,t,0,this._size),t}},{key:"add",value:function(t){this.ensureCapacity(this._size+1),this._data[this._size]=t,++this._size}}],[{key:"constructor_",value:function(){if(this._data=null,this._size=0,arguments.length===0)o.constructor_.call(this,10);else if(arguments.length===1){var t=arguments[0];this._data=new Array(t).fill(null)}}}])})(),xa=(function(){function o(){p(this,o)}return S(o,[{key:"getChainStartIndices",value:function(t){var e=0,s=new vi(Math.trunc(t.length/2));s.add(e);do{var l=this.findChainEnd(t,e);s.add(l),e=l}while(e<t.length-1);return s.toArray()}},{key:"findChainEnd",value:function(t,e){for(var s=De.quadrant(t[e],t[e+1]),l=e+1;l<t.length&&De.quadrant(t[l-1],t[l])===s;)l++;return l-1}},{key:"OLDgetChainStartIndices",value:function(t){var e=0,s=new Xt;s.add(e);do{var l=this.findChainEnd(t,e);s.add(l),e=l}while(e<t.length-1);return o.toIntArray(s)}}],[{key:"toIntArray",value:function(t){for(var e=new Array(t.size()).fill(null),s=0;s<e.length;s++)e[s]=t.get(s).intValue();return e}}])})(),Mi=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"getCoordinates",value:function(){return this.pts}},{key:"getMaxX",value:function(o){var t=this.pts[this.startIndex[o]].x,e=this.pts[this.startIndex[o+1]].x;return t>e?t:e}},{key:"getMinX",value:function(o){var t=this.pts[this.startIndex[o]].x,e=this.pts[this.startIndex[o+1]].x;return t<e?t:e}},{key:"computeIntersectsForChain",value:function(){if(arguments.length===4){var o=arguments[0],t=arguments[1],e=arguments[2],s=arguments[3];this.computeIntersectsForChain(this.startIndex[o],this.startIndex[o+1],t,t.startIndex[e],t.startIndex[e+1],s)}else if(arguments.length===6){var l=arguments[0],d=arguments[1],x=arguments[2],E=arguments[3],N=arguments[4],M=arguments[5];if(d-l==1&&N-E==1)return M.addIntersections(this.e,l,x.e,E),null;if(!this.overlaps(l,d,x,E,N))return null;var tt=Math.trunc((l+d)/2),ot=Math.trunc((E+N)/2);l<tt&&(E<ot&&this.computeIntersectsForChain(l,tt,x,E,ot,M),ot<N&&this.computeIntersectsForChain(l,tt,x,ot,N,M)),tt<d&&(E<ot&&this.computeIntersectsForChain(tt,d,x,E,ot,M),ot<N&&this.computeIntersectsForChain(tt,d,x,ot,N,M))}}},{key:"overlaps",value:function(o,t,e,s,l){return ee.intersects(this.pts[o],this.pts[t],e.pts[s],e.pts[l])}},{key:"getStartIndexes",value:function(){return this.startIndex}},{key:"computeIntersects",value:function(o,t){for(var e=0;e<this.startIndex.length-1;e++)for(var s=0;s<o.startIndex.length-1;s++)this.computeIntersectsForChain(e,o,s,t)}}],[{key:"constructor_",value:function(){this.e=null,this.pts=null,this.startIndex=null;var o=arguments[0];this.e=o,this.pts=o.getCoordinates();var t=new xa;this.startIndex=t.getChainStartIndices(this.pts)}}])})(),jr=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"getDepth",value:function(t,e){return this._depth[t][e]}},{key:"setDepth",value:function(t,e,s){this._depth[t][e]=s}},{key:"isNull",value:function(){if(arguments.length===0){for(var t=0;t<2;t++)for(var e=0;e<3;e++)if(this._depth[t][e]!==o.NULL_VALUE)return!1;return!0}if(arguments.length===1){var s=arguments[0];return this._depth[s][1]===o.NULL_VALUE}if(arguments.length===2){var l=arguments[0],d=arguments[1];return this._depth[l][d]===o.NULL_VALUE}}},{key:"normalize",value:function(){for(var t=0;t<2;t++)if(!this.isNull(t)){var e=this._depth[t][1];this._depth[t][2]<e&&(e=this._depth[t][2]),e<0&&(e=0);for(var s=1;s<3;s++){var l=0;this._depth[t][s]>e&&(l=1),this._depth[t][s]=l}}}},{key:"getDelta",value:function(t){return this._depth[t][Lt.RIGHT]-this._depth[t][Lt.LEFT]}},{key:"getLocation",value:function(t,e){return this._depth[t][e]<=0?B.EXTERIOR:B.INTERIOR}},{key:"toString",value:function(){return"A: "+this._depth[0][1]+","+this._depth[0][2]+" B: "+this._depth[1][1]+","+this._depth[1][2]}},{key:"add",value:function(){if(arguments.length===1)for(var t=arguments[0],e=0;e<2;e++)for(var s=1;s<3;s++){var l=t.getLocation(e,s);l!==B.EXTERIOR&&l!==B.INTERIOR||(this.isNull(e,s)?this._depth[e][s]=o.depthAtLocation(l):this._depth[e][s]+=o.depthAtLocation(l))}else if(arguments.length===3){var d=arguments[0],x=arguments[1];arguments[2]===B.INTERIOR&&this._depth[d][x]++}}}],[{key:"constructor_",value:function(){this._depth=Array(2).fill().map((function(){return Array(3)}));for(var t=0;t<2;t++)for(var e=0;e<3;e++)this._depth[t][e]=o.NULL_VALUE}},{key:"depthAtLocation",value:function(t){return t===B.EXTERIOR?0:t===B.INTERIOR?1:o.NULL_VALUE}}])})();jr.NULL_VALUE=-1;var ko=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"getDepth",value:function(){return this._depth}},{key:"getCollapsedEdge",value:function(){var e=new Array(2).fill(null);return e[0]=this.pts[0],e[1]=this.pts[1],new t(e,Ae.toLineLabel(this._label))}},{key:"isIsolated",value:function(){return this._isIsolated}},{key:"getCoordinates",value:function(){return this.pts}},{key:"setIsolated",value:function(e){this._isIsolated=e}},{key:"setName",value:function(e){this._name=e}},{key:"equals",value:function(e){if(!(e instanceof t))return!1;var s=e;if(this.pts.length!==s.pts.length)return!1;for(var l=!0,d=!0,x=this.pts.length,E=0;E<this.pts.length;E++)if(this.pts[E].equals2D(s.pts[E])||(l=!1),this.pts[E].equals2D(s.pts[--x])||(d=!1),!l&&!d)return!1;return!0}},{key:"getCoordinate",value:function(){if(arguments.length===0)return this.pts.length>0?this.pts[0]:null;if(arguments.length===1){var e=arguments[0];return this.pts[e]}}},{key:"print",value:function(e){e.print("edge "+this._name+": "),e.print("LINESTRING (");for(var s=0;s<this.pts.length;s++)s>0&&e.print(","),e.print(this.pts[s].x+" "+this.pts[s].y);e.print(")  "+this._label+" "+this._depthDelta)}},{key:"computeIM",value:function(e){t.updateIM(this._label,e)}},{key:"isCollapsed",value:function(){return!!this._label.isArea()&&this.pts.length===3&&!!this.pts[0].equals(this.pts[2])}},{key:"isClosed",value:function(){return this.pts[0].equals(this.pts[this.pts.length-1])}},{key:"getMaximumSegmentIndex",value:function(){return this.pts.length-1}},{key:"getDepthDelta",value:function(){return this._depthDelta}},{key:"getNumPoints",value:function(){return this.pts.length}},{key:"printReverse",value:function(e){e.print("edge "+this._name+": ");for(var s=this.pts.length-1;s>=0;s--)e.print(this.pts[s]+" ");e.println("")}},{key:"getMonotoneChainEdge",value:function(){return this._mce===null&&(this._mce=new Mi(this)),this._mce}},{key:"getEnvelope",value:function(){if(this._env===null){this._env=new ee;for(var e=0;e<this.pts.length;e++)this._env.expandToInclude(this.pts[e])}return this._env}},{key:"addIntersection",value:function(e,s,l,d){var x=new Q(e.getIntersection(d)),E=s,N=e.getEdgeDistance(l,d),M=E+1;if(M<this.pts.length){var tt=this.pts[M];x.equals2D(tt)&&(E=M,N=0)}this.eiList.add(x,E,N)}},{key:"toString",value:function(){var e=new Ie;e.append("edge "+this._name+": "),e.append("LINESTRING (");for(var s=0;s<this.pts.length;s++)s>0&&e.append(","),e.append(this.pts[s].x+" "+this.pts[s].y);return e.append(")  "+this._label+" "+this._depthDelta),e.toString()}},{key:"isPointwiseEqual",value:function(e){if(this.pts.length!==e.pts.length)return!1;for(var s=0;s<this.pts.length;s++)if(!this.pts[s].equals2D(e.pts[s]))return!1;return!0}},{key:"setDepthDelta",value:function(e){this._depthDelta=e}},{key:"getEdgeIntersectionList",value:function(){return this.eiList}},{key:"addIntersections",value:function(e,s,l){for(var d=0;d<e.getIntersectionNum();d++)this.addIntersection(e,s,l,d)}}],[{key:"constructor_",value:function(){if(this.pts=null,this._env=null,this.eiList=new Ir(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new jr,this._depthDelta=0,arguments.length===1){var e=arguments[0];t.constructor_.call(this,e,null)}else if(arguments.length===2){var s=arguments[0],l=arguments[1];this.pts=s,this._label=l}}},{key:"updateIM",value:function(){if(!(arguments.length===2&&arguments[1]instanceof xo&&arguments[0]instanceof Ae))return rt(t,"updateIM",this).apply(this,arguments);var e=arguments[0],s=arguments[1];s.setAtLeastIfValid(e.getLocation(0,Lt.ON),e.getLocation(1,Lt.ON),1),e.isArea()&&(s.setAtLeastIfValid(e.getLocation(0,Lt.LEFT),e.getLocation(1,Lt.LEFT),2),s.setAtLeastIfValid(e.getLocation(0,Lt.RIGHT),e.getLocation(1,Lt.RIGHT),2))}}])})(Ee),Kr=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"setWorkingPrecisionModel",value:function(t){this._workingPrecisionModel=t}},{key:"insertUniqueEdge",value:function(t){var e=this._edgeList.findEqualEdge(t);if(e!==null){var s=e.getLabel(),l=t.getLabel();e.isPointwiseEqual(t)||(l=new Ae(t.getLabel())).flip(),s.merge(l);var d=o.depthDelta(l),x=e.getDepthDelta()+d;e.setDepthDelta(x)}else this._edgeList.add(t),t.setDepthDelta(o.depthDelta(t.getLabel()))}},{key:"buildSubgraphs",value:function(t,e){for(var s=new Xt,l=t.iterator();l.hasNext();){var d=l.next(),x=d.getRightmostCoordinate(),E=new En(s).getDepth(x);d.computeDepth(E),d.findResultEdges(),s.add(d),e.add(d.getDirectedEdges(),d.getNodes())}}},{key:"createSubgraphs",value:function(t){for(var e=new Xt,s=t.getNodes().iterator();s.hasNext();){var l=s.next();if(!l.isVisited()){var d=new Xi;d.create(l),e.add(d)}}return Pi.sort(e,Pi.reverseOrder()),e}},{key:"createEmptyResultGeometry",value:function(){return this._geomFact.createPolygon()}},{key:"getNoder",value:function(t){if(this._workingNoder!==null)return this._workingNoder;var e=new go,s=new Gn;return s.setPrecisionModel(t),e.setSegmentIntersector(new nr(s)),e}},{key:"buffer",value:function(t,e){var s=this._workingPrecisionModel;s===null&&(s=t.getPrecisionModel()),this._geomFact=t.getFactory();var l=new er(s,this._bufParams),d=new _o(t,e,l).getCurves();if(d.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(d,s),this._graph=new wr(new Ri),this._graph.addEdges(this._edgeList.getEdges());var x=this.createSubgraphs(this._graph),E=new Ls(this._geomFact);this.buildSubgraphs(x,E);var N=E.getPolygons();return N.size()<=0?this.createEmptyResultGeometry():this._geomFact.buildGeometry(N)}},{key:"computeNodedEdges",value:function(t,e){var s=this.getNoder(e);s.computeNodes(t);for(var l=s.getNodedSubstrings().iterator();l.hasNext();){var d=l.next(),x=d.getCoordinates();if(x.length!==2||!x[0].equals2D(x[1])){var E=d.getData(),N=new ko(d.getCoordinates(),new Ae(E));this.insertUniqueEdge(N)}}}},{key:"setNoder",value:function(t){this._workingNoder=t}}],[{key:"constructor_",value:function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new pi;var t=arguments[0];this._bufParams=t}},{key:"depthDelta",value:function(t){var e=t.getLocation(0,Lt.LEFT),s=t.getLocation(0,Lt.RIGHT);return e===B.INTERIOR&&s===B.EXTERIOR?1:e===B.EXTERIOR&&s===B.INTERIOR?-1:0}},{key:"convertSegStrings",value:function(t){for(var e=new ti,s=new Xt;t.hasNext();){var l=t.next(),d=e.createLineString(l.getCoordinates());s.add(d)}return e.buildGeometry(s)}}])})(),$r=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"rescale",value:function(){if(ne(arguments[0],ye))for(var t=arguments[0].iterator();t.hasNext();){var e=t.next();this.rescale(e.getCoordinates())}else if(arguments[0]instanceof Array){for(var s=arguments[0],l=0;l<s.length;l++)s[l].x=s[l].x/this._scaleFactor+this._offsetX,s[l].y=s[l].y/this._scaleFactor+this._offsetY;s.length===2&&s[0].equals2D(s[1])&&fn.out.println(s)}}},{key:"scale",value:function(){if(ne(arguments[0],ye)){for(var t=arguments[0],e=new Xt(t.size()),s=t.iterator();s.hasNext();){var l=s.next();e.add(new mi(this.scale(l.getCoordinates()),l.getData()))}return e}if(arguments[0]instanceof Array){for(var d=arguments[0],x=new Array(d.length).fill(null),E=0;E<d.length;E++)x[E]=new Q(Math.round((d[E].x-this._offsetX)*this._scaleFactor),Math.round((d[E].y-this._offsetY)*this._scaleFactor),d[E].getZ());return Me.removeRepeatedPoints(x)}}},{key:"isIntegerPrecision",value:function(){return this._scaleFactor===1}},{key:"getNodedSubstrings",value:function(){var t=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(t),t}},{key:"computeNodes",value:function(t){var e=t;this._isScaled&&(e=this.scale(t)),this._noder.computeNodes(e)}},{key:"interfaces_",get:function(){return[fo]}}],[{key:"constructor_",value:function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,arguments.length===2){var t=arguments[0],e=arguments[1];o.constructor_.call(this,t,e,0,0)}else if(arguments.length===4){var s=arguments[0],l=arguments[1];this._noder=s,this._scaleFactor=l,this._isScaled=!this.isIntegerPrecision()}}}])})(),dn=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"checkEndPtVertexIntersections",value:function(){if(arguments.length===0)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next().getCoordinates();this.checkEndPtVertexIntersections(e[0],this._segStrings),this.checkEndPtVertexIntersections(e[e.length-1],this._segStrings)}else if(arguments.length===2){for(var s=arguments[0],l=arguments[1].iterator();l.hasNext();)for(var d=l.next().getCoordinates(),x=1;x<d.length-1;x++)if(d[x].equals(s))throw new st("found endpt/interior pt intersection at index "+x+" :pt "+s)}}},{key:"checkInteriorIntersections",value:function(){if(arguments.length===0)for(var t=this._segStrings.iterator();t.hasNext();)for(var e=t.next(),s=this._segStrings.iterator();s.hasNext();){var l=s.next();this.checkInteriorIntersections(e,l)}else if(arguments.length===2)for(var d=arguments[0],x=arguments[1],E=d.getCoordinates(),N=x.getCoordinates(),M=0;M<E.length-1;M++)for(var tt=0;tt<N.length-1;tt++)this.checkInteriorIntersections(d,M,x,tt);else if(arguments.length===4){var ot=arguments[0],mt=arguments[1],Ot=arguments[2],zt=arguments[3];if(ot===Ot&&mt===zt)return null;var qt=ot.getCoordinates()[mt],ce=ot.getCoordinates()[mt+1],se=Ot.getCoordinates()[zt],pe=Ot.getCoordinates()[zt+1];if(this._li.computeIntersection(qt,ce,se,pe),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,qt,ce)||this.hasInteriorIntersection(this._li,se,pe)))throw new st("found non-noded intersection at "+qt+"-"+ce+" and "+se+"-"+pe)}}},{key:"checkValid",value:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}},{key:"checkCollapses",value:function(){if(arguments.length===0)for(var t=this._segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(arguments.length===1)for(var s=arguments[0].getCoordinates(),l=0;l<s.length-2;l++)this.checkCollapse(s[l],s[l+1],s[l+2])}},{key:"hasInteriorIntersection",value:function(t,e,s){for(var l=0;l<t.getIntersectionNum();l++){var d=t.getIntersection(l);if(!d.equals(e)&&!d.equals(s))return!0}return!1}},{key:"checkCollapse",value:function(t,e,s){if(t.equals(s))throw new st("found non-noded collapse at "+o.fact.createLineString([t,e,s]))}}],[{key:"constructor_",value:function(){this._li=new Gn,this._segStrings=null;var t=arguments[0];this._segStrings=t}}])})();dn.fact=new ti;var wo=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"intersectsScaled",value:function(t,e){var s=Math.min(t.x,e.x),l=Math.max(t.x,e.x),d=Math.min(t.y,e.y),x=Math.max(t.y,e.y),E=this._maxx<s||this._minx>l||this._maxy<d||this._miny>x;if(E)return!1;var N=this.intersectsToleranceSquare(t,e);return gt.isTrue(!(E&&N),"Found bad envelope test"),N}},{key:"initCorners",value:function(t){var e=.5;this._minx=t.x-e,this._maxx=t.x+e,this._miny=t.y-e,this._maxy=t.y+e,this._corner[0]=new Q(this._maxx,this._maxy),this._corner[1]=new Q(this._minx,this._maxy),this._corner[2]=new Q(this._minx,this._miny),this._corner[3]=new Q(this._maxx,this._miny)}},{key:"intersects",value:function(t,e){return this._scaleFactor===1?this.intersectsScaled(t,e):(this.copyScaled(t,this._p0Scaled),this.copyScaled(e,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}},{key:"scale",value:function(t){return Math.round(t*this._scaleFactor)}},{key:"getCoordinate",value:function(){return this._originalPt}},{key:"copyScaled",value:function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)}},{key:"getSafeEnvelope",value:function(){if(this._safeEnv===null){var t=o.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new ee(this._originalPt.x-t,this._originalPt.x+t,this._originalPt.y-t,this._originalPt.y+t)}return this._safeEnv}},{key:"intersectsPixelClosure",value:function(t,e){return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.hasIntersection()||(this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.hasIntersection())))}},{key:"intersectsToleranceSquare",value:function(t,e){var s=!1,l=!1;return this._li.computeIntersection(t,e,this._corner[0],this._corner[1]),!!this._li.isProper()||(this._li.computeIntersection(t,e,this._corner[1],this._corner[2]),!!this._li.isProper()||(this._li.hasIntersection()&&(s=!0),this._li.computeIntersection(t,e,this._corner[2],this._corner[3]),!!this._li.isProper()||(this._li.hasIntersection()&&(l=!0),this._li.computeIntersection(t,e,this._corner[3],this._corner[0]),!!this._li.isProper()||!(!s||!l)||!!t.equals(this._pt)||!!e.equals(this._pt))))}},{key:"addSnappedNode",value:function(t,e){var s=t.getCoordinate(e),l=t.getCoordinate(e+1);return!!this.intersects(s,l)&&(t.addIntersection(this.getCoordinate(),e),!0)}}],[{key:"constructor_",value:function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=new Array(4).fill(null),this._safeEnv=null;var t=arguments[0],e=arguments[1],s=arguments[2];if(this._originalPt=t,this._pt=t,this._scaleFactor=e,this._li=s,e<=0)throw new Ct("Scale factor must be non-zero");e!==1&&(this._pt=new Q(this.scale(t.x),this.scale(t.y)),this._p0Scaled=new Q,this._p1Scaled=new Q),this.initCorners(this._pt)}}])})();wo.SAFE_ENV_EXPANSION_FACTOR=.75;var _i=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"select",value:function(){if(arguments.length!==1){if(arguments.length===2){var o=arguments[1];arguments[0].getLineSegment(o,this.selectedSegment),this.select(this.selectedSegment)}}}}],[{key:"constructor_",value:function(){this.selectedSegment=new wn}}])})(),Ho=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"snap",value:function(){if(arguments.length===1){var o=arguments[0];return this.snap(o,null,-1)}if(arguments.length===3){var t=arguments[0],e=arguments[1],s=arguments[2],l=t.getSafeEnvelope(),d=new Hn(t,e,s);return this._index.query(l,new((function(){return S((function x(){p(this,x)}),[{key:"interfaces_",get:function(){return[uo]}},{key:"visitItem",value:function(x){x.select(l,d)}}])})())),d.isNodeAdded()}}}],[{key:"constructor_",value:function(){this._index=null;var o=arguments[0];this._index=o}}])})(),Hn=(function(o){function t(){var e;return p(this,t),e=y(this,t),t.constructor_.apply(e,arguments),e}return D(t,o),S(t,[{key:"isNodeAdded",value:function(){return this._isNodeAdded}},{key:"select",value:function(){if(!(arguments.length===2&&Number.isInteger(arguments[1])&&arguments[0]instanceof co))return rt(t,"select",this,1).apply(this,arguments);var e=arguments[1],s=arguments[0].getContext();if(this._parentEdge===s&&(e===this._hotPixelVertexIndex||e+1===this._hotPixelVertexIndex))return null;this._isNodeAdded|=this._hotPixel.addSnappedNode(s,e)}}],[{key:"constructor_",value:function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;var e=arguments[0],s=arguments[1],l=arguments[2];this._hotPixel=e,this._parentEdge=s,this._hotPixelVertexIndex=l}}])})(_i);Ho.HotPixelSnapAction=Hn;var Nr=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"processIntersections",value:function(o,t,e,s){if(o===e&&t===s)return null;var l=o.getCoordinates()[t],d=o.getCoordinates()[t+1],x=e.getCoordinates()[s],E=e.getCoordinates()[s+1];if(this._li.computeIntersection(l,d,x,E),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(var N=0;N<this._li.getIntersectionNum();N++)this._interiorIntersections.add(this._li.getIntersection(N));o.addIntersections(this._li,t,0),e.addIntersections(this._li,s,1)}}},{key:"isDone",value:function(){return!1}},{key:"getInteriorIntersections",value:function(){return this._interiorIntersections}},{key:"interfaces_",get:function(){return[yo]}}],[{key:"constructor_",value:function(){this._li=null,this._interiorIntersections=null;var o=arguments[0];this._li=o,this._interiorIntersections=new Xt}}])})(),Os=(function(){return S((function o(){p(this,o),o.constructor_.apply(this,arguments)}),[{key:"checkCorrectness",value:function(o){var t=mi.getNodedSubstrings(o),e=new dn(t);try{e.checkValid()}catch(s){if(!(s instanceof Mt))throw s;s.printStackTrace()}}},{key:"getNodedSubstrings",value:function(){return mi.getNodedSubstrings(this._nodedSegStrings)}},{key:"snapRound",value:function(o,t){var e=this.findInteriorIntersections(o,t);this.computeIntersectionSnaps(e),this.computeVertexSnaps(o)}},{key:"findInteriorIntersections",value:function(o,t){var e=new Nr(t);return this._noder.setSegmentIntersector(e),this._noder.computeNodes(o),e.getInteriorIntersections()}},{key:"computeVertexSnaps",value:function(){if(ne(arguments[0],ye))for(var o=arguments[0].iterator();o.hasNext();){var t=o.next();this.computeVertexSnaps(t)}else if(arguments[0]instanceof mi)for(var e=arguments[0],s=e.getCoordinates(),l=0;l<s.length;l++){var d=new wo(s[l],this._scaleFactor,this._li);this._pointSnapper.snap(d,e,l)&&e.addIntersection(s[l],l)}}},{key:"computeNodes",value:function(o){this._nodedSegStrings=o,this._noder=new go,this._pointSnapper=new Ho(this._noder.getIndex()),this.snapRound(o,this._li)}},{key:"computeIntersectionSnaps",value:function(o){for(var t=o.iterator();t.hasNext();){var e=t.next(),s=new wo(e,this._scaleFactor,this._li);this._pointSnapper.snap(s)}}},{key:"interfaces_",get:function(){return[fo]}}],[{key:"constructor_",value:function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;var o=arguments[0];this._pm=o,this._li=new Gn,this._li.setPrecisionModel(o),this._scaleFactor=o.getScale()}}])})(),yi=(function(){function o(){p(this,o),o.constructor_.apply(this,arguments)}return S(o,[{key:"bufferFixedPrecision",value:function(t){var e=new $r(new Os(new nn(1)),t.getScale()),s=new Kr(this._bufParams);s.setWorkingPrecisionModel(t),s.setNoder(e),this._resultGeometry=s.buffer(this._argGeom,this._distance)}},{key:"bufferReducedPrecision",value:function(){if(arguments.length===0){for(var t=o.MAX_PRECISION_DIGITS;t>=0;t--){try{this.bufferReducedPrecision(t)}catch(d){if(!(d instanceof bn))throw d;this._saveException=d}if(this._resultGeometry!==null)return null}throw this._saveException}if(arguments.length===1){var e=arguments[0],s=o.precisionScaleFactor(this._argGeom,this._distance,e),l=new nn(s);this.bufferFixedPrecision(l)}}},{key:"computeGeometry",value:function(){if(this.bufferOriginalPrecision(),this._resultGeometry!==null)return null;var t=this._argGeom.getFactory().getPrecisionModel();t.getType()===nn.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()}},{key:"setQuadrantSegments",value:function(t){this._bufParams.setQuadrantSegments(t)}},{key:"bufferOriginalPrecision",value:function(){try{var t=new Kr(this._bufParams);this._resultGeometry=t.buffer(this._argGeom,this._distance)}catch(e){if(!(e instanceof st))throw e;this._saveException=e}}},{key:"getResultGeometry",value:function(t){return this._distance=t,this.computeGeometry(),this._resultGeometry}},{key:"setEndCapStyle",value:function(t){this._bufParams.setEndCapStyle(t)}}],[{key:"constructor_",value:function(){if(this._argGeom=null,this._distance=null,this._bufParams=new xt,this._resultGeometry=null,this._saveException=null,arguments.length===1){var t=arguments[0];this._argGeom=t}else if(arguments.length===2){var e=arguments[0],s=arguments[1];this._argGeom=e,this._bufParams=s}}},{key:"bufferOp",value:function(){if(arguments.length===2){var t=arguments[1];return new o(arguments[0]).getResultGeometry(t)}if(arguments.length===3){if(Number.isInteger(arguments[2])&&arguments[0]instanceof At&&typeof arguments[1]=="number"){var e=arguments[1],s=arguments[2],l=new o(arguments[0]);return l.setQuadrantSegments(s),l.getResultGeometry(e)}if(arguments[2]instanceof xt&&arguments[0]instanceof At&&typeof arguments[1]=="number"){var d=arguments[1];return new o(arguments[0],arguments[2]).getResultGeometry(d)}}else if(arguments.length===4){var x=arguments[1],E=arguments[2],N=arguments[3],M=new o(arguments[0]);return M.setQuadrantSegments(E),M.setEndCapStyle(N),M.getResultGeometry(x)}}},{key:"precisionScaleFactor",value:function(t,e,s){var l=t.getEnvelopeInternal(),d=Si.max(Math.abs(l.getMaxX()),Math.abs(l.getMaxY()),Math.abs(l.getMinX()),Math.abs(l.getMinY()))+2*(e>0?e:0),x=s-Math.trunc(Math.log(d)/Math.log(10)+1);return Math.pow(10,x)}}])})();yi.CAP_ROUND=xt.CAP_ROUND,yi.CAP_BUTT=xt.CAP_FLAT,yi.CAP_FLAT=xt.CAP_FLAT,yi.CAP_SQUARE=xt.CAP_SQUARE,yi.MAX_PRECISION_DIGITS=12;var Qr=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"],Jr=(function(){return S((function o(t){p(this,o),this.geometryFactory=t||new ti}),[{key:"read",value:function(o){var t,e=(t=typeof o=="string"?JSON.parse(o):o).type;if(!an[e])throw new Error("Unknown GeoJSON type: "+t.type);return Qr.indexOf(e)!==-1?an[e].call(this,t.coordinates):e==="GeometryCollection"?an[e].call(this,t.geometries):an[e].call(this,t)}},{key:"write",value:function(o){var t=o.getGeometryType();if(!un[t])throw new Error("Geometry is not supported");return un[t].call(this,o)}}])})(),an={Feature:function(o){var t={};for(var e in o)t[e]=o[e];if(o.geometry){var s=o.geometry.type;if(!an[s])throw new Error("Unknown GeoJSON type: "+o.type);t.geometry=this.read(o.geometry)}return o.bbox&&(t.bbox=an.bbox.call(this,o.bbox)),t},FeatureCollection:function(o){var t={};if(o.features){t.features=[];for(var e=0;e<o.features.length;++e)t.features.push(this.read(o.features[e]))}return o.bbox&&(t.bbox=this.parse.bbox.call(this,o.bbox)),t},coordinates:function(o){for(var t=[],e=0;e<o.length;++e){var s=o[e];t.push(C(Q,pt(s)))}return t},bbox:function(o){return this.geometryFactory.createLinearRing([new Q(o[0],o[1]),new Q(o[2],o[1]),new Q(o[2],o[3]),new Q(o[0],o[3]),new Q(o[0],o[1])])},Point:function(o){var t=C(Q,pt(o));return this.geometryFactory.createPoint(t)},MultiPoint:function(o){for(var t=[],e=0;e<o.length;++e)t.push(an.Point.call(this,o[e]));return this.geometryFactory.createMultiPoint(t)},LineString:function(o){var t=an.coordinates.call(this,o);return this.geometryFactory.createLineString(t)},MultiLineString:function(o){for(var t=[],e=0;e<o.length;++e)t.push(an.LineString.call(this,o[e]));return this.geometryFactory.createMultiLineString(t)},Polygon:function(o){for(var t=an.coordinates.call(this,o[0]),e=this.geometryFactory.createLinearRing(t),s=[],l=1;l<o.length;++l){var d=o[l],x=an.coordinates.call(this,d),E=this.geometryFactory.createLinearRing(x);s.push(E)}return this.geometryFactory.createPolygon(e,s)},MultiPolygon:function(o){for(var t=[],e=0;e<o.length;++e){var s=o[e];t.push(an.Polygon.call(this,s))}return this.geometryFactory.createMultiPolygon(t)},GeometryCollection:function(o){for(var t=[],e=0;e<o.length;++e){var s=o[e];t.push(this.read(s))}return this.geometryFactory.createGeometryCollection(t)}},un={coordinate:function(o){var t=[o.x,o.y];return o.z&&t.push(o.z),o.m&&t.push(o.m),t},Point:function(o){return{type:"Point",coordinates:un.coordinate.call(this,o.getCoordinate())}},MultiPoint:function(o){for(var t=[],e=0;e<o._geometries.length;++e){var s=o._geometries[e],l=un.Point.call(this,s);t.push(l.coordinates)}return{type:"MultiPoint",coordinates:t}},LineString:function(o){for(var t=[],e=o.getCoordinates(),s=0;s<e.length;++s){var l=e[s];t.push(un.coordinate.call(this,l))}return{type:"LineString",coordinates:t}},MultiLineString:function(o){for(var t=[],e=0;e<o._geometries.length;++e){var s=o._geometries[e],l=un.LineString.call(this,s);t.push(l.coordinates)}return{type:"MultiLineString",coordinates:t}},Polygon:function(o){var t=[],e=un.LineString.call(this,o._shell);t.push(e.coordinates);for(var s=0;s<o._holes.length;++s){var l=o._holes[s],d=un.LineString.call(this,l);t.push(d.coordinates)}return{type:"Polygon",coordinates:t}},MultiPolygon:function(o){for(var t=[],e=0;e<o._geometries.length;++e){var s=o._geometries[e],l=un.Polygon.call(this,s);t.push(l.coordinates)}return{type:"MultiPolygon",coordinates:t}},GeometryCollection:function(o){for(var t=[],e=0;e<o._geometries.length;++e){var s=o._geometries[e],l=s.getGeometryType();t.push(un[l].call(this,s))}return{type:"GeometryCollection",geometries:t}}};return{BufferOp:yi,GeoJSONReader:(function(){return S((function o(t){p(this,o),this.parser=new Jr(t||new ti)}),[{key:"read",value:function(o){return this.parser.read(o)}}])})(),GeoJSONWriter:(function(){return S((function o(){p(this,o),this.parser=new Jr(this.geometryFactory)}),[{key:"write",value:function(o){return this.parser.write(o)}}])})()}}))})($u)),$u.exports}var sm=rm();const om=Gh(sm);function to(){return new nl}function nl(){this.reset()}nl.prototype={constructor:nl,reset:function(){this.s=this.t=0},add:function(m){Bf(Yu,m,this.t),Bf(this,Yu.s,this.s),this.s?this.t+=Yu.t:this.s=Yu.t},valueOf:function(){return this.s}};var Yu=new nl;function Bf(m,g,f){var y=m.s=g+f,p=y-g,C=y-p;m.t=g-C+(f-p)}var Re=1e-6,we=Math.PI,Dr=we/2,Gf=we/4,br=we*2,$s=180/we,Yi=we/180,_n=Math.abs,am=Math.atan,ua=Math.atan2,je=Math.cos,Ke=Math.sin,fa=Math.sqrt;function _d(m){return m>1?0:m<-1?we:Math.acos(m)}function bo(m){return m>1?Dr:m<-1?-Dr:Math.asin(m)}function qa(){}function il(m,g){m&&Uf.hasOwnProperty(m.type)&&Uf[m.type](m,g)}var Zf={Feature:function(m,g){il(m.geometry,g)},FeatureCollection:function(m,g){for(var f=m.features,y=-1,p=f.length;++y<p;)il(f[y].geometry,g)}},Uf={Sphere:function(m,g){g.sphere()},Point:function(m,g){m=m.coordinates,g.point(m[0],m[1],m[2])},MultiPoint:function(m,g){for(var f=m.coordinates,y=-1,p=f.length;++y<p;)m=f[y],g.point(m[0],m[1],m[2])},LineString:function(m,g){Ph(m.coordinates,g,0)},MultiLineString:function(m,g){for(var f=m.coordinates,y=-1,p=f.length;++y<p;)Ph(f[y],g,0)},Polygon:function(m,g){qf(m.coordinates,g)},MultiPolygon:function(m,g){for(var f=m.coordinates,y=-1,p=f.length;++y<p;)qf(f[y],g)},GeometryCollection:function(m,g){for(var f=m.geometries,y=-1,p=f.length;++y<p;)il(f[y],g)}};function Ph(m,g,f){var y=-1,p=m.length-f,C;for(g.lineStart();++y<p;)C=m[y],g.point(C[0],C[1],C[2]);g.lineEnd()}function qf(m,g){var f=-1,y=m.length;for(g.polygonStart();++f<y;)Ph(m[f],g,1);g.polygonEnd()}function um(m,g){m&&Zf.hasOwnProperty(m.type)?Zf[m.type](m,g):il(m,g)}to();to();function Oh(m){return[ua(m[1],m[0]),bo(m[2])]}function la(m){var g=m[0],f=m[1],y=je(f);return[y*je(g),y*Ke(g),Ke(f)]}function Hu(m,g){return m[0]*g[0]+m[1]*g[1]+m[2]*g[2]}function rl(m,g){return[m[1]*g[2]-m[2]*g[1],m[2]*g[0]-m[0]*g[2],m[0]*g[1]-m[1]*g[0]]}function Sh(m,g){m[0]+=g[0],m[1]+=g[1],m[2]+=g[2]}function Vu(m,g){return[m[0]*g,m[1]*g,m[2]*g]}function Rh(m){var g=fa(m[0]*m[0]+m[1]*m[1]+m[2]*m[2]);m[0]/=g,m[1]/=g,m[2]/=g}to();function yd(m,g){function f(y,p){return y=m(y,p),g(y[0],y[1])}return m.invert&&g.invert&&(f.invert=function(y,p){return y=g.invert(y,p),y&&m.invert(y[0],y[1])}),f}function Mh(m,g){return[m>we?m-br:m<-we?m+br:m,g]}Mh.invert=Mh;function lm(m,g,f){return(m%=br)?g||f?yd(Hf(m),Vf(g,f)):Hf(m):g||f?Vf(g,f):Mh}function Yf(m){return function(g,f){return g+=m,[g>we?g-br:g<-we?g+br:g,f]}}function Hf(m){var g=Yf(m);return g.invert=Yf(-m),g}function Vf(m,g){var f=je(m),y=Ke(m),p=je(g),C=Ke(g);function R(S,b){var Z=je(b),Y=je(S)*Z,D=Ke(S)*Z,K=Ke(b),ct=K*f+Y*y;return[ua(D*p-ct*C,Y*f-K*y),bo(ct*p+D*C)]}return R.invert=function(S,b){var Z=je(b),Y=je(S)*Z,D=Ke(S)*Z,K=Ke(b),ct=K*p-D*C;return[ua(D*p+K*C,Y*f+ct*y),bo(ct*f-Y*y)]},R}function hm(m,g,f,y,p,C){if(f){var R=je(g),S=Ke(g),b=y*f;p==null?(p=g+y*br,C=g-b/2):(p=Wf(R,p),C=Wf(R,C),(y>0?p<C:p>C)&&(p+=y*br));for(var Z,Y=p;y>0?Y>C:Y<C;Y-=b)Z=Oh([R,-S*je(Y),-S*Ke(Y)]),m.point(Z[0],Z[1])}}function Wf(m,g){g=la(g),g[0]-=m,Rh(g);var f=_d(-g[1]);return((-g[2]<0?-f:f)+br-Re)%br}function xd(){var m=[],g;return{point:function(f,y){g.push([f,y])},lineStart:function(){m.push(g=[])},lineEnd:qa,rejoin:function(){m.length>1&&m.push(m.pop().concat(m.shift()))},result:function(){var f=m;return m=[],g=null,f}}}function cm(m,g,f,y,p,C){var R=m[0],S=m[1],b=g[0],Z=g[1],Y=0,D=1,K=b-R,ct=Z-S,rt;if(rt=f-R,!(!K&&rt>0)){if(rt/=K,K<0){if(rt<Y)return;rt<D&&(D=rt)}else if(K>0){if(rt>D)return;rt>Y&&(Y=rt)}if(rt=p-R,!(!K&&rt<0)){if(rt/=K,K<0){if(rt>D)return;rt>Y&&(Y=rt)}else if(K>0){if(rt<Y)return;rt<D&&(D=rt)}if(rt=y-S,!(!ct&&rt>0)){if(rt/=ct,ct<0){if(rt<Y)return;rt<D&&(D=rt)}else if(ct>0){if(rt>D)return;rt>Y&&(Y=rt)}if(rt=C-S,!(!ct&&rt<0)){if(rt/=ct,ct<0){if(rt>D)return;rt>Y&&(Y=rt)}else if(ct>0){if(rt<Y)return;rt<D&&(D=rt)}return Y>0&&(m[0]=R+Y*K,m[1]=S+Y*ct),D<1&&(g[0]=R+D*K,g[1]=S+D*ct),!0}}}}}function Qu(m,g){return _n(m[0]-g[0])<Re&&_n(m[1]-g[1])<Re}function Wu(m,g,f,y){this.x=m,this.z=g,this.o=f,this.e=y,this.v=!1,this.n=this.p=null}function kd(m,g,f,y,p){var C=[],R=[],S,b;if(m.forEach(function(rt){if(!((pt=rt.length-1)<=0)){var pt,_t=rt[0],Ft=rt[pt],ut;if(Qu(_t,Ft)){for(p.lineStart(),S=0;S<pt;++S)p.point((_t=rt[S])[0],_t[1]);p.lineEnd();return}C.push(ut=new Wu(_t,rt,null,!0)),R.push(ut.o=new Wu(_t,null,ut,!1)),C.push(ut=new Wu(Ft,rt,null,!1)),R.push(ut.o=new Wu(Ft,null,ut,!0))}}),!!C.length){for(R.sort(g),Xf(C),Xf(R),S=0,b=R.length;S<b;++S)R[S].e=f=!f;for(var Z=C[0],Y,D;;){for(var K=Z,ct=!0;K.v;)if((K=K.n)===Z)return;Y=K.z,p.lineStart();do{if(K.v=K.o.v=!0,K.e){if(ct)for(S=0,b=Y.length;S<b;++S)p.point((D=Y[S])[0],D[1]);else y(K.x,K.n.x,1,p);K=K.n}else{if(ct)for(Y=K.p.z,S=Y.length-1;S>=0;--S)p.point((D=Y[S])[0],D[1]);else y(K.x,K.p.x,-1,p);K=K.p}K=K.o,Y=K.z,ct=!ct}while(!K.v);p.lineEnd()}}}function Xf(m){if(g=m.length){for(var g,f=0,y=m[0],p;++f<g;)y.n=p=m[f],p.p=y,y=p;y.n=p=m[0],p.p=y}}function wd(m,g){return m<g?-1:m>g?1:m>=g?0:NaN}function fm(m){return m.length===1&&(m=dm(m)),{left:function(g,f,y,p){for(y==null&&(y=0),p==null&&(p=g.length);y<p;){var C=y+p>>>1;m(g[C],f)<0?y=C+1:p=C}return y},right:function(g,f,y,p){for(y==null&&(y=0),p==null&&(p=g.length);y<p;){var C=y+p>>>1;m(g[C],f)>0?p=C:y=C+1}return y}}}function dm(m){return function(g,f){return wd(m(g),f)}}fm(wd);function Ed(m){for(var g=m.length,f,y=-1,p=0,C,R;++y<g;)p+=m[y].length;for(C=new Array(p);--g>=0;)for(R=m[g],f=R.length;--f>=0;)C[--p]=R[f];return C}var Ya=1e9,Xu=-Ya;function gm(m,g,f,y){function p(Z,Y){return m<=Z&&Z<=f&&g<=Y&&Y<=y}function C(Z,Y,D,K){var ct=0,rt=0;if(Z==null||(ct=R(Z,D))!==(rt=R(Y,D))||b(Z,Y)<0^D>0)do K.point(ct===0||ct===3?m:f,ct>1?y:g);while((ct=(ct+D+4)%4)!==rt);else K.point(Y[0],Y[1])}function R(Z,Y){return _n(Z[0]-m)<Re?Y>0?0:3:_n(Z[0]-f)<Re?Y>0?2:1:_n(Z[1]-g)<Re?Y>0?1:0:Y>0?3:2}function S(Z,Y){return b(Z.x,Y.x)}function b(Z,Y){var D=R(Z,1),K=R(Y,1);return D!==K?D-K:D===0?Y[1]-Z[1]:D===1?Z[0]-Y[0]:D===2?Z[1]-Y[1]:Y[0]-Z[0]}return function(Z){var Y=Z,D=xd(),K,ct,rt,pt,_t,Ft,ut,xt,Mt,Ct,Nt,Rt={point:P,lineStart:W,lineEnd:J,polygonStart:F,polygonEnd:$};function P(U,X){p(U,X)&&Y.point(U,X)}function O(){for(var U=0,X=0,et=ct.length;X<et;++X)for(var A=ct[X],it=1,H=A.length,z=A[0],st,It,gt=z[0],yt=z[1];it<H;++it)st=gt,It=yt,z=A[it],gt=z[0],yt=z[1],It<=y?yt>y&&(gt-st)*(y-It)>(yt-It)*(m-st)&&++U:yt<=y&&(gt-st)*(y-It)<(yt-It)*(m-st)&&--U;return U}function F(){Y=D,K=[],ct=[],Nt=!0}function $(){var U=O(),X=Nt&&U,et=(K=Ed(K)).length;(X||et)&&(Z.polygonStart(),X&&(Z.lineStart(),C(null,null,1,Z),Z.lineEnd()),et&&kd(K,S,U,C,Z),Z.polygonEnd()),Y=Z,K=ct=rt=null}function W(){Rt.point=q,ct&&ct.push(rt=[]),Ct=!0,Mt=!1,ut=xt=NaN}function J(){K&&(q(pt,_t),Ft&&Mt&&D.rejoin(),K.push(D.result())),Rt.point=P,Mt&&Y.lineEnd()}function q(U,X){var et=p(U,X);if(ct&&rt.push([U,X]),Ct)pt=U,_t=X,Ft=et,Ct=!1,et&&(Y.lineStart(),Y.point(U,X));else if(et&&Mt)Y.point(U,X);else{var A=[ut=Math.max(Xu,Math.min(Ya,ut)),xt=Math.max(Xu,Math.min(Ya,xt))],it=[U=Math.max(Xu,Math.min(Ya,U)),X=Math.max(Xu,Math.min(Ya,X))];cm(A,it,m,g,f,y)?(Mt||(Y.lineStart(),Y.point(A[0],A[1])),Y.point(it[0],it[1]),et||Y.lineEnd(),Nt=!1):et&&(Y.lineStart(),Y.point(U,X),Nt=!1)}ut=U,xt=X,Mt=et}return Rt}}var Lh=to();function mm(m,g){var f=g[0],y=g[1],p=[Ke(f),-je(f),0],C=0,R=0;Lh.reset();for(var S=0,b=m.length;S<b;++S)if(Y=(Z=m[S]).length)for(var Z,Y,D=Z[Y-1],K=D[0],ct=D[1]/2+Gf,rt=Ke(ct),pt=je(ct),_t=0;_t<Y;++_t,K=ut,rt=Mt,pt=Ct,D=Ft){var Ft=Z[_t],ut=Ft[0],xt=Ft[1]/2+Gf,Mt=Ke(xt),Ct=je(xt),Nt=ut-K,Rt=Nt>=0?1:-1,P=Rt*Nt,O=P>we,F=rt*Mt;if(Lh.add(ua(F*Rt*Ke(P),pt*Ct+F*je(P))),C+=O?Nt+Rt*br:Nt,O^K>=f^ut>=f){var $=rl(la(D),la(Ft));Rh($);var W=rl(p,$);Rh(W);var J=(O^Nt>=0?-1:1)*bo(W[2]);(y>J||y===J&&($[0]||$[1]))&&(R+=O^Nt>=0?1:-1)}}return(C<-Re||C<Re&&Lh<-Re)^R&1}to();function jf(m){return m}to();to();var ha=1/0,sl=ha,Ka=-ha,ol=Ka,Kf={point:pm,lineStart:qa,lineEnd:qa,polygonStart:qa,polygonEnd:qa,result:function(){var m=[[ha,sl],[Ka,ol]];return Ka=ol=-(sl=ha=1/0),m}};function pm(m,g){m<ha&&(ha=m),m>Ka&&(Ka=m),g<sl&&(sl=g),g>ol&&(ol=g)}to();function Sd(m,g,f,y){return function(p,C){var R=g(C),S=p.invert(y[0],y[1]),b=xd(),Z=g(b),Y=!1,D,K,ct,rt={point:pt,lineStart:Ft,lineEnd:ut,polygonStart:function(){rt.point=xt,rt.lineStart=Mt,rt.lineEnd=Ct,K=[],D=[]},polygonEnd:function(){rt.point=pt,rt.lineStart=Ft,rt.lineEnd=ut,K=Ed(K);var Nt=mm(D,S);K.length?(Y||(C.polygonStart(),Y=!0),kd(K,_m,Nt,f,C)):Nt&&(Y||(C.polygonStart(),Y=!0),C.lineStart(),f(null,null,1,C),C.lineEnd()),Y&&(C.polygonEnd(),Y=!1),K=D=null},sphere:function(){C.polygonStart(),C.lineStart(),f(null,null,1,C),C.lineEnd(),C.polygonEnd()}};function pt(Nt,Rt){var P=p(Nt,Rt);m(Nt=P[0],Rt=P[1])&&C.point(Nt,Rt)}function _t(Nt,Rt){var P=p(Nt,Rt);R.point(P[0],P[1])}function Ft(){rt.point=_t,R.lineStart()}function ut(){rt.point=pt,R.lineEnd()}function xt(Nt,Rt){ct.push([Nt,Rt]);var P=p(Nt,Rt);Z.point(P[0],P[1])}function Mt(){Z.lineStart(),ct=[]}function Ct(){xt(ct[0][0],ct[0][1]),Z.lineEnd();var Nt=Z.clean(),Rt=b.result(),P,O=Rt.length,F,$,W;if(ct.pop(),D.push(ct),ct=null,!!O){if(Nt&1){if($=Rt[0],(F=$.length-1)>0){for(Y||(C.polygonStart(),Y=!0),C.lineStart(),P=0;P<F;++P)C.point((W=$[P])[0],W[1]);C.lineEnd()}return}O>1&&Nt&2&&Rt.push(Rt.pop().concat(Rt.shift())),K.push(Rt.filter(vm))}}return rt}}function vm(m){return m.length>1}function _m(m,g){return((m=m.x)[0]<0?m[1]-Dr-Re:Dr-m[1])-((g=g.x)[0]<0?g[1]-Dr-Re:Dr-g[1])}const $f=Sd(function(){return!0},ym,km,[-we,-Dr]);function ym(m){var g=NaN,f=NaN,y=NaN,p;return{lineStart:function(){m.lineStart(),p=1},point:function(C,R){var S=C>0?we:-we,b=_n(C-g);_n(b-we)<Re?(m.point(g,f=(f+R)/2>0?Dr:-Dr),m.point(y,f),m.lineEnd(),m.lineStart(),m.point(S,f),m.point(C,f),p=0):y!==S&&b>=we&&(_n(g-y)<Re&&(g-=y*Re),_n(C-S)<Re&&(C-=S*Re),f=xm(g,f,C,R),m.point(y,f),m.lineEnd(),m.lineStart(),m.point(S,f),p=0),m.point(g=C,f=R),y=S},lineEnd:function(){m.lineEnd(),g=f=NaN},clean:function(){return 2-p}}}function xm(m,g,f,y){var p,C,R=Ke(m-f);return _n(R)>Re?am((Ke(g)*(C=je(y))*Ke(f)-Ke(y)*(p=je(g))*Ke(m))/(p*C*R)):(g+y)/2}function km(m,g,f,y){var p;if(m==null)p=f*Dr,y.point(-we,p),y.point(0,p),y.point(we,p),y.point(we,0),y.point(we,-p),y.point(0,-p),y.point(-we,-p),y.point(-we,0),y.point(-we,p);else if(_n(m[0]-g[0])>Re){var C=m[0]<g[0]?we:-we;p=f*C/2,y.point(-C,p),y.point(0,p),y.point(C,p)}else y.point(g[0],g[1])}function wm(m,g){var f=je(m),y=f>0,p=_n(f)>Re;function C(Y,D,K,ct){hm(ct,m,g,K,Y,D)}function R(Y,D){return je(Y)*je(D)>f}function S(Y){var D,K,ct,rt,pt;return{lineStart:function(){rt=ct=!1,pt=1},point:function(_t,Ft){var ut=[_t,Ft],xt,Mt=R(_t,Ft),Ct=y?Mt?0:Z(_t,Ft):Mt?Z(_t+(_t<0?we:-we),Ft):0;if(!D&&(rt=ct=Mt)&&Y.lineStart(),Mt!==ct&&(xt=b(D,ut),(!xt||Qu(D,xt)||Qu(ut,xt))&&(ut[0]+=Re,ut[1]+=Re,Mt=R(ut[0],ut[1]))),Mt!==ct)pt=0,Mt?(Y.lineStart(),xt=b(ut,D),Y.point(xt[0],xt[1])):(xt=b(D,ut),Y.point(xt[0],xt[1]),Y.lineEnd()),D=xt;else if(p&&D&&y^Mt){var Nt;!(Ct&K)&&(Nt=b(ut,D,!0))&&(pt=0,y?(Y.lineStart(),Y.point(Nt[0][0],Nt[0][1]),Y.point(Nt[1][0],Nt[1][1]),Y.lineEnd()):(Y.point(Nt[1][0],Nt[1][1]),Y.lineEnd(),Y.lineStart(),Y.point(Nt[0][0],Nt[0][1])))}Mt&&(!D||!Qu(D,ut))&&Y.point(ut[0],ut[1]),D=ut,ct=Mt,K=Ct},lineEnd:function(){ct&&Y.lineEnd(),D=null},clean:function(){return pt|(rt&&ct)<<1}}}function b(Y,D,K){var ct=la(Y),rt=la(D),pt=[1,0,0],_t=rl(ct,rt),Ft=Hu(_t,_t),ut=_t[0],xt=Ft-ut*ut;if(!xt)return!K&&Y;var Mt=f*Ft/xt,Ct=-f*ut/xt,Nt=rl(pt,_t),Rt=Vu(pt,Mt),P=Vu(_t,Ct);Sh(Rt,P);var O=Nt,F=Hu(Rt,O),$=Hu(O,O),W=F*F-$*(Hu(Rt,Rt)-1);if(!(W<0)){var J=fa(W),q=Vu(O,(-F-J)/$);if(Sh(q,Rt),q=Oh(q),!K)return q;var U=Y[0],X=D[0],et=Y[1],A=D[1],it;X<U&&(it=U,U=X,X=it);var H=X-U,z=_n(H-we)<Re,st=z||H<Re;if(!z&&A<et&&(it=et,et=A,A=it),st?z?et+A>0^q[1]<(_n(q[0]-U)<Re?et:A):et<=q[1]&&q[1]<=A:H>we^(U<=q[0]&&q[0]<=X)){var It=Vu(O,(-F+J)/$);return Sh(It,Rt),[q,Oh(It)]}}}function Z(Y,D){var K=y?m:we-m,ct=0;return Y<-K?ct|=1:Y>K&&(ct|=2),D<-K?ct|=4:D>K&&(ct|=8),ct}return Sd(R,S,C,y?[0,-m]:[-we,m-we])}function Ld(m){return function(g){var f=new Ah;for(var y in m)f[y]=m[y];return f.stream=g,f}}function Ah(){}Ah.prototype={constructor:Ah,point:function(m,g){this.stream.point(m,g)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Id(m,g,f){var y=g[1][0]-g[0][0],p=g[1][1]-g[0][1],C=m.clipExtent&&m.clipExtent();m.scale(150).translate([0,0]),C!=null&&m.clipExtent(null),um(f,m.stream(Kf));var R=Kf.result(),S=Math.min(y/(R[1][0]-R[0][0]),p/(R[1][1]-R[0][1])),b=+g[0][0]+(y-S*(R[1][0]+R[0][0]))/2,Z=+g[0][1]+(p-S*(R[1][1]+R[0][1]))/2;return C!=null&&m.clipExtent(C),m.scale(S*150).translate([b,Z])}function Em(m,g,f){return Id(m,[[0,0],g],f)}var Qf=16,Sm=je(30*Yi);function Jf(m,g){return+g?Im(m,g):Lm(m)}function Lm(m){return Ld({point:function(g,f){g=m(g,f),this.stream.point(g[0],g[1])}})}function Im(m,g){function f(y,p,C,R,S,b,Z,Y,D,K,ct,rt,pt,_t){var Ft=Z-y,ut=Y-p,xt=Ft*Ft+ut*ut;if(xt>4*g&&pt--){var Mt=R+K,Ct=S+ct,Nt=b+rt,Rt=fa(Mt*Mt+Ct*Ct+Nt*Nt),P=bo(Nt/=Rt),O=_n(_n(Nt)-1)<Re||_n(C-D)<Re?(C+D)/2:ua(Ct,Mt),F=m(O,P),$=F[0],W=F[1],J=$-y,q=W-p,U=ut*J-Ft*q;(U*U/xt>g||_n((Ft*J+ut*q)/xt-.5)>.3||R*K+S*ct+b*rt<Sm)&&(f(y,p,C,R,S,b,$,W,O,Mt/=Rt,Ct/=Rt,Nt,pt,_t),_t.point($,W),f($,W,O,Mt,Ct,Nt,Z,Y,D,K,ct,rt,pt,_t))}}return function(y){var p,C,R,S,b,Z,Y,D,K,ct,rt,pt,_t={point:Ft,lineStart:ut,lineEnd:Mt,polygonStart:function(){y.polygonStart(),_t.lineStart=Ct},polygonEnd:function(){y.polygonEnd(),_t.lineStart=ut}};function Ft(P,O){P=m(P,O),y.point(P[0],P[1])}function ut(){D=NaN,_t.point=xt,y.lineStart()}function xt(P,O){var F=la([P,O]),$=m(P,O);f(D,K,Y,ct,rt,pt,D=$[0],K=$[1],Y=P,ct=F[0],rt=F[1],pt=F[2],Qf,y),y.point(D,K)}function Mt(){_t.point=Ft,y.lineEnd()}function Ct(){ut(),_t.point=Nt,_t.lineEnd=Rt}function Nt(P,O){xt(p=P,O),C=D,R=K,S=ct,b=rt,Z=pt,_t.point=xt}function Rt(){f(D,K,Y,ct,rt,pt,C,R,p,S,b,Z,Qf,y),_t.lineEnd=Mt,Mt()}return _t}}var Nm=Ld({point:function(m,g){this.stream.point(m*Yi,g*Yi)}});function Tm(m){return Cm(function(){return m})()}function Cm(m){var g,f=150,y=480,p=250,C,R,S=0,b=0,Z=0,Y=0,D=0,K,ct,rt=null,pt=$f,_t=null,Ft,ut,xt,Mt=jf,Ct=.5,Nt=Jf($,Ct),Rt,P;function O(q){return q=ct(q[0]*Yi,q[1]*Yi),[q[0]*f+C,R-q[1]*f]}function F(q){return q=ct.invert((q[0]-C)/f,(R-q[1])/f),q&&[q[0]*$s,q[1]*$s]}function $(q,U){return q=g(q,U),[q[0]*f+C,R-q[1]*f]}O.stream=function(q){return Rt&&P===q?Rt:Rt=Nm(pt(K,Nt(Mt(P=q))))},O.clipAngle=function(q){return arguments.length?(pt=+q?wm(rt=q*Yi,6*Yi):(rt=null,$f),J()):rt*$s},O.clipExtent=function(q){return arguments.length?(Mt=q==null?(_t=Ft=ut=xt=null,jf):gm(_t=+q[0][0],Ft=+q[0][1],ut=+q[1][0],xt=+q[1][1]),J()):_t==null?null:[[_t,Ft],[ut,xt]]},O.scale=function(q){return arguments.length?(f=+q,W()):f},O.translate=function(q){return arguments.length?(y=+q[0],p=+q[1],W()):[y,p]},O.center=function(q){return arguments.length?(S=q[0]%360*Yi,b=q[1]%360*Yi,W()):[S*$s,b*$s]},O.rotate=function(q){return arguments.length?(Z=q[0]%360*Yi,Y=q[1]%360*Yi,D=q.length>2?q[2]%360*Yi:0,W()):[Z*$s,Y*$s,D*$s]},O.precision=function(q){return arguments.length?(Nt=Jf($,Ct=q*q),J()):fa(Ct)},O.fitExtent=function(q,U){return Id(O,q,U)},O.fitSize=function(q,U){return Em(O,q,U)};function W(){ct=yd(K=lm(Z,Y,D),g);var q=g(S,b);return C=y-q[0]*f,R=p+q[1]*f,J()}function J(){return Rt=P=null,O}return function(){return g=m.apply(this,arguments),O.invert=g.invert&&F,W()}}function Nd(m){return function(g,f){var y=je(g),p=je(f),C=m(y*p);return[C*p*Ke(g),C*Ke(f)]}}function Td(m){return function(g,f){var y=fa(g*g+f*f),p=m(y),C=Ke(p),R=je(p);return[ua(g*C,y*R),bo(y&&f*C/y)]}}var Pm=Nd(function(m){return fa(2/(1+m))});Pm.invert=Td(function(m){return 2*bo(m/2)});var Cd=Nd(function(m){return(m=_d(m))&&m/Ke(m)});Cd.invert=Td(function(m){return m});function Om(){return Tm(Cd).scale(79.4188).clipAngle(180-.001)}function td(m,g){return[m,g]}td.invert=td;var{BufferOp:Rm,GeoJSONReader:Mm,GeoJSONWriter:Am}=om;function Dm(m,g,f){f=f||{};var y=f.units||"kilometers",p=f.steps||8;if(!m)throw new Error("geojson is required");if(typeof f!="object")throw new Error("options must be an object");if(typeof p!="number")throw new Error("steps must be an number");if(g===void 0)throw new Error("radius is required");if(p<=0)throw new Error("steps must be greater than 0");var C=[];switch(m.type){case"GeometryCollection":return fl(m,function(R){var S=Ju(R,g,y,p);S&&C.push(S)}),ja(C);case"FeatureCollection":return bf(m,function(R){var S=Ju(R,g,y,p);S&&bf(S,function(b){b&&C.push(b)})}),ja(C)}return Ju(m,g,y,p)}function Ju(m,g,f,y){var p=m.properties||{},C=m.type==="Feature"?m.geometry:m;if(C.type==="GeometryCollection"){var R=[];return fl(m,function(pt){var _t=Ju(pt,g,f,y);_t&&R.push(_t)}),ja(R)}var S=zm(C),b={type:C.type,coordinates:Od(C.coordinates,S)},Z=new Mm,Y=Z.read(b),D=Jg(tm(g,f),"meters"),K=Rm.bufferOp(Y,D,y),ct=new Am;if(K=ct.write(K),!Pd(K.coordinates)){var rt={type:K.type,coordinates:Rd(K.coordinates,S)};return tu(rt,p)}}function Pd(m){return Array.isArray(m[0])?Pd(m[0]):isNaN(m[0])}function Od(m,g){return typeof m[0]!="object"?g(m):m.map(function(f){return Od(f,g)})}function Rd(m,g){return typeof m[0]!="object"?g.invert(m):m.map(function(f){return Rd(f,g)})}function zm(m){var g=nm(m).geometry.coordinates,f=[-g[0],-g[1]];return Om().rotate(f).scale(hi)}var bm=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,Ih=Math.ceil,Ui=Math.floor,ci="[BigNumber Error] ",ed=ci+"Number primitive has more than 15 significant digits: ",lr=1e14,ae=14,Nh=9007199254740991,Th=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Qs=1e7,vn=1e9;function Md(m){var g,f,y,p=ut.prototype={constructor:ut,toString:null,valueOf:null},C=new ut(1),R=20,S=4,b=-7,Z=21,Y=-1e7,D=1e7,K=!1,ct=1,rt=0,pt={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},_t="0123456789abcdefghijklmnopqrstuvwxyz",Ft=!0;function ut(P,O){var F,$,W,J,q,U,X,et,A=this;if(!(A instanceof ut))return new ut(P,O);if(O==null){if(P&&P._isBigNumber===!0){A.s=P.s,!P.c||P.e>D?A.c=A.e=null:P.e<Y?A.c=[A.e=0]:(A.e=P.e,A.c=P.c.slice());return}if((U=typeof P=="number")&&P*0==0){if(A.s=1/P<0?(P=-P,-1):1,P===~~P){for(J=0,q=P;q>=10;q/=10,J++);J>D?A.c=A.e=null:(A.e=J,A.c=[P]);return}et=String(P)}else{if(!bm.test(et=String(P)))return y(A,et,U);A.s=et.charCodeAt(0)==45?(et=et.slice(1),-1):1}(J=et.indexOf("."))>-1&&(et=et.replace(".","")),(q=et.search(/e/i))>0?(J<0&&(J=q),J+=+et.slice(q+1),et=et.substring(0,q)):J<0&&(J=et.length)}else{if(Xe(O,2,_t.length,"Base"),O==10&&Ft)return A=new ut(P),Nt(A,R+A.e+1,S);if(et=String(P),U=typeof P=="number"){if(P*0!=0)return y(A,et,U,O);if(A.s=1/P<0?(et=et.slice(1),-1):1,ut.DEBUG&&et.replace(/^0\.0*|\./,"").length>15)throw Error(ed+P)}else A.s=et.charCodeAt(0)===45?(et=et.slice(1),-1):1;for(F=_t.slice(0,O),J=q=0,X=et.length;q<X;q++)if(F.indexOf($=et.charAt(q))<0){if($=="."){if(q>J){J=X;continue}}else if(!W&&(et==et.toUpperCase()&&(et=et.toLowerCase())||et==et.toLowerCase()&&(et=et.toUpperCase()))){W=!0,q=-1,J=0;continue}return y(A,String(P),U,O)}U=!1,et=f(et,O,10,A.s),(J=et.indexOf("."))>-1?et=et.replace(".",""):J=et.length}for(q=0;et.charCodeAt(q)===48;q++);for(X=et.length;et.charCodeAt(--X)===48;);if(et=et.slice(q,++X)){if(X-=q,U&&ut.DEBUG&&X>15&&(P>Nh||P!==Ui(P)))throw Error(ed+A.s*P);if((J=J-q-1)>D)A.c=A.e=null;else if(J<Y)A.c=[A.e=0];else{if(A.e=J,A.c=[],q=(J+1)%ae,J<0&&(q+=ae),q<X){for(q&&A.c.push(+et.slice(0,q)),X-=ae;q<X;)A.c.push(+et.slice(q,q+=ae));q=ae-(et=et.slice(q)).length}else q-=X;for(;q--;et+="0");A.c.push(+et)}}else A.c=[A.e=0]}ut.clone=Md,ut.ROUND_UP=0,ut.ROUND_DOWN=1,ut.ROUND_CEIL=2,ut.ROUND_FLOOR=3,ut.ROUND_HALF_UP=4,ut.ROUND_HALF_DOWN=5,ut.ROUND_HALF_EVEN=6,ut.ROUND_HALF_CEIL=7,ut.ROUND_HALF_FLOOR=8,ut.EUCLID=9,ut.config=ut.set=function(P){var O,F;if(P!=null)if(typeof P=="object"){if(P.hasOwnProperty(O="DECIMAL_PLACES")&&(F=P[O],Xe(F,0,vn,O),R=F),P.hasOwnProperty(O="ROUNDING_MODE")&&(F=P[O],Xe(F,0,8,O),S=F),P.hasOwnProperty(O="EXPONENTIAL_AT")&&(F=P[O],F&&F.pop?(Xe(F[0],-vn,0,O),Xe(F[1],0,vn,O),b=F[0],Z=F[1]):(Xe(F,-vn,vn,O),b=-(Z=F<0?-F:F))),P.hasOwnProperty(O="RANGE"))if(F=P[O],F&&F.pop)Xe(F[0],-vn,-1,O),Xe(F[1],1,vn,O),Y=F[0],D=F[1];else if(Xe(F,-vn,vn,O),F)Y=-(D=F<0?-F:F);else throw Error(ci+O+" cannot be zero: "+F);if(P.hasOwnProperty(O="CRYPTO"))if(F=P[O],F===!!F)if(F)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))K=F;else throw K=!F,Error(ci+"crypto unavailable");else K=F;else throw Error(ci+O+" not true or false: "+F);if(P.hasOwnProperty(O="MODULO_MODE")&&(F=P[O],Xe(F,0,9,O),ct=F),P.hasOwnProperty(O="POW_PRECISION")&&(F=P[O],Xe(F,0,vn,O),rt=F),P.hasOwnProperty(O="FORMAT"))if(F=P[O],typeof F=="object")pt=F;else throw Error(ci+O+" not an object: "+F);if(P.hasOwnProperty(O="ALPHABET"))if(F=P[O],typeof F=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(F))Ft=F.slice(0,10)=="0123456789",_t=F;else throw Error(ci+O+" invalid: "+F)}else throw Error(ci+"Object expected: "+P);return{DECIMAL_PLACES:R,ROUNDING_MODE:S,EXPONENTIAL_AT:[b,Z],RANGE:[Y,D],CRYPTO:K,MODULO_MODE:ct,POW_PRECISION:rt,FORMAT:pt,ALPHABET:_t}},ut.isBigNumber=function(P){if(!P||P._isBigNumber!==!0)return!1;if(!ut.DEBUG)return!0;var O,F,$=P.c,W=P.e,J=P.s;t:if({}.toString.call($)=="[object Array]"){if((J===1||J===-1)&&W>=-vn&&W<=vn&&W===Ui(W)){if($[0]===0){if(W===0&&$.length===1)return!0;break t}if(O=(W+1)%ae,O<1&&(O+=ae),String($[0]).length==O){for(O=0;O<$.length;O++)if(F=$[O],F<0||F>=lr||F!==Ui(F))break t;if(F!==0)return!0}}}else if($===null&&W===null&&(J===null||J===1||J===-1))return!0;throw Error(ci+"Invalid BigNumber: "+P)},ut.maximum=ut.max=function(){return Mt(arguments,-1)},ut.minimum=ut.min=function(){return Mt(arguments,1)},ut.random=(function(){var P=9007199254740992,O=Math.random()*P&2097151?function(){return Ui(Math.random()*P)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(F){var $,W,J,q,U,X=0,et=[],A=new ut(C);if(F==null?F=R:Xe(F,0,vn),q=Ih(F/ae),K)if(crypto.getRandomValues){for($=crypto.getRandomValues(new Uint32Array(q*=2));X<q;)U=$[X]*131072+($[X+1]>>>11),U>=9e15?(W=crypto.getRandomValues(new Uint32Array(2)),$[X]=W[0],$[X+1]=W[1]):(et.push(U%1e14),X+=2);X=q/2}else if(crypto.randomBytes){for($=crypto.randomBytes(q*=7);X<q;)U=($[X]&31)*281474976710656+$[X+1]*1099511627776+$[X+2]*4294967296+$[X+3]*16777216+($[X+4]<<16)+($[X+5]<<8)+$[X+6],U>=9e15?crypto.randomBytes(7).copy($,X):(et.push(U%1e14),X+=7);X=q/7}else throw K=!1,Error(ci+"crypto unavailable");if(!K)for(;X<q;)U=O(),U<9e15&&(et[X++]=U%1e14);for(q=et[--X],F%=ae,q&&F&&(U=Th[ae-F],et[X]=Ui(q/U)*U);et[X]===0;et.pop(),X--);if(X<0)et=[J=0];else{for(J=-1;et[0]===0;et.splice(0,1),J-=ae);for(X=1,U=et[0];U>=10;U/=10,X++);X<ae&&(J-=ae-X)}return A.e=J,A.c=et,A}})(),ut.sum=function(){for(var P=1,O=arguments,F=new ut(O[0]);P<O.length;)F=F.plus(O[P++]);return F},f=(function(){var P="0123456789";function O(F,$,W,J){for(var q,U=[0],X,et=0,A=F.length;et<A;){for(X=U.length;X--;U[X]*=$);for(U[0]+=J.indexOf(F.charAt(et++)),q=0;q<U.length;q++)U[q]>W-1&&(U[q+1]==null&&(U[q+1]=0),U[q+1]+=U[q]/W|0,U[q]%=W)}return U.reverse()}return function(F,$,W,J,q){var U,X,et,A,it,H,z,st,It=F.indexOf("."),gt=R,yt=S;for(It>=0&&(A=rt,rt=0,F=F.replace(".",""),st=new ut($),H=st.pow(F.length-It),rt=A,st.c=O(cs(Zi(H.c),H.e,"0"),10,W,P),st.e=st.c.length),z=O(F,$,W,q?(U=_t,P):(U=P,_t)),et=A=z.length;z[--A]==0;z.pop());if(!z[0])return U.charAt(0);if(It<0?--et:(H.c=z,H.e=et,H.s=J,H=g(H,st,gt,yt,W),z=H.c,it=H.r,et=H.e),X=et+gt+1,It=z[X],A=W/2,it=it||X<0||z[X+1]!=null,it=yt<4?(It!=null||it)&&(yt==0||yt==(H.s<0?3:2)):It>A||It==A&&(yt==4||it||yt==6&&z[X-1]&1||yt==(H.s<0?8:7)),X<1||!z[0])F=it?cs(U.charAt(1),-gt,U.charAt(0)):U.charAt(0);else{if(z.length=X,it)for(--W;++z[--X]>W;)z[X]=0,X||(++et,z=[1].concat(z));for(A=z.length;!z[--A];);for(It=0,F="";It<=A;F+=U.charAt(z[It++]));F=cs(F,et,U.charAt(0))}return F}})(),g=(function(){function P($,W,J){var q,U,X,et,A=0,it=$.length,H=W%Qs,z=W/Qs|0;for($=$.slice();it--;)X=$[it]%Qs,et=$[it]/Qs|0,q=z*X+et*H,U=H*X+q%Qs*Qs+A,A=(U/J|0)+(q/Qs|0)+z*et,$[it]=U%J;return A&&($=[A].concat($)),$}function O($,W,J,q){var U,X;if(J!=q)X=J>q?1:-1;else for(U=X=0;U<J;U++)if($[U]!=W[U]){X=$[U]>W[U]?1:-1;break}return X}function F($,W,J,q){for(var U=0;J--;)$[J]-=U,U=$[J]<W[J]?1:0,$[J]=U*q+$[J]-W[J];for(;!$[0]&&$.length>1;$.splice(0,1));}return function($,W,J,q,U){var X,et,A,it,H,z,st,It,gt,yt,Et,Ht,Q,ve,ee,At,B,ye=$.s==W.s?1:-1,Pe=$.c,ge=W.c;if(!Pe||!Pe[0]||!ge||!ge[0])return new ut(!$.s||!W.s||(Pe?ge&&Pe[0]==ge[0]:!ge)?NaN:Pe&&Pe[0]==0||!ge?ye*0:ye/0);for(It=new ut(ye),gt=It.c=[],et=$.e-W.e,ye=J+et+1,U||(U=lr,et=qi($.e/ae)-qi(W.e/ae),ye=ye/ae|0),A=0;ge[A]==(Pe[A]||0);A++);if(ge[A]>(Pe[A]||0)&&et--,ye<0)gt.push(1),it=!0;else{for(ve=Pe.length,At=ge.length,A=0,ye+=2,H=Ui(U/(ge[0]+1)),H>1&&(ge=P(ge,H,U),Pe=P(Pe,H,U),At=ge.length,ve=Pe.length),Q=At,yt=Pe.slice(0,At),Et=yt.length;Et<At;yt[Et++]=0);B=ge.slice(),B=[0].concat(B),ee=ge[0],ge[1]>=U/2&&ee++;do{if(H=0,X=O(ge,yt,At,Et),X<0){if(Ht=yt[0],At!=Et&&(Ht=Ht*U+(yt[1]||0)),H=Ui(Ht/ee),H>1)for(H>=U&&(H=U-1),z=P(ge,H,U),st=z.length,Et=yt.length;O(z,yt,st,Et)==1;)H--,F(z,At<st?B:ge,st,U),st=z.length,X=1;else H==0&&(X=H=1),z=ge.slice(),st=z.length;if(st<Et&&(z=[0].concat(z)),F(yt,z,Et,U),Et=yt.length,X==-1)for(;O(ge,yt,At,Et)<1;)H++,F(yt,At<Et?B:ge,Et,U),Et=yt.length}else X===0&&(H++,yt=[0]);gt[A++]=H,yt[0]?yt[Et++]=Pe[Q]||0:(yt=[Pe[Q]],Et=1)}while((Q++<ve||yt[0]!=null)&&ye--);it=yt[0]!=null,gt[0]||gt.splice(0,1)}if(U==lr){for(A=1,ye=gt[0];ye>=10;ye/=10,A++);Nt(It,J+(It.e=A+et*ae-1)+1,q,it)}else It.e=et,It.r=+it;return It}})();function xt(P,O,F,$){var W,J,q,U,X;if(F==null?F=S:Xe(F,0,8),!P.c)return P.toString();if(W=P.c[0],q=P.e,O==null)X=Zi(P.c),X=$==1||$==2&&(q<=b||q>=Z)?Ku(X,q):cs(X,q,"0");else if(P=Nt(new ut(P),O,F),J=P.e,X=Zi(P.c),U=X.length,$==1||$==2&&(O<=J||J<=b)){for(;U<O;X+="0",U++);X=Ku(X,J)}else if(O-=q+($===2&&J>q),X=cs(X,J,"0"),J+1>U){if(--O>0)for(X+=".";O--;X+="0");}else if(O+=J-U,O>0)for(J+1==U&&(X+=".");O--;X+="0");return P.s<0&&W?"-"+X:X}function Mt(P,O){for(var F,$,W=1,J=new ut(P[0]);W<P.length;W++)$=new ut(P[W]),(!$.s||(F=zo(J,$))===O||F===0&&J.s===O)&&(J=$);return J}function Ct(P,O,F){for(var $=1,W=O.length;!O[--W];O.pop());for(W=O[0];W>=10;W/=10,$++);return(F=$+F*ae-1)>D?P.c=P.e=null:F<Y?P.c=[P.e=0]:(P.e=F,P.c=O),P}y=(function(){var P=/^(-?)0([xbo])(?=\w[\w.]*$)/i,O=/^([^.]+)\.$/,F=/^\.([^.]+)$/,$=/^-?(Infinity|NaN)$/,W=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(J,q,U,X){var et,A=U?q:q.replace(W,"");if($.test(A))J.s=isNaN(A)?null:A<0?-1:1;else{if(!U&&(A=A.replace(P,function(it,H,z){return et=(z=z.toLowerCase())=="x"?16:z=="b"?2:8,!X||X==et?H:it}),X&&(et=X,A=A.replace(O,"$1").replace(F,"0.$1")),q!=A))return new ut(A,et);if(ut.DEBUG)throw Error(ci+"Not a"+(X?" base "+X:"")+" number: "+q);J.s=null}J.c=J.e=null}})();function Nt(P,O,F,$){var W,J,q,U,X,et,A,it=P.c,H=Th;if(it){t:{for(W=1,U=it[0];U>=10;U/=10,W++);if(J=O-W,J<0)J+=ae,q=O,X=it[et=0],A=Ui(X/H[W-q-1]%10);else if(et=Ih((J+1)/ae),et>=it.length)if($){for(;it.length<=et;it.push(0));X=A=0,W=1,J%=ae,q=J-ae+1}else break t;else{for(X=U=it[et],W=1;U>=10;U/=10,W++);J%=ae,q=J-ae+W,A=q<0?0:Ui(X/H[W-q-1]%10)}if($=$||O<0||it[et+1]!=null||(q<0?X:X%H[W-q-1]),$=F<4?(A||$)&&(F==0||F==(P.s<0?3:2)):A>5||A==5&&(F==4||$||F==6&&(J>0?q>0?X/H[W-q]:0:it[et-1])%10&1||F==(P.s<0?8:7)),O<1||!it[0])return it.length=0,$?(O-=P.e+1,it[0]=H[(ae-O%ae)%ae],P.e=-O||0):it[0]=P.e=0,P;if(J==0?(it.length=et,U=1,et--):(it.length=et+1,U=H[ae-J],it[et]=q>0?Ui(X/H[W-q]%H[q])*U:0),$)for(;;)if(et==0){for(J=1,q=it[0];q>=10;q/=10,J++);for(q=it[0]+=U,U=1;q>=10;q/=10,U++);J!=U&&(P.e++,it[0]==lr&&(it[0]=1));break}else{if(it[et]+=U,it[et]!=lr)break;it[et--]=0,U=1}for(J=it.length;it[--J]===0;it.pop());}P.e>D?P.c=P.e=null:P.e<Y&&(P.c=[P.e=0])}return P}function Rt(P){var O,F=P.e;return F===null?P.toString():(O=Zi(P.c),O=F<=b||F>=Z?Ku(O,F):cs(O,F,"0"),P.s<0?"-"+O:O)}return p.absoluteValue=p.abs=function(){var P=new ut(this);return P.s<0&&(P.s=1),P},p.comparedTo=function(P,O){return zo(this,new ut(P,O))},p.decimalPlaces=p.dp=function(P,O){var F,$,W,J=this;if(P!=null)return Xe(P,0,vn),O==null?O=S:Xe(O,0,8),Nt(new ut(J),P+J.e+1,O);if(!(F=J.c))return null;if($=((W=F.length-1)-qi(this.e/ae))*ae,W=F[W])for(;W%10==0;W/=10,$--);return $<0&&($=0),$},p.dividedBy=p.div=function(P,O){return g(this,new ut(P,O),R,S)},p.dividedToIntegerBy=p.idiv=function(P,O){return g(this,new ut(P,O),0,1)},p.exponentiatedBy=p.pow=function(P,O){var F,$,W,J,q,U,X,et,A,it=this;if(P=new ut(P),P.c&&!P.isInteger())throw Error(ci+"Exponent not an integer: "+Rt(P));if(O!=null&&(O=new ut(O)),U=P.e>14,!it.c||!it.c[0]||it.c[0]==1&&!it.e&&it.c.length==1||!P.c||!P.c[0])return A=new ut(Math.pow(+Rt(it),U?P.s*(2-ju(P)):+Rt(P))),O?A.mod(O):A;if(X=P.s<0,O){if(O.c?!O.c[0]:!O.s)return new ut(NaN);$=!X&&it.isInteger()&&O.isInteger(),$&&(it=it.mod(O))}else{if(P.e>9&&(it.e>0||it.e<-1||(it.e==0?it.c[0]>1||U&&it.c[1]>=24e7:it.c[0]<8e13||U&&it.c[0]<=9999975e7)))return J=it.s<0&&ju(P)?-0:0,it.e>-1&&(J=1/J),new ut(X?1/J:J);rt&&(J=Ih(rt/ae+2))}for(U?(F=new ut(.5),X&&(P.s=1),et=ju(P)):(W=Math.abs(+Rt(P)),et=W%2),A=new ut(C);;){if(et){if(A=A.times(it),!A.c)break;J?A.c.length>J&&(A.c.length=J):$&&(A=A.mod(O))}if(W){if(W=Ui(W/2),W===0)break;et=W%2}else if(P=P.times(F),Nt(P,P.e+1,1),P.e>14)et=ju(P);else{if(W=+Rt(P),W===0)break;et=W%2}it=it.times(it),J?it.c&&it.c.length>J&&(it.c.length=J):$&&(it=it.mod(O))}return $?A:(X&&(A=C.div(A)),O?A.mod(O):J?Nt(A,rt,S,q):A)},p.integerValue=function(P){var O=new ut(this);return P==null?P=S:Xe(P,0,8),Nt(O,O.e+1,P)},p.isEqualTo=p.eq=function(P,O){return zo(this,new ut(P,O))===0},p.isFinite=function(){return!!this.c},p.isGreaterThan=p.gt=function(P,O){return zo(this,new ut(P,O))>0},p.isGreaterThanOrEqualTo=p.gte=function(P,O){return(O=zo(this,new ut(P,O)))===1||O===0},p.isInteger=function(){return!!this.c&&qi(this.e/ae)>this.c.length-2},p.isLessThan=p.lt=function(P,O){return zo(this,new ut(P,O))<0},p.isLessThanOrEqualTo=p.lte=function(P,O){return(O=zo(this,new ut(P,O)))===-1||O===0},p.isNaN=function(){return!this.s},p.isNegative=function(){return this.s<0},p.isPositive=function(){return this.s>0},p.isZero=function(){return!!this.c&&this.c[0]==0},p.minus=function(P,O){var F,$,W,J,q=this,U=q.s;if(P=new ut(P,O),O=P.s,!U||!O)return new ut(NaN);if(U!=O)return P.s=-O,q.plus(P);var X=q.e/ae,et=P.e/ae,A=q.c,it=P.c;if(!X||!et){if(!A||!it)return A?(P.s=-O,P):new ut(it?q:NaN);if(!A[0]||!it[0])return it[0]?(P.s=-O,P):new ut(A[0]?q:S==3?-0:0)}if(X=qi(X),et=qi(et),A=A.slice(),U=X-et){for((J=U<0)?(U=-U,W=A):(et=X,W=it),W.reverse(),O=U;O--;W.push(0));W.reverse()}else for($=(J=(U=A.length)<(O=it.length))?U:O,U=O=0;O<$;O++)if(A[O]!=it[O]){J=A[O]<it[O];break}if(J&&(W=A,A=it,it=W,P.s=-P.s),O=($=it.length)-(F=A.length),O>0)for(;O--;A[F++]=0);for(O=lr-1;$>U;){if(A[--$]<it[$]){for(F=$;F&&!A[--F];A[F]=O);--A[F],A[$]+=lr}A[$]-=it[$]}for(;A[0]==0;A.splice(0,1),--et);return A[0]?Ct(P,A,et):(P.s=S==3?-1:1,P.c=[P.e=0],P)},p.modulo=p.mod=function(P,O){var F,$,W=this;return P=new ut(P,O),!W.c||!P.s||P.c&&!P.c[0]?new ut(NaN):!P.c||W.c&&!W.c[0]?new ut(W):(ct==9?($=P.s,P.s=1,F=g(W,P,0,3),P.s=$,F.s*=$):F=g(W,P,0,ct),P=W.minus(F.times(P)),!P.c[0]&&ct==1&&(P.s=W.s),P)},p.multipliedBy=p.times=function(P,O){var F,$,W,J,q,U,X,et,A,it,H,z,st,It,gt,yt=this,Et=yt.c,Ht=(P=new ut(P,O)).c;if(!Et||!Ht||!Et[0]||!Ht[0])return!yt.s||!P.s||Et&&!Et[0]&&!Ht||Ht&&!Ht[0]&&!Et?P.c=P.e=P.s=null:(P.s*=yt.s,!Et||!Ht?P.c=P.e=null:(P.c=[0],P.e=0)),P;for($=qi(yt.e/ae)+qi(P.e/ae),P.s*=yt.s,X=Et.length,it=Ht.length,X<it&&(st=Et,Et=Ht,Ht=st,W=X,X=it,it=W),W=X+it,st=[];W--;st.push(0));for(It=lr,gt=Qs,W=it;--W>=0;){for(F=0,H=Ht[W]%gt,z=Ht[W]/gt|0,q=X,J=W+q;J>W;)et=Et[--q]%gt,A=Et[q]/gt|0,U=z*et+A*H,et=H*et+U%gt*gt+st[J]+F,F=(et/It|0)+(U/gt|0)+z*A,st[J--]=et%It;st[J]=F}return F?++$:st.splice(0,1),Ct(P,st,$)},p.negated=function(){var P=new ut(this);return P.s=-P.s||null,P},p.plus=function(P,O){var F,$=this,W=$.s;if(P=new ut(P,O),O=P.s,!W||!O)return new ut(NaN);if(W!=O)return P.s=-O,$.minus(P);var J=$.e/ae,q=P.e/ae,U=$.c,X=P.c;if(!J||!q){if(!U||!X)return new ut(W/0);if(!U[0]||!X[0])return X[0]?P:new ut(U[0]?$:W*0)}if(J=qi(J),q=qi(q),U=U.slice(),W=J-q){for(W>0?(q=J,F=X):(W=-W,F=U),F.reverse();W--;F.push(0));F.reverse()}for(W=U.length,O=X.length,W-O<0&&(F=X,X=U,U=F,O=W),W=0;O;)W=(U[--O]=U[O]+X[O]+W)/lr|0,U[O]=lr===U[O]?0:U[O]%lr;return W&&(U=[W].concat(U),++q),Ct(P,U,q)},p.precision=p.sd=function(P,O){var F,$,W,J=this;if(P!=null&&P!==!!P)return Xe(P,1,vn),O==null?O=S:Xe(O,0,8),Nt(new ut(J),P,O);if(!(F=J.c))return null;if(W=F.length-1,$=W*ae+1,W=F[W]){for(;W%10==0;W/=10,$--);for(W=F[0];W>=10;W/=10,$++);}return P&&J.e+1>$&&($=J.e+1),$},p.shiftedBy=function(P){return Xe(P,-Nh,Nh),this.times("1e"+P)},p.squareRoot=p.sqrt=function(){var P,O,F,$,W,J=this,q=J.c,U=J.s,X=J.e,et=R+4,A=new ut("0.5");if(U!==1||!q||!q[0])return new ut(!U||U<0&&(!q||q[0])?NaN:q?J:1/0);if(U=Math.sqrt(+Rt(J)),U==0||U==1/0?(O=Zi(q),(O.length+X)%2==0&&(O+="0"),U=Math.sqrt(+O),X=qi((X+1)/2)-(X<0||X%2),U==1/0?O="5e"+X:(O=U.toExponential(),O=O.slice(0,O.indexOf("e")+1)+X),F=new ut(O)):F=new ut(U+""),F.c[0]){for(X=F.e,U=X+et,U<3&&(U=0);;)if(W=F,F=A.times(W.plus(g(J,W,et,1))),Zi(W.c).slice(0,U)===(O=Zi(F.c)).slice(0,U))if(F.e<X&&--U,O=O.slice(U-3,U+1),O=="9999"||!$&&O=="4999"){if(!$&&(Nt(W,W.e+R+2,0),W.times(W).eq(J))){F=W;break}et+=4,U+=4,$=1}else{(!+O||!+O.slice(1)&&O.charAt(0)=="5")&&(Nt(F,F.e+R+2,1),P=!F.times(F).eq(J));break}}return Nt(F,F.e+R+1,S,P)},p.toExponential=function(P,O){return P!=null&&(Xe(P,0,vn),P++),xt(this,P,O,1)},p.toFixed=function(P,O){return P!=null&&(Xe(P,0,vn),P=P+this.e+1),xt(this,P,O)},p.toFormat=function(P,O,F){var $,W=this;if(F==null)P!=null&&O&&typeof O=="object"?(F=O,O=null):P&&typeof P=="object"?(F=P,P=O=null):F=pt;else if(typeof F!="object")throw Error(ci+"Argument not an object: "+F);if($=W.toFixed(P,O),W.c){var J,q=$.split("."),U=+F.groupSize,X=+F.secondaryGroupSize,et=F.groupSeparator||"",A=q[0],it=q[1],H=W.s<0,z=H?A.slice(1):A,st=z.length;if(X&&(J=U,U=X,X=J,st-=J),U>0&&st>0){for(J=st%U||U,A=z.substr(0,J);J<st;J+=U)A+=et+z.substr(J,U);X>0&&(A+=et+z.slice(J)),H&&(A="-"+A)}$=it?A+(F.decimalSeparator||"")+((X=+F.fractionGroupSize)?it.replace(new RegExp("\\d{"+X+"}\\B","g"),"$&"+(F.fractionGroupSeparator||"")):it):A}return(F.prefix||"")+$+(F.suffix||"")},p.toFraction=function(P){var O,F,$,W,J,q,U,X,et,A,it,H,z=this,st=z.c;if(P!=null&&(U=new ut(P),!U.isInteger()&&(U.c||U.s!==1)||U.lt(C)))throw Error(ci+"Argument "+(U.isInteger()?"out of range: ":"not an integer: ")+Rt(U));if(!st)return new ut(z);for(O=new ut(C),et=F=new ut(C),$=X=new ut(C),H=Zi(st),J=O.e=H.length-z.e-1,O.c[0]=Th[(q=J%ae)<0?ae+q:q],P=!P||U.comparedTo(O)>0?J>0?O:et:U,q=D,D=1/0,U=new ut(H),X.c[0]=0;A=g(U,O,0,1),W=F.plus(A.times($)),W.comparedTo(P)!=1;)F=$,$=W,et=X.plus(A.times(W=et)),X=W,O=U.minus(A.times(W=O)),U=W;return W=g(P.minus(F),$,0,1),X=X.plus(W.times(et)),F=F.plus(W.times($)),X.s=et.s=z.s,J=J*2,it=g(et,$,J,S).minus(z).abs().comparedTo(g(X,F,J,S).minus(z).abs())<1?[et,$]:[X,F],D=q,it},p.toNumber=function(){return+Rt(this)},p.toPrecision=function(P,O){return P!=null&&Xe(P,1,vn),xt(this,P,O,2)},p.toString=function(P){var O,F=this,$=F.s,W=F.e;return W===null?$?(O="Infinity",$<0&&(O="-"+O)):O="NaN":(P==null?O=W<=b||W>=Z?Ku(Zi(F.c),W):cs(Zi(F.c),W,"0"):P===10&&Ft?(F=Nt(new ut(F),R+W+1,S),O=cs(Zi(F.c),F.e,"0")):(Xe(P,2,_t.length,"Base"),O=f(cs(Zi(F.c),W,"0"),10,P,$,!0)),$<0&&F.c[0]&&(O="-"+O)),O},p.valueOf=p.toJSON=function(){return Rt(this)},p._isBigNumber=!0,p[Symbol.toStringTag]="BigNumber",p[Symbol.for("nodejs.util.inspect.custom")]=p.valueOf,m!=null&&ut.set(m),ut}function qi(m){var g=m|0;return m>0||m===g?g:g-1}function Zi(m){for(var g,f,y=1,p=m.length,C=m[0]+"";y<p;){for(g=m[y++]+"",f=ae-g.length;f--;g="0"+g);C+=g}for(p=C.length;C.charCodeAt(--p)===48;);return C.slice(0,p+1||1)}function zo(m,g){var f,y,p=m.c,C=g.c,R=m.s,S=g.s,b=m.e,Z=g.e;if(!R||!S)return null;if(f=p&&!p[0],y=C&&!C[0],f||y)return f?y?0:-S:R;if(R!=S)return R;if(f=R<0,y=b==Z,!p||!C)return y?0:!p^f?1:-1;if(!y)return b>Z^f?1:-1;for(S=(b=p.length)<(Z=C.length)?b:Z,R=0;R<S;R++)if(p[R]!=C[R])return p[R]>C[R]^f?1:-1;return b==Z?0:b>Z^f?1:-1}function Xe(m,g,f,y){if(m<g||m>f||m!==Ui(m))throw Error(ci+(y||"Argument")+(typeof m=="number"?m<g||m>f?" out of range: ":" not an integer: ":" not a primitive number: ")+String(m))}function ju(m){var g=m.c.length-1;return qi(m.e/ae)==g&&m.c[g]%2!=0}function Ku(m,g){return(m.length>1?m.charAt(0)+"."+m.slice(1):m)+(g<0?"e":"e+")+g}function cs(m,g,f){var y,p;if(g<0){for(p=f+".";++g;p+=f);m=p+m}else if(y=m.length,++g>y){for(p=f,g-=y;--g;p+=f);m+=p}else g<y&&(m=m.slice(0,g)+"."+m.slice(g));return m}var zr=Md(),Fm=class{key;left=null;right=null;constructor(m){this.key=m}},Ga=class extends Fm{constructor(m){super(m)}},Bm=class{size=0;modificationCount=0;splayCount=0;splay(m){const g=this.root;if(g==null)return this.compare(m,m),-1;let f=null,y=null,p=null,C=null,R=g;const S=this.compare;let b;for(;;)if(b=S(R.key,m),b>0){let Z=R.left;if(Z==null||(b=S(Z.key,m),b>0&&(R.left=Z.right,Z.right=R,R=Z,Z=R.left,Z==null)))break;f==null?y=R:f.left=R,f=R,R=Z}else if(b<0){let Z=R.right;if(Z==null||(b=S(Z.key,m),b<0&&(R.right=Z.left,Z.left=R,R=Z,Z=R.right,Z==null)))break;p==null?C=R:p.right=R,p=R,R=Z}else break;return p!=null&&(p.right=R.left,R.left=C),f!=null&&(f.left=R.right,R.right=y),this.root!==R&&(this.root=R,this.splayCount++),b}splayMin(m){let g=m,f=g.left;for(;f!=null;){const y=f;g.left=y.right,y.right=g,g=y,f=g.left}return g}splayMax(m){let g=m,f=g.right;for(;f!=null;){const y=f;g.right=y.left,y.left=g,g=y,f=g.right}return g}_delete(m){if(this.root==null||this.splay(m)!=0)return null;let f=this.root;const y=f,p=f.left;if(this.size--,p==null)this.root=f.right;else{const C=f.right;f=this.splayMax(p),f.right=C,this.root=f}return this.modificationCount++,y}addNewRoot(m,g){this.size++,this.modificationCount++;const f=this.root;if(f==null){this.root=m;return}g<0?(m.left=f,m.right=f.right,f.right=null):(m.right=f,m.left=f.left,f.left=null),this.root=m}_first(){const m=this.root;return m==null?null:(this.root=this.splayMin(m),this.root)}_last(){const m=this.root;return m==null?null:(this.root=this.splayMax(m),this.root)}clear(){this.root=null,this.size=0,this.modificationCount++}has(m){return this.validKey(m)&&this.splay(m)==0}defaultCompare(){return(m,g)=>m<g?-1:m>g?1:0}wrap(){return{getRoot:()=>this.root,setRoot:m=>{this.root=m},getSize:()=>this.size,getModificationCount:()=>this.modificationCount,getSplayCount:()=>this.splayCount,setSplayCount:m=>{this.splayCount=m},splay:m=>this.splay(m),has:m=>this.has(m)}}},al=class Ha extends Bm{root=null;compare;validKey;constructor(g,f){super(),this.compare=g??this.defaultCompare(),this.validKey=f??(y=>y!=null&&y!=null)}delete(g){return this.validKey(g)?this._delete(g)!=null:!1}deleteAll(g){for(const f of g)this.delete(f)}forEach(g){const f=this[Symbol.iterator]();let y;for(;y=f.next(),!y.done;)g(y.value,y.value,this)}add(g){const f=this.splay(g);return f!=0&&this.addNewRoot(new Ga(g),f),this}addAndReturn(g){const f=this.splay(g);return f!=0&&this.addNewRoot(new Ga(g),f),this.root.key}addAll(g){for(const f of g)this.add(f)}isEmpty(){return this.root==null}isNotEmpty(){return this.root!=null}single(){if(this.size==0)throw"Bad state: No element";if(this.size>1)throw"Bad state: Too many element";return this.root.key}first(){if(this.size==0)throw"Bad state: No element";return this._first().key}last(){if(this.size==0)throw"Bad state: No element";return this._last().key}lastBefore(g){if(g==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(g)<0)return this.root.key;let y=this.root.left;if(y==null)return null;let p=y.right;for(;p!=null;)y=p,p=y.right;return y.key}firstAfter(g){if(g==null)throw"Invalid arguments(s)";if(this.root==null)return null;if(this.splay(g)>0)return this.root.key;let y=this.root.right;if(y==null)return null;let p=y.left;for(;p!=null;)y=p,p=y.left;return y.key}retainAll(g){const f=new Ha(this.compare,this.validKey),y=this.modificationCount;for(const p of g){if(y!=this.modificationCount)throw"Concurrent modification during iteration.";this.validKey(p)&&this.splay(p)==0&&f.add(this.root.key)}f.size!=this.size&&(this.root=f.root,this.size=f.size,this.modificationCount++)}lookup(g){return!this.validKey(g)||this.splay(g)!=0?null:this.root.key}intersection(g){const f=new Ha(this.compare,this.validKey);for(const y of this)g.has(y)&&f.add(y);return f}difference(g){const f=new Ha(this.compare,this.validKey);for(const y of this)g.has(y)||f.add(y);return f}union(g){const f=this.clone();return f.addAll(g),f}clone(){const g=new Ha(this.compare,this.validKey);return g.size=this.size,g.root=this.copyNode(this.root),g}copyNode(g){if(g==null)return null;function f(p,C){let R,S;do{if(R=p.left,S=p.right,R!=null){const b=new Ga(R.key);C.left=b,f(R,b)}if(S!=null){const b=new Ga(S.key);C.right=b,p=S,C=b}}while(S!=null)}const y=new Ga(g.key);return f(g,y),y}toSet(){return this.clone()}entries(){return new Zm(this.wrap())}keys(){return this[Symbol.iterator]()}values(){return this[Symbol.iterator]()}[Symbol.iterator](){return new Gm(this.wrap())}[Symbol.toStringTag]="[object Set]"},Ad=class{tree;path=new Array;modificationCount=null;splayCount;constructor(m){this.tree=m,this.splayCount=m.getSplayCount()}[Symbol.iterator](){return this}next(){return this.moveNext()?{done:!1,value:this.current()}:{done:!0,value:null}}current(){if(!this.path.length)return null;const m=this.path[this.path.length-1];return this.getValue(m)}rebuildPath(m){this.path.splice(0,this.path.length),this.tree.splay(m),this.path.push(this.tree.getRoot()),this.splayCount=this.tree.getSplayCount()}findLeftMostDescendent(m){for(;m!=null;)this.path.push(m),m=m.left}moveNext(){if(this.modificationCount!=this.tree.getModificationCount()){if(this.modificationCount==null){this.modificationCount=this.tree.getModificationCount();let f=this.tree.getRoot();for(;f!=null;)this.path.push(f),f=f.left;return this.path.length>0}throw"Concurrent modification during iteration."}if(!this.path.length)return!1;this.splayCount!=this.tree.getSplayCount()&&this.rebuildPath(this.path[this.path.length-1].key);let m=this.path[this.path.length-1],g=m.right;if(g!=null){for(;g!=null;)this.path.push(g),g=g.left;return!0}for(this.path.pop();this.path.length&&this.path[this.path.length-1].right===m;)m=this.path.pop();return this.path.length>0}},Gm=class extends Ad{getValue(m){return m.key}},Zm=class extends Ad{getValue(m){return[m.key,m.key]}},Dd=m=>()=>m,Dh=m=>{const g=m?(f,y)=>y.minus(f).abs().isLessThanOrEqualTo(m):Dd(!1);return(f,y)=>g(f,y)?0:f.comparedTo(y)};function Um(m){const g=m?(f,y,p,C,R)=>f.exponentiatedBy(2).isLessThanOrEqualTo(C.minus(y).exponentiatedBy(2).plus(R.minus(p).exponentiatedBy(2)).times(m)):Dd(!1);return(f,y,p)=>{const C=f.x,R=f.y,S=p.x,b=p.y,Z=R.minus(b).times(y.x.minus(S)).minus(C.minus(S).times(y.y.minus(b)));return g(Z,C,R,S,b)?0:Z.comparedTo(0)}}var qm=m=>m,Ym=m=>{if(m){const g=new al(Dh(m)),f=new al(Dh(m)),y=(C,R)=>R.addAndReturn(C),p=C=>({x:y(C.x,g),y:y(C.y,f)});return p({x:new zr(0),y:new zr(0)}),p}return qm},zh=m=>({set:g=>{fs=zh(g)},reset:()=>zh(m),compare:Dh(m),snap:Ym(m),orient:Um(m)}),fs=zh(),Za=(m,g)=>m.ll.x.isLessThanOrEqualTo(g.x)&&g.x.isLessThanOrEqualTo(m.ur.x)&&m.ll.y.isLessThanOrEqualTo(g.y)&&g.y.isLessThanOrEqualTo(m.ur.y),bh=(m,g)=>{if(g.ur.x.isLessThan(m.ll.x)||m.ur.x.isLessThan(g.ll.x)||g.ur.y.isLessThan(m.ll.y)||m.ur.y.isLessThan(g.ll.y))return null;const f=m.ll.x.isLessThan(g.ll.x)?g.ll.x:m.ll.x,y=m.ur.x.isLessThan(g.ur.x)?m.ur.x:g.ur.x,p=m.ll.y.isLessThan(g.ll.y)?g.ll.y:m.ll.y,C=m.ur.y.isLessThan(g.ur.y)?m.ur.y:g.ur.y;return{ll:{x:f,y:p},ur:{x:y,y:C}}},tl=(m,g)=>m.x.times(g.y).minus(m.y.times(g.x)),zd=(m,g)=>m.x.times(g.x).plus(m.y.times(g.y)),ul=m=>zd(m,m).sqrt(),Hm=(m,g,f)=>{const y={x:g.x.minus(m.x),y:g.y.minus(m.y)},p={x:f.x.minus(m.x),y:f.y.minus(m.y)};return tl(p,y).div(ul(p)).div(ul(y))},Vm=(m,g,f)=>{const y={x:g.x.minus(m.x),y:g.y.minus(m.y)},p={x:f.x.minus(m.x),y:f.y.minus(m.y)};return zd(p,y).div(ul(p)).div(ul(y))},nd=(m,g,f)=>g.y.isZero()?null:{x:m.x.plus(g.x.div(g.y).times(f.minus(m.y))),y:f},id=(m,g,f)=>g.x.isZero()?null:{x:f,y:m.y.plus(g.y.div(g.x).times(f.minus(m.x)))},Wm=(m,g,f,y)=>{if(g.x.isZero())return id(f,y,m.x);if(y.x.isZero())return id(m,g,f.x);if(g.y.isZero())return nd(f,y,m.y);if(y.y.isZero())return nd(m,g,f.y);const p=tl(g,y);if(p.isZero())return null;const C={x:f.x.minus(m.x),y:f.y.minus(m.y)},R=tl(C,g).div(p),S=tl(C,y).div(p),b=m.x.plus(S.times(g.x)),Z=f.x.plus(R.times(y.x)),Y=m.y.plus(S.times(g.y)),D=f.y.plus(R.times(y.y)),K=b.plus(Z).div(2),ct=Y.plus(D).div(2);return{x:K,y:ct}},Ar=class bd{point;isLeft;segment;otherSE;consumedBy;static compare(g,f){const y=bd.comparePoints(g.point,f.point);return y!==0?y:(g.point!==f.point&&g.link(f),g.isLeft!==f.isLeft?g.isLeft?1:-1:hl.compare(g.segment,f.segment))}static comparePoints(g,f){return g.x.isLessThan(f.x)?-1:g.x.isGreaterThan(f.x)?1:g.y.isLessThan(f.y)?-1:g.y.isGreaterThan(f.y)?1:0}constructor(g,f){g.events===void 0?g.events=[this]:g.events.push(this),this.point=g,this.isLeft=f}link(g){if(g.point===this.point)throw new Error("Tried to link already linked events");const f=g.point.events;for(let y=0,p=f.length;y<p;y++){const C=f[y];this.point.events.push(C),C.point=this.point}this.checkForConsuming()}checkForConsuming(){const g=this.point.events.length;for(let f=0;f<g;f++){const y=this.point.events[f];if(y.segment.consumedBy===void 0)for(let p=f+1;p<g;p++){const C=this.point.events[p];C.consumedBy===void 0&&y.otherSE.point.events===C.otherSE.point.events&&y.segment.consume(C.segment)}}}getAvailableLinkedEvents(){const g=[];for(let f=0,y=this.point.events.length;f<y;f++){const p=this.point.events[f];p!==this&&!p.segment.ringOut&&p.segment.isInResult()&&g.push(p)}return g}getLeftmostComparator(g){const f=new Map,y=p=>{const C=p.otherSE;f.set(p,{sine:Hm(this.point,g.point,C.point),cosine:Vm(this.point,g.point,C.point)})};return(p,C)=>{f.has(p)||y(p),f.has(C)||y(C);const{sine:R,cosine:S}=f.get(p),{sine:b,cosine:Z}=f.get(C);return R.isGreaterThanOrEqualTo(0)&&b.isGreaterThanOrEqualTo(0)?S.isLessThan(Z)?1:S.isGreaterThan(Z)?-1:0:R.isLessThan(0)&&b.isLessThan(0)?S.isLessThan(Z)?-1:S.isGreaterThan(Z)?1:0:b.isLessThan(R)?-1:b.isGreaterThan(R)?1:0}}},Xm=class Fh{events;poly;_isExteriorRing;_enclosingRing;static factory(g){const f=[];for(let y=0,p=g.length;y<p;y++){const C=g[y];if(!C.isInResult()||C.ringOut)continue;let R=null,S=C.leftSE,b=C.rightSE;const Z=[S],Y=S.point,D=[];for(;R=S,S=b,Z.push(S),S.point!==Y;)for(;;){const K=S.getAvailableLinkedEvents();if(K.length===0){const pt=Z[0].point,_t=Z[Z.length-1].point;throw new Error(`Unable to complete output ring starting at [${pt.x}, ${pt.y}]. Last matching segment found ends at [${_t.x}, ${_t.y}].`)}if(K.length===1){b=K[0].otherSE;break}let ct=null;for(let pt=0,_t=D.length;pt<_t;pt++)if(D[pt].point===S.point){ct=pt;break}if(ct!==null){const pt=D.splice(ct)[0],_t=Z.splice(pt.index);_t.unshift(_t[0].otherSE),f.push(new Fh(_t.reverse()));continue}D.push({index:Z.length,point:S.point});const rt=S.getLeftmostComparator(R);b=K.sort(rt)[0].otherSE;break}f.push(new Fh(Z))}return f}constructor(g){this.events=g;for(let f=0,y=g.length;f<y;f++)g[f].segment.ringOut=this;this.poly=null}getGeom(){let g=this.events[0].point;const f=[g];for(let Z=1,Y=this.events.length-1;Z<Y;Z++){const D=this.events[Z].point,K=this.events[Z+1].point;fs.orient(D,g,K)!==0&&(f.push(D),g=D)}if(f.length===1)return null;const y=f[0],p=f[1];fs.orient(y,g,p)===0&&f.shift(),f.push(f[0]);const C=this.isExteriorRing()?1:-1,R=this.isExteriorRing()?0:f.length-1,S=this.isExteriorRing()?f.length:-1,b=[];for(let Z=R;Z!=S;Z+=C)b.push([f[Z].x.toNumber(),f[Z].y.toNumber()]);return b}isExteriorRing(){if(this._isExteriorRing===void 0){const g=this.enclosingRing();this._isExteriorRing=g?!g.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let g=this.events[0];for(let p=1,C=this.events.length;p<C;p++){const R=this.events[p];Ar.compare(g,R)>0&&(g=R)}let f=g.segment.prevInResult(),y=f?f.prevInResult():null;for(;;){if(!f)return null;if(!y)return f.ringOut;if(y.ringOut!==f.ringOut)return y.ringOut?.enclosingRing()!==f.ringOut?f.ringOut:f.ringOut?.enclosingRing();f=y.prevInResult(),y=f?f.prevInResult():null}}},rd=class{exteriorRing;interiorRings;constructor(m){this.exteriorRing=m,m.poly=this,this.interiorRings=[]}addInterior(m){this.interiorRings.push(m),m.poly=this}getGeom(){const m=this.exteriorRing.getGeom();if(m===null)return null;const g=[m];for(let f=0,y=this.interiorRings.length;f<y;f++){const p=this.interiorRings[f].getGeom();p!==null&&g.push(p)}return g}},jm=class{rings;polys;constructor(m){this.rings=m,this.polys=this._composePolys(m)}getGeom(){const m=[];for(let g=0,f=this.polys.length;g<f;g++){const y=this.polys[g].getGeom();y!==null&&m.push(y)}return m}_composePolys(m){const g=[];for(let f=0,y=m.length;f<y;f++){const p=m[f];if(!p.poly)if(p.isExteriorRing())g.push(new rd(p));else{const C=p.enclosingRing();C?.poly||g.push(new rd(C)),C?.poly?.addInterior(p)}}return g}},Km=class{queue;tree;segments;constructor(m,g=hl.compare){this.queue=m,this.tree=new al(g),this.segments=[]}process(m){const g=m.segment,f=[];if(m.consumedBy)return m.isLeft?this.queue.delete(m.otherSE):this.tree.delete(g),f;m.isLeft&&this.tree.add(g);let y=g,p=g;do y=this.tree.lastBefore(y);while(y!=null&&y.consumedBy!=null);do p=this.tree.firstAfter(p);while(p!=null&&p.consumedBy!=null);if(m.isLeft){let C=null;if(y){const S=y.getIntersection(g);if(S!==null&&(g.isAnEndpoint(S)||(C=S),!y.isAnEndpoint(S))){const b=this._splitSafely(y,S);for(let Z=0,Y=b.length;Z<Y;Z++)f.push(b[Z])}}let R=null;if(p){const S=p.getIntersection(g);if(S!==null&&(g.isAnEndpoint(S)||(R=S),!p.isAnEndpoint(S))){const b=this._splitSafely(p,S);for(let Z=0,Y=b.length;Z<Y;Z++)f.push(b[Z])}}if(C!==null||R!==null){let S=null;C===null?S=R:R===null?S=C:S=Ar.comparePoints(C,R)<=0?C:R,this.queue.delete(g.rightSE),f.push(g.rightSE);const b=g.split(S);for(let Z=0,Y=b.length;Z<Y;Z++)f.push(b[Z])}f.length>0?(this.tree.delete(g),f.push(m)):(this.segments.push(g),g.prev=y)}else{if(y&&p){const C=y.getIntersection(p);if(C!==null){if(!y.isAnEndpoint(C)){const R=this._splitSafely(y,C);for(let S=0,b=R.length;S<b;S++)f.push(R[S])}if(!p.isAnEndpoint(C)){const R=this._splitSafely(p,C);for(let S=0,b=R.length;S<b;S++)f.push(R[S])}}}this.tree.delete(g)}return f}_splitSafely(m,g){this.tree.delete(m);const f=m.rightSE;this.queue.delete(f);const y=m.split(g);return y.push(f),m.consumedBy===void 0&&this.tree.add(m),y}},$m=class{type;numMultiPolys;run(m,g,f){Va.type=m;const y=[new od(g,!0)];for(let Z=0,Y=f.length;Z<Y;Z++)y.push(new od(f[Z],!1));if(Va.numMultiPolys=y.length,Va.type==="difference"){const Z=y[0];let Y=1;for(;Y<y.length;)bh(y[Y].bbox,Z.bbox)!==null?Y++:y.splice(Y,1)}if(Va.type==="intersection")for(let Z=0,Y=y.length;Z<Y;Z++){const D=y[Z];for(let K=Z+1,ct=y.length;K<ct;K++)if(bh(D.bbox,y[K].bbox)===null)return[]}const p=new al(Ar.compare);for(let Z=0,Y=y.length;Z<Y;Z++){const D=y[Z].getSweepEvents();for(let K=0,ct=D.length;K<ct;K++)p.add(D[K])}const C=new Km(p);let R=null;for(p.size!=0&&(R=p.first(),p.delete(R));R;){const Z=C.process(R);for(let Y=0,D=Z.length;Y<D;Y++){const K=Z[Y];K.consumedBy===void 0&&p.add(K)}p.size!=0?(R=p.first(),p.delete(R)):R=null}fs.reset();const S=Xm.factory(C.segments);return new jm(S).getGeom()}},Va=new $m,ll=Va,Qm=0,hl=class el{id;leftSE;rightSE;rings;windings;ringOut;consumedBy;prev;_prevInResult;_beforeState;_afterState;_isInResult;static compare(g,f){const y=g.leftSE.point.x,p=f.leftSE.point.x,C=g.rightSE.point.x,R=f.rightSE.point.x;if(R.isLessThan(y))return 1;if(C.isLessThan(p))return-1;const S=g.leftSE.point.y,b=f.leftSE.point.y,Z=g.rightSE.point.y,Y=f.rightSE.point.y;if(y.isLessThan(p)){if(b.isLessThan(S)&&b.isLessThan(Z))return 1;if(b.isGreaterThan(S)&&b.isGreaterThan(Z))return-1;const D=g.comparePoint(f.leftSE.point);if(D<0)return 1;if(D>0)return-1;const K=f.comparePoint(g.rightSE.point);return K!==0?K:-1}if(y.isGreaterThan(p)){if(S.isLessThan(b)&&S.isLessThan(Y))return-1;if(S.isGreaterThan(b)&&S.isGreaterThan(Y))return 1;const D=f.comparePoint(g.leftSE.point);if(D!==0)return D;const K=g.comparePoint(f.rightSE.point);return K<0?1:K>0?-1:1}if(S.isLessThan(b))return-1;if(S.isGreaterThan(b))return 1;if(C.isLessThan(R)){const D=f.comparePoint(g.rightSE.point);if(D!==0)return D}if(C.isGreaterThan(R)){const D=g.comparePoint(f.rightSE.point);if(D<0)return 1;if(D>0)return-1}if(!C.eq(R)){const D=Z.minus(S),K=C.minus(y),ct=Y.minus(b),rt=R.minus(p);if(D.isGreaterThan(K)&&ct.isLessThan(rt))return 1;if(D.isLessThan(K)&&ct.isGreaterThan(rt))return-1}return C.isGreaterThan(R)?1:C.isLessThan(R)||Z.isLessThan(Y)?-1:Z.isGreaterThan(Y)?1:g.id<f.id?-1:g.id>f.id?1:0}constructor(g,f,y,p){this.id=++Qm,this.leftSE=g,g.segment=this,g.otherSE=f,this.rightSE=f,f.segment=this,f.otherSE=g,this.rings=y,this.windings=p}static fromRing(g,f,y){let p,C,R;const S=Ar.comparePoints(g,f);if(S<0)p=g,C=f,R=1;else if(S>0)p=f,C=g,R=-1;else throw new Error(`Tried to create degenerate segment at [${g.x}, ${g.y}]`);const b=new Ar(p,!0),Z=new Ar(C,!1);return new el(b,Z,[y],[R])}replaceRightSE(g){this.rightSE=g,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const g=this.leftSE.point.y,f=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:g.isLessThan(f)?g:f},ur:{x:this.rightSE.point.x,y:g.isGreaterThan(f)?g:f}}}vector(){return{x:this.rightSE.point.x.minus(this.leftSE.point.x),y:this.rightSE.point.y.minus(this.leftSE.point.y)}}isAnEndpoint(g){return g.x.eq(this.leftSE.point.x)&&g.y.eq(this.leftSE.point.y)||g.x.eq(this.rightSE.point.x)&&g.y.eq(this.rightSE.point.y)}comparePoint(g){return fs.orient(this.leftSE.point,g,this.rightSE.point)}getIntersection(g){const f=this.bbox(),y=g.bbox(),p=bh(f,y);if(p===null)return null;const C=this.leftSE.point,R=this.rightSE.point,S=g.leftSE.point,b=g.rightSE.point,Z=Za(f,S)&&this.comparePoint(S)===0,Y=Za(y,C)&&g.comparePoint(C)===0,D=Za(f,b)&&this.comparePoint(b)===0,K=Za(y,R)&&g.comparePoint(R)===0;if(Y&&Z)return K&&!D?R:!K&&D?b:null;if(Y)return D&&C.x.eq(b.x)&&C.y.eq(b.y)?null:C;if(Z)return K&&R.x.eq(S.x)&&R.y.eq(S.y)?null:S;if(K&&D)return null;if(K)return R;if(D)return b;const ct=Wm(C,this.vector(),S,g.vector());return ct===null||!Za(p,ct)?null:fs.snap(ct)}split(g){const f=[],y=g.events!==void 0,p=new Ar(g,!0),C=new Ar(g,!1),R=this.rightSE;this.replaceRightSE(C),f.push(C),f.push(p);const S=new el(p,R,this.rings.slice(),this.windings.slice());return Ar.comparePoints(S.leftSE.point,S.rightSE.point)>0&&S.swapEvents(),Ar.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),y&&(p.checkForConsuming(),C.checkForConsuming()),f}swapEvents(){const g=this.rightSE;this.rightSE=this.leftSE,this.leftSE=g,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let f=0,y=this.windings.length;f<y;f++)this.windings[f]*=-1}consume(g){let f=this,y=g;for(;f.consumedBy;)f=f.consumedBy;for(;y.consumedBy;)y=y.consumedBy;const p=el.compare(f,y);if(p!==0){if(p>0){const C=f;f=y,y=C}if(f.prev===y){const C=f;f=y,y=C}for(let C=0,R=y.rings.length;C<R;C++){const S=y.rings[C],b=y.windings[C],Z=f.rings.indexOf(S);Z===-1?(f.rings.push(S),f.windings.push(b)):f.windings[Z]+=b}y.rings=null,y.windings=null,y.consumedBy=f,y.leftSE.consumedBy=f.leftSE,y.rightSE.consumedBy=f.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{const g=this.prev.consumedBy||this.prev;this._beforeState=g.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;const g=this.beforeState();this._afterState={rings:g.rings.slice(0),windings:g.windings.slice(0),multiPolys:[]};const f=this._afterState.rings,y=this._afterState.windings,p=this._afterState.multiPolys;for(let S=0,b=this.rings.length;S<b;S++){const Z=this.rings[S],Y=this.windings[S],D=f.indexOf(Z);D===-1?(f.push(Z),y.push(Y)):y[D]+=Y}const C=[],R=[];for(let S=0,b=f.length;S<b;S++){if(y[S]===0)continue;const Z=f[S],Y=Z.poly;if(R.indexOf(Y)===-1)if(Z.isExterior)C.push(Y);else{R.indexOf(Y)===-1&&R.push(Y);const D=C.indexOf(Z.poly);D!==-1&&C.splice(D,1)}}for(let S=0,b=C.length;S<b;S++){const Z=C[S].multiPoly;p.indexOf(Z)===-1&&p.push(Z)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;const g=this.beforeState().multiPolys,f=this.afterState().multiPolys;switch(ll.type){case"union":{const y=g.length===0,p=f.length===0;this._isInResult=y!==p;break}case"intersection":{let y,p;g.length<f.length?(y=g.length,p=f.length):(y=f.length,p=g.length),this._isInResult=p===ll.numMultiPolys&&y<p;break}case"xor":{const y=Math.abs(g.length-f.length);this._isInResult=y%2===1;break}case"difference":{const y=p=>p.length===1&&p[0].isSubject;this._isInResult=y(g)!==y(f);break}}return this._isInResult}},sd=class{poly;isExterior;segments;bbox;constructor(m,g,f){if(!Array.isArray(m)||m.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=g,this.isExterior=f,this.segments=[],typeof m[0][0]!="number"||typeof m[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const y=fs.snap({x:new zr(m[0][0]),y:new zr(m[0][1])});this.bbox={ll:{x:y.x,y:y.y},ur:{x:y.x,y:y.y}};let p=y;for(let C=1,R=m.length;C<R;C++){if(typeof m[C][0]!="number"||typeof m[C][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const S=fs.snap({x:new zr(m[C][0]),y:new zr(m[C][1])});S.x.eq(p.x)&&S.y.eq(p.y)||(this.segments.push(hl.fromRing(p,S,this)),S.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=S.x),S.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=S.y),S.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=S.x),S.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=S.y),p=S)}(!y.x.eq(p.x)||!y.y.eq(p.y))&&this.segments.push(hl.fromRing(p,y,this))}getSweepEvents(){const m=[];for(let g=0,f=this.segments.length;g<f;g++){const y=this.segments[g];m.push(y.leftSE),m.push(y.rightSE)}return m}},Jm=class{multiPoly;exteriorRing;interiorRings;bbox;constructor(m,g){if(!Array.isArray(m))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new sd(m[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let f=1,y=m.length;f<y;f++){const p=new sd(m[f],this,!1);p.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=p.bbox.ll.x),p.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=p.bbox.ll.y),p.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=p.bbox.ur.x),p.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=p.bbox.ur.y),this.interiorRings.push(p)}this.multiPoly=g}getSweepEvents(){const m=this.exteriorRing.getSweepEvents();for(let g=0,f=this.interiorRings.length;g<f;g++){const y=this.interiorRings[g].getSweepEvents();for(let p=0,C=y.length;p<C;p++)m.push(y[p])}return m}},od=class{isSubject;polys;bbox;constructor(m,g){if(!Array.isArray(m))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof m[0][0][0]=="number"&&(m=[m])}catch{}this.polys=[],this.bbox={ll:{x:new zr(Number.POSITIVE_INFINITY),y:new zr(Number.POSITIVE_INFINITY)},ur:{x:new zr(Number.NEGATIVE_INFINITY),y:new zr(Number.NEGATIVE_INFINITY)}};for(let f=0,y=m.length;f<y;f++){const p=new Jm(m[f],this);p.bbox.ll.x.isLessThan(this.bbox.ll.x)&&(this.bbox.ll.x=p.bbox.ll.x),p.bbox.ll.y.isLessThan(this.bbox.ll.y)&&(this.bbox.ll.y=p.bbox.ll.y),p.bbox.ur.x.isGreaterThan(this.bbox.ur.x)&&(this.bbox.ur.x=p.bbox.ur.x),p.bbox.ur.y.isGreaterThan(this.bbox.ur.y)&&(this.bbox.ur.y=p.bbox.ur.y),this.polys.push(p)}this.isSubject=g}getSweepEvents(){const m=[];for(let g=0,f=this.polys.length;g<f;g++){const y=this.polys[g].getSweepEvents();for(let p=0,C=y.length;p<C;p++)m.push(y[p])}return m}},tp=(m,...g)=>ll.run("union",m,g),ep=(m,...g)=>ll.run("difference",m,g);fs.set;function np(m,g={}){const f=[];if(fl(m,p=>{f.push(p.coordinates)}),f.length<2)throw new Error("Must have at least 2 geometries");const y=tp(f[0],...f.slice(1));return y.length===0?null:y.length===1?aa(y[0],g.properties):pd(y,g.properties)}function ip(m){const g=[];if(fl(m,p=>{g.push(p.coordinates)}),g.length<2)throw new Error("Must have at least two features");const f=m.features[0].properties||{},y=ep(g[0],...g.slice(1));return y.length===0?null:y.length===1?aa(y[0],f):pd(y,f)}const rp=aa([[[-180,-90],[180,-90],[180,90],[-180,90],[-180,-90]]]),sp={units:"meters",steps:8},op=(m,g,f=2)=>{const y=up(m);if(y.length===0)return{mask:null,fogRings:[]};const p=Fd(y,g),C=Bh([rp,p]);let R=ap(f,g,y,p);return{mask:C,fogRings:R}},ap=(m,g,f,y)=>{if(m<=0)return[];const p=g/(m+1),C=[];for(let S=1;S<=m;S++){const b=p*S,Z=Fd(f,b);C.push(Z)}return C.reverse().map((S,b)=>{const Z=b===0?null:Bh([y,C[b-1]]);return Bh(Z?[y,S,Z]:[y,S])}).filter(S=>S!==null).reverse()},up=m=>m.map(g=>g.points.map(f=>[f.lng,f.lat])).filter(g=>g.length>=2).map(g=>Qg(g)),Fd=(m,g)=>{if(m.length<=0)return aa([]);const f=Dm(ja(m),g,sp);return!f||f.features.length===0?aa([]):f.features.length===1?f.features[0]:np(f)??aa([])},Bh=m=>ip(ja(m)),lp=({mask:m,routes:g,maskColor:f="#000",opacity:y=.9})=>{let p=y/(g.length+1);return m?In.jsxs(Yg,{children:[In.jsx(Af,{data:m,pathOptions:{interactive:!1,fillColor:f,fillOpacity:y,weight:0}}),g.map((C,R)=>In.jsx(Af,{data:C,pathOptions:{interactive:!1,fillColor:f,fillOpacity:p*(R+1),weight:0}},R))]}):null},hp=m=>m.filter((g,f,y)=>{if(f===0)return!0;const p=y[f-1];return g.lat!==p.lat||g.lng!==p.lng}),cp=async(m,g="Imported GPX")=>{const y=new DOMParser().parseFromString(m,"application/xml"),p=y.querySelector("trk > name")?.textContent?.trim()||g,C=y.querySelector("trk > desc")?.textContent?.trim()||void 0,R=[];y.querySelectorAll("trkpt").forEach(Z=>{const Y=parseFloat(Z.getAttribute("lat")||""),D=parseFloat(Z.getAttribute("lon")||""),K=Z.querySelector("time")?.textContent;R.push({lat:Y,lng:D,timestamp:K?Date.parse(K):void 0})});const S=hp(R),b=fp(S,5);return console.log(`GPX Import: ${R.length} points, ${S.length} after dedupe, ${b.length} after simplification.`),{name:p,description:C,points:b}},fp=(m,g=10)=>{if(m.length<3)return m;const f=(C,R,S)=>{const b=(R.lat+S.lat)/2*(Math.PI/180),Z=111320,Y=111320*Math.cos(b),D=(C.lng-R.lng)*Y,K=(C.lat-R.lat)*Z,ct=0,rt=0,pt=(S.lng-R.lng)*Y,_t=(S.lat-R.lat)*Z,Ft=Math.abs((_t-rt)*D-(pt-ct)*K),ut=Math.sqrt((_t-rt)**2+(pt-ct)**2);return ut===0?0:Ft/ut},y=(C,R,S,b,Z)=>{let Y=0,D=C;for(let K=C+1;K<R;K++){const ct=f(S[K],S[C],S[R]);ct>Y&&(Y=ct,D=K)}Y>b&&(Z[D]=!0,y(C,D,S,b,Z),y(D,R,S,b,Z))},p=Array(m.length).fill(!1);return p[0]=!0,p[m.length-1]=!0,y(0,m.length-1,m,g,p),m.filter((C,R)=>p[R])},dp=m=>{const[g,f]=he.useState([]);return he.useEffect(()=>{Promise.all(m.map(y=>fetch(y).then(p=>p.text()).then(p=>cp(p,y)))).then(y=>f(y)).catch(y=>{console.error("Failed to load GPX files:",y),f([])})},[m]),g},ad=Js.latLng(47.401263,8.533942),gp=60,mp=1,pp=["/routes/Workout-2021-08-21-16-51-18.gpx","/routes/Workout-2023-07-27-15-57-27.gpx","/routes/Workout-2023-08-03-17-11-26.gpx","/routes/Workout-2023-08-10-15-36-57.gpx","/routes/Workout-2023-12-19-10-55-33.gpx","/routes/Workout-2024-07-16-16-07-28.gpx","/routes/Workout-2025-07-17-16-12-28.gpx","/routes/Workout-2025-08-16-10-28-36.gpx","/routes/Workout-2025-09-03-19-54-14.gpx"],vp=()=>{const m=ad,g=dp(pp),f=he.useMemo(()=>op(g,gp,mp),[g]);return g.length?In.jsxs(Xg,{center:ad,zoom:15,style:{height:"100vh"},children:[In.jsxs(Wa,{position:"topright",children:[In.jsx(Wa.BaseLayer,{checked:!0,name:"OpenStreetMap",children:In.jsx(Df,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"})}),In.jsx(Wa.BaseLayer,{name:"Esri Satellite",children:In.jsx(Df,{url:"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}"})})]}),In.jsx(lp,{mask:f.mask,routes:f.fogRings}),In.jsx(jg,{position:[m.lat,m.lng],children:In.jsx(Kg,{children:"Mocked user location"})})]}):In.jsx("div",{children:"Loading GPX data"})},_p=()=>In.jsx("div",{className:"flex flex-col h-screen",children:In.jsx(vp,{})}),yp=Tg.createRoot(document.getElementById("root"));yp.render(In.jsx(Xa.StrictMode,{children:In.jsx(_p,{})}));
